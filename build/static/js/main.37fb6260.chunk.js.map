{"version":3,"sources":["app/NotFoundPage.js","services/events.service.js","configuration.js","services/query.service.js","enums.js","services/user.service.js","schemes/Schemes.js","components/select/components.js","components/select/styles.js","components/select/index.js","schemes/components/Enrollments.js","schemes/components/SchemeDetails.js","schemes/components/MatchDetailsEdit.js","schemes/components/MatchDetails.js","schemes/components/MatchesList.js","schemes/components/SchemeActions.js","schemes/SchemeView.js","editions/FutureEditions.js","schemes/index.js","editions/CurrentEditions.js","editions/PreviousEditions.js","editions/Editions.js","editions/EditionView.js","editions/index.js","components/EnumSelect.js","components/select/AsyncSelect.js","components/L10n.js","utils.js","schedule/reservation/EditReservationModal.js","schedule/reservation/styles.js","schedule/reservation/AdminReservation.js","schedule/reservation/ViewReservationModal.js","schedule/reservation/UserReservation.js","schedule/reservation/GuestReservation.js","schedule/reservation/Reservation.js","schedule/reservation/ShuffleItem.js","components/calendar/DateComponent.js","components/calendar/Calendar.js","schedule/Legend.js","components/ConfirmationDialog.js","schedule/Schedule.js","admin/CourtItem.js","admin/Courts.js","admin/SeasonItem.js","admin/Seasons.js","statistics/utils.js","statistics/MonthlyStatistics.js","statistics/Statistics.js","users/user.model.js","admin/UserDetailsModal.js","admin/UserSubscriptionsModal.js","admin/Users.js","admin/Subscriptions.js","menu/Guest.js","menu/Admin.js","menu/navigation.model.js","users/UserProfile.js","login/Activation.js","login/RecoveryStep1.js","login/RecoveryStep2.js","app/app.routing.js","login/Login.js","login/Registration.js","login/SignIn.js","menu/Navigation.js","theme.js","app/App.js","index.js","app/index.js"],"names":["NotFoundPage","react_default","a","createElement","className","Paper_default","style","height","display","justifyContent","alignItems","Typography_default","color","variant","React","Component","dispatchEvent","name","options","root","document","getElementById","event","CustomEvent","detail","catchEvent","cb","listener","bind","removeEventListener","addEventListener","events_service","configuration","backend","query_service","QueryService","Object","classCallCheck","this","window","Configuration","resource","request","method","mode","headers","Content-Type","body","JSON","stringify","_this","tokenInfo","parse","localStorage","getItem","token","fetch","then","res","errorHandling","json","status","err","setItem","location","replace","item","ApplicationMode","GUEST","USER","ADMIN","Gender","MALE","FEMALE","Status","CourtType","CLAY","HARD","GRASS","INDOOR","BackhandType","ONE","TWO","PlayStyle","LEFT","RIGHT","ReservationPayment","SODEXO","MULTISPORT","ABK","CASH","SUBS_ZONE_1","SUBS_ZONE_2","ReservationType","SUBSCRIPTION","COMPETITOR","ELDER_GROUP","TENNIS_SCHOOL","TOURNAMENT","SERVICE","SubscriptionType","ZONE_1","ZONE_2","StatisticsType","MONTHLY","DAILY","EnumLocalization","_StatisticsType","defineProperty","_ReservationPayment","_ReservationType","CustomReservationType","_CustomReservationTyp","_SubscriptionType","_Status","_Gender","_CourtType","_BackhandType","_PlayStyle","user_service","UserService","_React$createContext","createContext","Provider","Consumer","SetApplicationMode","WithApplicationMode","user","getUser","isAdmin","Date","expires","removeItem","Schemes","props","possibleConstructorReturn","getPrototypeOf","call","state","schemes","id","canDelete","getData","_this2","editionId","get","concat","e","setState","scheme","_this3","delete","_this4","_this$state","Fragment","Table_default","TableHead_default","TableRow_default","TableCell_default","Hidden_default","smDown","TableBody_default","map","key","Link","to","date","toLocaleDateString","Button_default","size","onClick","handleDelete","DeleteForever_default","inputComponent","_ref","inputRef","objectWithoutProperties","assign","ref","components","ClearIndicator","_props$innerProps","innerProps","restInnerProps","padding","zIndex","cursor","Clear_default","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","classes","input","innerRef","children","textFieldProps","Menu","square","paper","MultiValue","Chip_default","tabIndex","label","classNames","chip","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","MenuItem_default","buttonRef","selected","component","fontWeight","isSelected","Placeholder","SingleValue","singleValue","ValueContainer","valueContainer","select_styles","theme","flexGrow","margin","flexWrap","flex","spacing","unit","backgroundColor","emphasize","palette","type","grey","fontSize","placeholder","position","left","marginTop","right","divider","SingleSelect","_this$props","disableClear","disableSearch","value","getOptionLabel","getOptionValue","formatOptionLabel","onChange","selectStyles","base","text","primary","& input","font","_getOptionLabel","option","_getOptionValue","_noOptionsMessage","NoSsr_default","react_select_esm","isClearable","isSearchable","InputLabelProps","shrink","Boolean","styles","SelectComponents","customStyles","withStyles","original","withTheme","EnrollmentsComponent","teams","selectedTeam","enrolled","queued","getSelectData","prevProps","schemeId","mapTeams","newTeam","find","post","teamId","user1Id","user2Id","_this5","team","user1","user2","_this6","_this$state2","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","ExpansionPanelDetails_default","flexDirection","components_select","items","addEnrollment","enrollment","index","borderClass","default","seedDivider","enrolledDivider","rankings","points","removeEnrollment","length","marginLeft","borderBottom","SchemeDetails","Card_default","CardContent_default","info","paddingRight","registrationStart","MatchDetailsEdit","match","marginRight","maxWidth","names","breakpoints","down","cardRoot","width","marginBottom","vsRoot","vs","fontStyle","secondary","score","vsTeam","MatchDetails","team1","flexBasis","textAlign","StyledScore","sets","team2","components_MatchDetailsEdit","Score","_this$props2","set","tiebreaker","MatchesList","matches","uniqueTeam","acc","curr","m","filter","t","reduce","defaultExpanded","roundMarker","roundMarkerStrip","roundMarkerLabel","components_MatchDetails","borderRadius","SchemeActions","menuAnchor","closeMenu","mdUp","aria-owns","aria-haspopup","target","Build_default","Menu_default","anchorEl","open","onClose","SchemeView","params","components_SchemeActions","components_SchemeDetails","Enrollments","components_MatchesList","FutureEditions","editions","edition","tournament","CurrentEditions","List_default","ListItem_default","button","ListItemText_default","Divider_default","link","textTransform","PreviousEditions","startDate","Editions","previousEditions","currentEditions","futureEditions","today","endDate","heading","editions_FutureEditions","editions_CurrentEditions","editions_PreviousEditions","typography","pxToRem","fontWeightRegular","EditionDetails","EditionView","EditionView_EditionDetails","schemes_Schemes","EnumSelect","EnumValues","EnumName","required","error","errorText","FormControl_default","InputLabel_default","Select_default","disabled","keys","i","AsyncSelect","_React$Component","searchTerm","limit","defaultLimit","totalCount","inherits","createClass","load","loadMore","query","result","onInputChange","trim","onMenuScrollToBottom","l10n_text","translate","L10n","getHour","hour","EditReservationModal","reservation","court","season","payments","administrator","customer","errors","handleChange","prop","customerId","subscription","subscriptionId","handleCustomChange","handlePaymentChange","handlePaymentSubscriptionChange","_","onAction","catch","unshift","amount","reservationId","isOpen","Dialog_default","DialogTitle_default","DialogContentText_default","DialogContent_default","components_EnumSelect","select_AsyncSelect","email","seasonId","userId","remainingHours","IconButton_default","addPayment","Add_default","payment","paymentCell","endAdornment","InputAdornment_default","onlyAvailable","splice","multiline","ErrorTexts","DialogActions_default","action","cancelReservation","exist","typeRequired","customerRequired","subscriptionRequired","usedHoursExceedTotalHours","paymentSubscriptionRequired","typeSubscriptionAndHasPaymentSubscription","maxAllowedTimeDiff","reservationInThePast","up","border","light","cell","&:hover","opacity","AdminReservation","modal","free","reserved","unavaliable","components_L10n","reservation_EditReservationModal","ReservationStyles","main","contrastText","background","ViewReservationModal","btnContainer","btn","makeReservation","UserReservation","reservation_ViewReservationModal","GuestReservation","available","taken","Reservation","workingHoursEnd","workingHoursStart","reservation_AdminReservation","reservation_GuestReservation","reservation_UserReservation","ShuffleItem","shuffle","onSelect","onUnselect","findIndex","courtId","select","service","DateComponent","getDate","previousSelected","weekDays","day","month","year","moment","getDay","end","toConsumableArray","Array","k","availiableDaysAhead","targetDate","diff","Math","floor","_this$props3","getFullYear","getMonth","_this$props4","Tabs_default","tabsRoot","scroller","tabsScroller","indicator","tabsIndicator","scrollButtons","tabsScrollButtons","scrollable","getDays","rootClass","tab","isToday","todayTab","Tab_default","selectedTab","disabledTab","labelContainer","isDisabled","getLabel","dark","minWidth","minHeight","overflow","Calendar","startOf","years","monts","emitDateOnAnyChange","formControl","calendar_DateComponent","paddingLeft","Legend","unavailiable","& div","ConfirmationDialog","close","title","onAccept","scrollButton","boxShadow","Schedule","counter","courts","reservations","rootRef","onscroll","needScrollBtns","clientWidth","tableInViewport","scrollTop","tableRef","offsetTop","btnContainerRef","config","format","sameReservation","constructReservation","shuffleErrors","scrollLeft","align","gutterBottom","calendar_Calendar","schedule_Legend","index_es","Replay_default","components_ConfirmationDialog","Shuffle_default","message","overflowX","scrollBehavior","scroll","ChevronLeft_default","scrollRight","ChevronRight_default","start","hours","reservation_ShuffleItem","getReservation","shuffleOnSelect","shuffleOnUnselect","reservation_Reservation","invalid","invalidTime","top","CourtItem","onCreateCancel","CourtItem_CourtEdit","model","onCancel","handleCancel","card","isActive","cardContent","CardActions_default","cardActions","CourtEdit","console","log","FormControlLabel_default","control","Switch_default","checked","rowsMax","save","cancel","paddingBottom","Courts","addCourt","admin_CourtItem","updateModel","removeCourt","SeasonItem","SeasonItem_SeasonEdit","seasonStart","seasonEnd","SeasonEdit","DatePicker_default","autoOk","labelFunc","clearable","Seasons","seasons","addSeason","admin_SeasonItem","removeSeason","SortableTableCell","active","direction","handleClick","orderHandler","TableSortLabel_default","orderData","data","ordering","sort","b","UserPlayedHours","order","handleOrder","users","forEach","totalHours","transformToUserPlayedHours","utils_SortableTableCell","StatisticByClassifier","_React$Component2","classifier","translation","label1","label2","customFn","customValueSuffix","transformed","arguments","undefined","customValue","count","custom","transformByClassifier","reduceToPayments","paymentsAmountAccumulator","current","parseFloat","StatisticsRoot","handleCalendarChange","handleStatisticsChange","textColor","MonthlyStatistics_UserPlayedHours","MonthlyStatistics_StatisticByClassifier","UserModel","UserAccountData","UserAccountSecondaryData","UserPlayerMainData","UserPlayerSecondaryData","password","confirmPassword","firstName","lastName","telephone","gender","birthDate","startedPlaying","playStyle","courtType","backhandType","reservationDebt","subscriptionDebt","UET","helperText","composeErrors","openToYearSelection","unique","short","mismatch","future","range","user_model","UserDetailsModal","getErrorsModel","fullScreen","withMobileDialog","breakpoint","UserSubscriptionsModal","subscriptions","newValue","init","addSubscription","sub","UserSubscriptionsModal_Subscription","ArrowBack_default","Subscription","isEditMode","expanded","cancelEdit","remove","Users","currentSeason","page","rowsPerPage","usersFilter","indexOf","split","parseInt","subsUser","filterUsers","editUser","admin_UserDetailsModal","admin_UserSubscriptionsModal","updateSubscriptions","xsDown","slice","createdAt","Done_default","Tooltip_default","placement","TransitionComponent","Zoom","enterDelay","prepareForEdit","Edit_default","DescriptionOutlined_default","TablePagination_default","rowsPerPageOptions","labelRowsPerPage","labelDisplayedRows","_ref2","from","onChangePage","onChangeRowsPerPage","smUp","EditSubscription","_this7","onSave","_this8","Guest","drawerOpen","routes","currentRoute","Toolbar_default","route","icons_Menu_default","Drawer_default","anchor","role","onKeyDown","Icon","ListItemIcon_default","ExitToApp_default","Admin","additionalRoutes","Settings_default","list","logout","PowerSettingsNew_default","withRoutes","WrappedComponent","_class","apply","navigation_model","NavigationModel","CalendarTodayIcon","adminRoutes","PersonIcon","WbSunnyRoundedIcon","ViewQuiltRoundedIcon","AssessmentIcon","userRoutes","User","SetCurrentRoute","WithCurrentRoute","UserProfile","loggedInUser","subsCollapsed","resCollapsed","sectionRoot","cardContentRoot","sectionHeadline","ExpandLess_default","listItemRoot","&:last-child","AccountActivation","success","timer","interval","search","setInterval","clearInterval","history","RecoveryStep1","setTimeout","elevation","issueRecoverEmail","RecoveryStep2","recover","routeMapping","/schedule","/players","/admin/courts","/admin/seasons","/admin/users","/admin/statistics","Statistics","/account","AppRouting","Switch","Route","path","render","users_UserProfile","Activation","login_RecoveryStep1","login_RecoveryStep2","exact","Redirect","Login","login","form","borderColor","RegistrationStepper","activeStep","completed","changeStep","onSuccess","register","focused","SignIn","successfulRegistration","handleTabChange","handleRegistration","EventService","aria-labelledby","centered","smallContainer","indicatorColor","closeBtn","lib_default","onChangeIndex","login_Login","Registration","Navigation","src","createMuiTheme","overrides","MuiFormControl","MuiTypography","caption","body2","MuiDrawer","App","applicationMode","handleLoginTab","classList","add","onRouteChanged","pathname","MuiPickersUtilsProvider_default","utils","DateFnsUtils","core_styles","menu_Navigation","login_SignIn","app_routing","withRouter","ReactDOM","BrowserRouter","app_App"],"mappings":"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","file":"static/js/main.37fb6260.chunk.js","sourcesContent":["import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass NotFoundPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ height: '300px', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n          <Typography color=\"secondary\" variant=\"headline\">\r\n            Страницата която търсите вече не съществува :(\r\n      </Typography>\r\n        </Paper>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFoundPage;","export function dispatchEvent(name, options) {\r\n  const root = document.getElementById('root');\r\n  const event = new CustomEvent(name, { detail: options });\r\n  root.dispatchEvent(event);\r\n}\r\n\r\nexport function catchEvent(name, cb) {\r\n  const root = document.getElementById('root');\r\n  const listener = customEventListener.bind(null, cb);\r\n  root.removeEventListener(name, listener);\r\n  root.addEventListener(name, listener);\r\n}\r\n\r\nfunction customEventListener(cb, event) {\r\n  return cb(event.detail);\r\n}\r\n\r\nexport default {\r\n  dispatchEvent,\r\n  catchEvent\r\n};","export default {\r\n  backend: 'http://localhost:4000/api'\r\n}","import { dispatchEvent } from './events.service';\r\nimport Configuration from '../configuration';\r\n\r\nclass QueryService {\r\n  constructor() {\r\n    this.backend = (window.configuration || Configuration).backend;\r\n  }\r\n\r\n  get(resource) {\r\n    let options = {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    return this\r\n      .request(resource, options);\r\n    //.then(this.notFoundHandling);\r\n  }\r\n\r\n  post(resource, body) {\r\n    let options = {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(body)\r\n    };\r\n\r\n    return this.request(resource, options);\r\n  }\r\n\r\n  delete(resource) {\r\n    let options = {\r\n      method: 'DELETE',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    return this.request(resource, options);\r\n  }\r\n\r\n  request(resource, options) {\r\n    let tokenInfo = JSON.parse(window.localStorage.getItem('token'));\r\n    if (tokenInfo)\r\n      options.headers['Authorization'] = 'Bearer ' + tokenInfo.token;\r\n\r\n    return fetch(this.backend + resource, options)\r\n      .then(res => this.errorHandling(res))\r\n      .then(res => res.json());\r\n  }\r\n\r\n  errorHandling(res) {\r\n    if (res.status === 404) {\r\n      dispatchEvent('not-found');\r\n      throw null;\r\n    }\r\n    if (res.status === 422)\r\n      return res\r\n        .json()\r\n        .then(err => { throw err; });\r\n    if (res.status === 500)\r\n      throw null;\r\n    if (res.status === 401) {\r\n      window.localStorage.setItem('token', null);\r\n      window.location.replace('/');\r\n    }\r\n    else return res;\r\n  }\r\n\r\n  notFoundHandling(item) {\r\n    if (item == null) {\r\n      dispatchEvent('not-found');\r\n      throw null;\r\n    }\r\n    else return item;\r\n  }\r\n}\r\n\r\nexport default new QueryService();","export const ApplicationMode = {\r\n  GUEST: 'guest',\r\n  USER: 'user',\r\n  ADMIN: 'admin'\r\n};\r\n\r\nexport const RouteTypeEnum = {\r\n  PUBLIC: 'public',\r\n  PROTECTED: 'protected',\r\n  ADMIN: 'admin'\r\n};\r\n\r\nexport const Gender = {\r\n  MALE: 'male',\r\n  FEMALE: 'female'\r\n};\r\n\r\nexport const Status = {\r\n  DRAFT: 'draft',\r\n  PUBLISHED: 'published',\r\n  FINALIZED: 'finalized',\r\n  INACTIVE: 'inactive'\r\n};\r\n\r\nexport const SchemeType = {\r\n  GROUP: 'round-robin',\r\n  ELIMINATION: 'elimination'\r\n};\r\n\r\nexport const CourtType = {\r\n  CLAY: 'clay',\r\n  HARD: 'hard',\r\n  GRASS: 'grass',\r\n  INDOOR: 'indoor'\r\n};\r\n\r\nexport const BackhandType = {\r\n  ONE: '1h',\r\n  TWO: '2h'\r\n};\r\n\r\nexport const PlayStyle = {\r\n  LEFT: 'left-handed',\r\n  RIGHT: 'right-handed'\r\n};\r\n\r\nexport const ReservationPayment = {\r\n  SODEXO: 'sodexo',\r\n  MULTISPORT: 'multisport',\r\n  ABK: 'abk',\r\n  CASH: 'cash',\r\n  SUBS_ZONE_1: 'zone1',\r\n  SUBS_ZONE_2: 'zone2'\r\n}\r\n\r\nexport const ReservationType = {\r\n  GUEST: 'guest',\r\n  USER: 'user',\r\n  SUBSCRIPTION: 'subscription',\r\n  COMPETITOR: 'competitor',\r\n  ELDER_GROUP: 'elder',\r\n  TENNIS_SCHOOL: 'school',\r\n  TOURNAMENT: 'tournament',\r\n  SERVICE: 'service',\r\n};\r\n\r\nexport const SubscriptionType = {\r\n  ZONE_1: 'zone1',\r\n  ZONE_2: 'zone2'\r\n};\r\n\r\nexport const StatisticsType = {\r\n  MONTHLY: 'month',\r\n  DAILY: 'day'\r\n};\r\n\r\nexport const EnumLocalization = {\r\n  'StatisticsType': {\r\n    [StatisticsType.MONTHLY]: 'Месечна',\r\n    [StatisticsType.DAILY]: 'Дневна'\r\n  },\r\n  'ReservationPayment': {\r\n    [ReservationPayment.CASH]: 'В брой',\r\n    [ReservationPayment.SODEXO]: 'Карта \"Содексо\"',\r\n    [ReservationPayment.MULTISPORT]: 'Карта \"Мултиспорт\"',\r\n    [ReservationPayment.ABK]: 'Абонаментна карта (АБК)',\r\n    [ReservationPayment.SUBS_ZONE_1]: 'Отиграване на абонамент \"ЗОНА 1\"',\r\n    [ReservationPayment.SUBS_ZONE_2]: 'Отиграване на абонамент \"ЗОНА 2\"'\r\n  },\r\n  'ReservationType': {\r\n    [ReservationType.GUEST]: 'Гост',\r\n    [ReservationType.USER]: 'Потребител',\r\n    [ReservationType.SUBSCRIPTION]: 'Абонат',\r\n    [ReservationType.COMPETITOR]: 'Съзтезатели',\r\n    [ReservationType.TENNIS_SCHOOL]: 'Тенис училище',\r\n    [ReservationType.ELDER_GROUP]: 'Група за възрастни',\r\n    [ReservationType.TOURNAMENT]: 'Турнир',\r\n    [ReservationType.SERVICE]: 'Неработещо игрище',\r\n  },\r\n  'CustomReservationType': {\r\n    [ReservationType.USER]: 'Резервация',\r\n    [ReservationType.SUBSCRIPTION]: 'Абонамент'\r\n  },\r\n  'SubscriptionType': {\r\n    [SubscriptionType.ZONE_1]: 'ЗОНА 1',\r\n    [SubscriptionType.ZONE_2]: 'ЗОНА 2'\r\n  },\r\n  'Status': {\r\n    [Status.DRAFT]: 'чернова',\r\n    [Status.PUBLISHED]: 'публикуван',\r\n    [Status.FINALIZED]: 'приключен',\r\n    [Status.INACTIVE]: 'неактивен'\r\n  },\r\n  'Gender': {\r\n    [Gender.MALE]: 'Мъж',\r\n    [Gender.FEMALE]: 'Жена'\r\n  },\r\n  'CourtType': {\r\n    [CourtType.CLAY]: 'клей',\r\n    [CourtType.HARD]: 'твърда настилка',\r\n    [CourtType.GRASS]: 'трева',\r\n    [CourtType.INDOOR]: 'на закрито'\r\n  },\r\n  'BackhandType': {\r\n    [BackhandType.ONE]: 'с една ръка',\r\n    [BackhandType.TWO]: 'с две ръце'\r\n  },\r\n  'PlayStyle': {\r\n    [PlayStyle.LEFT]: 'лява ръка',\r\n    [PlayStyle.RIGHT]: 'дясна ръка'\r\n  }\r\n};","import React from 'react';\r\nimport { dispatchEvent } from './events.service';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nclass UserService {\r\n  constructor() {\r\n    const { Provider, Consumer } = React.createContext(ApplicationMode.GUEST);\r\n    this.SetApplicationMode = Provider;\r\n    this.WithApplicationMode = Consumer;\r\n  }\r\n\r\n  isLogged() {\r\n    return localStorage.getItem('token') != null;\r\n  }\r\n\r\n  isAdmin() {\r\n    const user = this.getUser();\r\n    if (user && user.isAdmin)\r\n      return true;\r\n    else return false;\r\n  }\r\n\r\n  getUser() {\r\n    let token = JSON.parse(localStorage.getItem('token'))\r\n    let user = (token || { user: null }).user;\r\n    if (user && new Date(token.expires) > new Date())\r\n      return user;\r\n    else return null;\r\n  }\r\n\r\n  login(token) {\r\n    localStorage.setItem('token', JSON.stringify(token));\r\n    dispatchEvent('login');\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    dispatchEvent('logout');\r\n  }\r\n}\r\n\r\nexport default new UserService();","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\n\r\nclass Schemes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      schemes: [\r\n        { id: 1, name: 'Сингъл мъже' },\r\n        { id: 2, name: 'Сингъл мъже 45+' },\r\n        { id: 3, name: 'Двойки мъже' },\r\n        { id: 4, name: 'Двойки жени' },\r\n        { id: 5, name: 'Двойки микс' },\r\n      ],\r\n      canDelete: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n\r\n    const { editionId } = this.props;\r\n\r\n    return QueryService\r\n      .get(`/schemes?editionId=${editionId}`)\r\n      .then(e => this.setState({ schemes: e }));\r\n  }\r\n\r\n  handleDelete(scheme) {\r\n    return QueryService\r\n      .delete(`/schemes/${scheme.id}`)\r\n      .then(e => this.getData());\r\n  }\r\n\r\n  render() {\r\n    const { schemes, canDelete } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Име</TableCell>\r\n              <Hidden smDown>\r\n                <TableCell>Дата</TableCell>\r\n                {canDelete && <TableCell></TableCell>}\r\n              </Hidden>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {schemes.map(scheme => {\r\n              return (\r\n                <TableRow key={scheme.id}>\r\n                  <TableCell>\r\n                    <Link to={`/schemes/${scheme.id}`}>\r\n                      <Typography variant=\"body2\">{scheme.name}</Typography>\r\n                    </Link>\r\n                  </TableCell>\r\n\r\n                  <Hidden smDown>\r\n                    <TableCell>\r\n                      <Typography>{new Date(scheme.date).toLocaleDateString()}</Typography>\r\n                    </TableCell>\r\n                    {canDelete && <TableCell>\r\n                      <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                        style={{ color: 'darkred' }}\r\n                        onClick={() => this.handleDelete(scheme)}\r\n                      >\r\n                        <DeleteForeverIcon />\r\n                      </Button>\r\n                    </TableCell>}\r\n                  </Hidden>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Schemes;","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nfunction ClearIndicator(props) {\r\n  const { innerProps: { ref, ...restInnerProps } } = props;\r\n  return (\r\n    <div {...restInnerProps} ref={ref}>\r\n      <div style={{ padding: '0px 5px', zIndex: 2, cursor: 'pointer' }}>\r\n        <Typography><ClearIcon color=\"action\" /></Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\n// export function Placeholder(props) {\r\n//   return (\r\n//     <Typography\r\n//       color=\"textSecondary\"\r\n//       className={props.selectProps.classes.placeholder}\r\n//       {...props.innerProps}\r\n//     >\r\n//       {props.children}\r\n//     </Typography>\r\n//   );\r\n// }\r\n\r\nexport const Placeholder = () => null;\r\n\r\nexport function SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nexport function ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nexport function MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default {\r\n  ClearIndicator,\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};","\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\nexport default theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: '1rem'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  divider: {\r\n    height: theme.spacing.unit * 2,\r\n  },\r\n});","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Select from 'react-select';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SelectComponents from './components';\r\nimport styles from './styles';\r\n\r\nclass SingleSelect extends React.Component {\r\n  render() {\r\n    const {\r\n      disableClear,\r\n      disableSearch,\r\n      label,\r\n      value,\r\n      options,\r\n      getOptionLabel,\r\n      getOptionValue,\r\n      formatOptionLabel,\r\n      noOptionsMessage,\r\n      onChange,\r\n\r\n      classes, theme\r\n    } = this.props;\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    let _getOptionLabel = getOptionLabel || ((option) => option.name);\r\n    let _getOptionValue = getOptionValue || ((option) => option.id);\r\n    let _noOptionsMessage = noOptionsMessage || (() => \"Няма елементи в колекцията\");\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            isClearable={!disableClear}\r\n            isSearchable={!disableSearch}\r\n            textFieldProps={{\r\n              label,\r\n              InputLabelProps: {\r\n                shrink: Boolean(value)\r\n              }\r\n            }}\r\n            value={value}\r\n            options={options}\r\n            getOptionLabel={_getOptionLabel}\r\n            getOptionValue={_getOptionValue}\r\n            formatOptionLabel={formatOptionLabel}\r\n            noOptionsMessage={_noOptionsMessage}\r\n            onChange={onChange}\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            components={SelectComponents}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSingleSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nconst customStyles = {\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nconst augmentedStyles = (theme) => {\r\n  const original = styles(theme);\r\n  const result = { ...original, ...customStyles };\r\n  return result;\r\n}\r\n\r\nexport default withStyles(augmentedStyles, { withTheme: true })(SingleSelect);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SingleSelect from '../../components/select';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    marginLeft: 0\r\n  },\r\n  seedDivider: {\r\n    borderBottom: '2px solid lightgreen'\r\n  },\r\n  enrolledDivider: {\r\n    borderBottom: '2px solid lightcoral'\r\n  },\r\n  default: {}\r\n});\r\n\r\nclass EnrollmentsComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      teams: [],\r\n      selectedTeam: null,\r\n      enrolled: [],\r\n      queued: [],\r\n      isAdmin: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.isAdmin)\r\n      this.getSelectData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.schemeId != this.props.schemeId)\r\n      this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { schemeId } = this.props;\r\n\r\n    QueryService\r\n      .get(`/schemes/${schemeId}/enrollments`)\r\n      .then(e => this.setState(e));\r\n  }\r\n\r\n  getSelectData() {\r\n    QueryService\r\n      .get(`/teams`)\r\n      .then(e => this.setState({ teams: this.mapTeams(e) }));\r\n  }\r\n\r\n  addEnrollment() {\r\n    const { schemeId } = this.props;\r\n    const { selectedTeam, teams } = this.state;\r\n    let newTeam = teams.find(e => e.id == selectedTeam.value);\r\n\r\n    return QueryService\r\n      .post(`/schemes/${schemeId}/enrollments`, {\r\n        teamId: newTeam.id,\r\n        schemeId: schemeId,\r\n        user1Id: newTeam.user1Id,\r\n        user2Id: newTeam.user2Id\r\n      })\r\n      .then(e => this.getData());\r\n  }\r\n\r\n  removeEnrollment(id) {\r\n    const { schemeId } = this.props;\r\n\r\n    return QueryService\r\n      .delete(`/schemes/${schemeId}/enrollments/${id}`)\r\n      .then(() => this.getData());\r\n  }\r\n\r\n  mapTeams(teams) {\r\n    return teams.map(team => {\r\n      return {\r\n        id: team.id,\r\n        name: `${team.user1.name}${team.user2 ? ` + ${team.user2.name}` : ''}`\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { enrolled, queued, isAdmin, teams, selectedTeam } = this.state;\r\n    const { classes } = this.props;\r\n    const seed = 3;\r\n    const count = 5;\r\n\r\n    return (\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant=\"title\">Играчи</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n          {isAdmin && <div>\r\n            <SingleSelect\r\n              classes={{ root: classes.root }}\r\n              placeholder=\"Избор на отбор\"\r\n              items={teams}\r\n              value={selectedTeam}\r\n              onChange={e => this.setState({ selectedTeam: e })}\r\n            />\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"small\"\r\n              onClick={() => this.addEnrollment()}\r\n            >\r\n              Добави\r\n            </Button>\r\n          </div>}\r\n\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell padding=\"none\">№</TableCell>\r\n\r\n                <TableCell>Отбор</TableCell>\r\n                <TableCell padding=\"dense\">Точки</TableCell>\r\n                {isAdmin && <TableCell padding=\"none\"></TableCell>}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {enrolled.map((enrollment, index) => {\r\n                let borderClass = classes.default;\r\n                if (index + 1 == seed)\r\n                  borderClass = classes.seedDivider;\r\n                if (index + 1 == count)\r\n                  borderClass = classes.enrolledDivider;\r\n\r\n                return (\r\n                  <React.Fragment key={enrollment.id}>\r\n                    <TableRow className={borderClass}>\r\n                      <TableCell padding=\"none\">{index + 1}</TableCell>\r\n                      <TableCell>\r\n                        <Link to={`/teams/${enrollment.team.user1.id}`} >\r\n                          <Typography variant=\"body2\">{enrollment.team.user1.name}</Typography>\r\n                        </Link>\r\n                        {enrollment.team.user2 &&\r\n                          <Link to={`/teams/${enrollment.team.user2.id}`} >\r\n                            <Typography variant=\"body2\">{enrollment.team.user2.name}</Typography>\r\n                          </Link>}\r\n                      </TableCell>\r\n                      {enrollment.team.rankings[0] &&\r\n                        <TableCell>{enrollment.team.rankings[0].points}</TableCell>}\r\n                      {!enrollment.team.rankings[0] &&\r\n                        <TableCell><Typography variant=\"caption\">няма</Typography></TableCell>}\r\n                      {isAdmin && <TableCell padding=\"none\">\r\n                        <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                          style={{ color: 'darkred' }}\r\n                          onClick={() => this.removeEnrollment(enrollment.id)}\r\n                        >\r\n                          <DeleteForeverIcon />\r\n                        </Button>\r\n                      </TableCell>}\r\n                    </TableRow>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n\r\n              {queued.map((enrollment, index) => {\r\n                return (\r\n                  <React.Fragment key={enrollment.id}>\r\n                    <TableRow>\r\n                      <TableCell padding=\"none\">{enrolled.length + index + 1}</TableCell>\r\n                      <TableCell>{enrollment.team.user1.name}</TableCell>\r\n                      {enrollment.team.rankings[0] &&\r\n                        <TableCell padding=\"dense\">{enrollment.team.rankings[0].points}</TableCell>}\r\n                      {!enrollment.team.rankings[0] &&\r\n                        <TableCell padding=\"dense\"><Typography variant=\"caption\">няма</Typography></TableCell>}\r\n                      {isAdmin && <TableCell padding=\"none\">\r\n                        <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                          style={{ color: 'darkred' }}\r\n                          onClick={() => this.removeEnrollment(enrollment.id)}\r\n                        >\r\n                          <DeleteForeverIcon />\r\n                        </Button>\r\n                      </TableCell>}\r\n                    </TableRow>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(EnrollmentsComponent);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nclass SchemeDetails extends React.Component {\r\n  render() {\r\n    const { scheme } = this.props;\r\n\r\n    return (\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"headline\">{scheme.name}</Typography>\r\n          <Typography variant=\"caption\">{scheme.info}</Typography>\r\n          <div style={{ display: 'flex', marginTop: '1rem' }}>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>Регистрация от\r\n              <Typography>{new Date(scheme.registrationStart).toLocaleDateString()}</Typography>\r\n            </Typography>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>Регистрация до\r\n              <Typography>{new Date(scheme.registrationStart).toLocaleDateString()}</Typography>\r\n            </Typography>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemeDetails;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  names: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'row'\r\n    }\r\n  }\r\n});\r\n\r\nclass MatchDetailsEdit extends React.Component {\r\n  render() {\r\n    const { classes, match } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <TextField label=\"Отбор 1\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n          <TextField label=\"Отбор 2\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n          <TextField label=\"Отказал се\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n        </div>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"dense\">Сет №</TableCell>\r\n              <TableCell padding=\"none\">Отбор 1</TableCell>\r\n              <TableCell padding=\"none\">Отбор 2</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {[1, 2, 3, 4, 5].map(index => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell padding=\"dense\">{index}</TableCell>\r\n                  <TableCell padding=\"none\">\r\n                    <input type=\"text\" style={{ maxWidth: '40px' }} />\r\n                  </TableCell>\r\n                  <TableCell padding=\"none\">\r\n                    <input type=\"text\" style={{ maxWidth: '40px' }} />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n\r\n            {/* <TableRow>\r\n              <TableCell padding=\"none\">\r\n                <TextField label=\"Отбор 2\" />\r\n              </TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>\r\n                <TextField type=\"numeric\" />\r\n              </TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>II</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>III</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>IV</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>V</TableCell>\r\n            </TableRow> */}\r\n          </TableBody>\r\n        </Table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MatchDetailsEdit);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\nimport MatchDetailsEdit from './MatchDetailsEdit';\r\n\r\nconst styles = (theme) => {\r\n  //console.log(theme);\r\n  return ({\r\n    cardRoot: {\r\n      width: '100%',\r\n      marginBottom: '1rem',\r\n      // backgroundColor: '#F5E9DF'\r\n    },\r\n    vsRoot: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      marginBottom: '1rem',\r\n      [theme.breakpoints.down('sm')]: {\r\n        flexDirection: 'column'\r\n      }\r\n    },\r\n    vs: {\r\n      flexGrow: '1',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      fontStyle: 'italic',\r\n      color: theme.palette.text.secondary,\r\n      [theme.breakpoints.down('sm')]: {\r\n        margin: '.5rem 0',\r\n        fontSize: '.8em',\r\n        color: theme.palette.text.primary\r\n      }\r\n    },\r\n    score: {\r\n      color: theme.palette.text.secondary,\r\n      [theme.breakpoints.down('sm')]: {\r\n        fontSize: '1em',\r\n        color: theme.palette.text.primary\r\n      }\r\n    },\r\n    vsTeam: {\r\n      fontSize: '1.3rem'\r\n    }\r\n  });\r\n}\r\n\r\nclass MatchDetails extends React.Component {\r\n  render() {\r\n    const { match, classes } = this.props;\r\n\r\n    return (\r\n      <Card className={classes.cardRoot}>\r\n        <CardContent>\r\n          <div className={classes.vsRoot}>\r\n            {match.team1 &&\r\n              <Link to={`/users/${match.team1.id}`} style={{ flexBasis: '33%' }}>\r\n                <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                  {match.team1.user1.name}\r\n                </Typography>\r\n                {match.team1.user2 &&\r\n                  <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                    {match.team1.user2.name}\r\n                  </Typography>}\r\n              </Link>}\r\n\r\n            {!match.team1 && <Typography style={{ textAlign: 'center' }}>BYE</Typography>}\r\n\r\n            <StyledScore sets={match.sets} />\r\n\r\n            {match.team2 && <Link to={`/users/${match.team1.user2Id}`} style={{ flexBasis: '33%' }}>\r\n              <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                {match.team2 ? match.team2.user1.name : 'BYE'}\r\n              </Typography>\r\n              {/* {match.team2 && match.team2.user2 &&\r\n                <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                  {match.team2.user2.name}\r\n                </Typography>} */}\r\n            </Link>}\r\n\r\n            {!match.team2 && <Typography style={{ flexBasis: '33%' }}>BYE</Typography>}\r\n\r\n          </div>\r\n          <Typography variant=\"subheading\">\r\n            <span style={{ color: '#8AC230', fontWeight: '700' }}>Победител:</span>\r\n            {match.team1 && <span style={{ fontStyle: 'italic', marginLeft: '.3rem' }}>{match.team1.user1.name}</span>}\r\n          </Typography>\r\n          <Typography variant=\"subheading\">\r\n            <span style={{ color: '#D67D2A', fontWeight: '700' }}>Отказал се:</span>\r\n            {match.team2 && <span style={{ fontStyle: 'italic', marginLeft: '.3rem' }}>{match.team2.user1.name}</span>}\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\">Промяна</Button>\r\n\r\n          <div>\r\n            <MatchDetailsEdit match={match} />\r\n          </div>\r\n\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nclass Score extends React.Component {\r\n  render() {\r\n    const { sets, classes } = this.props;\r\n\r\n    if (sets.length == 0) {\r\n      return (\r\n        <Typography variant=\"headline\" className={classes.vs}>\r\n          VS\r\n        </Typography>\r\n      );\r\n    }\r\n\r\n    else\r\n      return (\r\n        <div className={classes.vs}>\r\n          {sets.map(set => {\r\n            return (\r\n              <div key={set.id} style={{ display: 'flex', marginRight: '.3rem' }}>\r\n                <Typography variant=\"headline\" className={classes.score}>\r\n                  {set.team1}\r\n                </Typography>\r\n                <Typography variant=\"headline\" className={classes.score}>\r\n                  {set.team2}\r\n                </Typography>\r\n                {set.tiebreaker && <sup>\r\n                  <Typography variant=\"headline\" style={{ fontSize: '1em' }} className={classes.score}>\r\n                    ({set.tiebreaker})\r\n                  </Typography>\r\n                </sup>}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nconst StyledScore = withStyles(styles)(Score);\r\n\r\nexport default withStyles(styles)(MatchDetails);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\nimport MatchDetails from './MatchDetails';\r\n\r\nconst styles = (theme) => ({\r\n  roundMarker: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '.5rem'\r\n  },\r\n  roundMarkerStrip: {\r\n    flexGrow: 1,\r\n    backgroundColor: '#c9c9c9',\r\n    height: '2px',\r\n    borderRadius: '2px'\r\n  },\r\n  roundMarkerLabel: {\r\n    color: theme.palette.text.secondary,\r\n    fontStyle: 'italic',\r\n    margin: '0 .5rem'\r\n  }\r\n});\r\n\r\nclass MatchesList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      matches: [],\r\n      teams: [],\r\n      isAdmin: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.schemeId != this.props.schemeId)\r\n      this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { schemeId } = this.props;\r\n    const uniqueTeam = (acc, curr) => {\r\n      if (acc.find(e => e.id == curr.id)) return acc;\r\n      else return acc.concat([curr]);\r\n    };\r\n\r\n    QueryService\r\n      .get(`/schemes/${schemeId}/matches`)\r\n      .then(e => this.setState({\r\n        matches: e,\r\n        teams: e.map(m => m.team1)\r\n          .concat(e.map(m => m.team2))\r\n          .filter(t => t != null)\r\n          .reduce(uniqueTeam, [])\r\n      }));\r\n  }\r\n\r\n  render() {\r\n    const { matches, teams } = this.state;\r\n    const { classes } = this.props;\r\n    const match = matches[0];\r\n\r\n    return (\r\n      <ExpansionPanel defaultExpanded={true}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant=\"title\">Мачове</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n          <div className={classes.roundMarker}>\r\n            <div className={classes.roundMarkerStrip}></div>\r\n            <Typography variant=\"headline\" className={classes.roundMarkerLabel}>\r\n              R64\r\n            </Typography>\r\n            <div className={classes.roundMarkerStrip}></div>\r\n          </div>\r\n          {matches.map(match => {\r\n            return (\r\n              <MatchDetails key={match.id} match={match} />\r\n            );\r\n          })}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MatchesList);","import React from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\n\r\nimport UserService from '../../services/user.service';\r\n\r\nclass SchemeActions extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: null\r\n    };\r\n\r\n    this.closeMenu = () => {\r\n      this.setState({ menuAnchor: null });\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { menuAnchor } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Hidden smDown>\r\n          <div className=\"spacing\">\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Промяна</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Чернова</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Публикуване</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Финализиране</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Изтриване</Button>\r\n          </div>\r\n        </Hidden>\r\n\r\n        <Hidden mdUp>\r\n          <Button\r\n            aria-owns={menuAnchor ? 'admin-actions' : null}\r\n            aria-haspopup=\"true\"\r\n            color=\"primary\" size=\"small\"\r\n            onClick={(e) => this.setState({ menuAnchor: e.target })}\r\n          >\r\n            <BuildIcon />\r\n          </Button>\r\n          <Menu\r\n            id=\"admin-actions\"\r\n            anchorEl={menuAnchor}\r\n            open={Boolean(menuAnchor)}\r\n            onClose={this.closeMenu}\r\n          >\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Промяна\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Чернова\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Публикуване\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Финализиране\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Изтриване\r\n            </MenuItem>\r\n          </Menu>\r\n        </Hidden>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemeActions;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport UserService from '../services/user.service';\r\nimport QueryService from '../services/query.service';\r\nimport EnrollmentsComponent from './components/Enrollments';\r\nimport SchemeDetails from './components/SchemeDetails';\r\nimport MatchesList from './components/MatchesList';\r\nimport SchemeActions from './components/SchemeActions';\r\n\r\nclass SchemeView extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scheme: {},\r\n      isAdmin: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { id } = this.props.match.params;\r\n\r\n    return QueryService\r\n      .get(`/schemes/${id}`)\r\n      .then(e => this.setState({ scheme: e }));\r\n  }\r\n\r\n  render() {\r\n    const { scheme, isAdmin, menuAnchor } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {isAdmin && <SchemeActions />}\r\n\r\n        <SchemeDetails scheme={scheme} />\r\n\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"title\">Групова фаза</Typography>\r\n          </ExpansionPanelSummary>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"title\">Елиминация</Typography>\r\n          </ExpansionPanelSummary>\r\n        </ExpansionPanel>\r\n\r\n        <EnrollmentsComponent schemeId={scheme.id} />\r\n\r\n        <MatchesList schemeId={scheme.id} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemeView;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\n\r\nclass FutureEditions extends React.Component {\r\n  render() {\r\n    const { editions, canDelete, onDelete } = this.props;\r\n\r\n    if (editions.length == 0)\r\n      return <i>няма предстоящи турнири</i>\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Лига</TableCell>\r\n            <TableCell>Турнир</TableCell>\r\n            <TableCell>Дата</TableCell>\r\n            {canDelete && <TableCell></TableCell>}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {editions.map(edition => {\r\n            return (\r\n              <TableRow key={edition.id}>\r\n                <TableCell>\r\n                  {edition.tournament.name}\r\n                </TableCell>\r\n                <TableCell>{edition.name}</TableCell>\r\n                <TableCell>baba qga</TableCell>\r\n                {canDelete && <TableCell>\r\n                  <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                    style={{ color: 'darkred' }}\r\n                    onClick={() => onDelete(edition.id)}\r\n                  >\r\n                    <DeleteForeverIcon />\r\n                  </Button>\r\n                </TableCell>}\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nFutureEditions.propTypes = {\r\n  editions: PropTypes.array.isRequired\r\n};\r\n\r\nexport default FutureEditions;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Schemes from './Schemes';\r\nimport SchemeView from './SchemeView';\r\n\r\nclass SchemesRoot extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route\r\n          path=\"/schemes/:id\"\r\n          render={(props) => <SchemeView {...props} />}\r\n        />\r\n        {/* <Route\r\n          exact\r\n          path=\"/editions/\"\r\n          render={(props) => <Editions {...props} />}\r\n        /> */}\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemesRoot;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  link: {\r\n    textTransform: \"none\"\r\n  }\r\n});\r\n\r\nclass CurrentEditions extends React.Component {\r\n  render() {\r\n    const { editions, canDelete, onDelete, classes } = this.props;\r\n\r\n    if (editions.length == 0)\r\n      return <i>няма текущи турнири</i>\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Hidden mdUp>\r\n          <List component=\"nav\" style={{ width: '100%' }}>\r\n            {editions.map(edition => {\r\n              return (\r\n                <Link to={`/editions/${edition.id}`} key={edition.id} >\r\n                  <ListItem button>\r\n                    <ListItemText color=\"primary\" primary={`${edition.name} (${edition.tournament.name})`} />\r\n                  </ListItem>\r\n                  <Divider />\r\n                </Link>\r\n              );\r\n            })}\r\n          </List>\r\n        </Hidden>\r\n        <Hidden smDown>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Лига</TableCell>\r\n                <TableCell>Турнир</TableCell>\r\n                <TableCell>Дата</TableCell>\r\n                {canDelete && <TableCell></TableCell>}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {editions.map(edition => {\r\n                return (\r\n                  <TableRow key={edition.id}>\r\n                    <TableCell>\r\n                      <Link to={`/tournaments/${edition.tournament.id}`}>\r\n                        <Button className={classes.link} color=\"primary\"> {edition.tournament.name}</Button>\r\n                      </Link>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Link to={`/editions/${edition.id}`}>\r\n                        <Button className={classes.link} color=\"primary\"> {edition.name}</Button>\r\n                      </Link>\r\n                    </TableCell>\r\n                    <TableCell>baba qga</TableCell>\r\n                    {canDelete && <TableCell>\r\n                      <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                        style={{ color: 'darkred' }}\r\n                        onClick={() => onDelete(edition.id)}\r\n                      >\r\n                        <DeleteForeverIcon />\r\n                      </Button>\r\n                    </TableCell>}\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </Hidden>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCurrentEditions.propTypes = {\r\n  editions: PropTypes.array.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(CurrentEditions);//withWidth()(CurrentEditions);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\n\r\nclass PreviousEditions extends React.Component {\r\n  render() {\r\n    const { editions, canDelete, onDelete } = this.props;\r\n\r\n    if (editions.length == 0)\r\n      return <i>няма минали турнири</i>\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Лига</TableCell>\r\n            <TableCell>Турнир</TableCell>\r\n            <Hidden smDown>\r\n              <TableCell>Дата</TableCell>\r\n              {canDelete && <TableCell></TableCell>}\r\n            </Hidden>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {editions.map(edition => {\r\n            return (\r\n              <TableRow key={edition.id}>\r\n                <TableCell>\r\n                  <Link to={`/tournaments/${edition.tournament.id}`}>\r\n                    <Typography variant=\"body2\">{edition.tournament.name}</Typography>\r\n                  </Link>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Link to={`/editions/${edition.id}`}>\r\n                    <Typography variant=\"body2\">{edition.name}</Typography>\r\n                  </Link>\r\n                </TableCell>\r\n\r\n                <Hidden smDown>\r\n                  <TableCell>\r\n                    {new Date(edition.startDate).toLocaleDateString()}\r\n                  </TableCell>\r\n                  {canDelete && <TableCell>\r\n                    <Button variant=\"text\" color=\"primary\" size=\"small\"\r\n                      style={{ color: 'darkred' }}\r\n                      onClick={() => onDelete(edition.id)}\r\n                    >\r\n                      <DeleteForeverIcon />\r\n                    </Button>\r\n                  </TableCell>}\r\n                </Hidden>\r\n\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nPreviousEditions.propTypes = {\r\n  editions: PropTypes.array.isRequired\r\n};\r\n\r\nexport default PreviousEditions;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport FutureEditions from './FutureEditions';\r\nimport CurrentEditions from './CurrentEditions';\r\nimport PreviousEditions from './PreviousEditions';\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  }\r\n});\r\n\r\nclass Editions extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      previousEditions: [\r\n        { id: 1, tournament: { name: 'Лято 2018' }, name: 'Diana Summer N17', date: new Date() },\r\n        { id: 2, tournament: { name: 'Лято 2018' }, name: 'Diana Summer N16', date: new Date() },\r\n        { id: 3, tournament: { name: 'Лято 2018' }, name: 'Diana Summer N15', date: new Date() }\r\n      ],\r\n      currentEditions: [\r\n        { id: 4, tournament: { name: 'Лято 2018' }, name: 'Diana Summer N18', date: new Date() }\r\n      ],\r\n      futureEditions: [\r\n        { id: 5, tournament: { name: 'Лято 2018' }, name: 'Diana Summer N19', date: new Date() }\r\n      ],\r\n      isAdmin: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const today = new Date();\r\n    return QueryService\r\n      .get('/editions')\r\n      .then(editions => this.setState({\r\n        previousEditions: editions.filter(e => new Date(e.endDate) < today),\r\n        currentEditions: editions.filter(e => new Date(e.startDate) <= today && new Date(e.endDate) >= today),\r\n        futureEditions: editions.filter(e => new Date(e.startDate) > today)\r\n      }));\r\n  }\r\n\r\n  handleDelete(id) {\r\n    return QueryService\r\n      .delete(`/editions/${id}`)\r\n      .then(e => this.getData());\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { futureEditions, currentEditions, previousEditions, isAdmin } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {isAdmin && <div className=\"spacing\">\r\n          <Button variant=\"contained\" size=\"small\" color=\"primary\">Добави издание</Button>\r\n          <Button variant=\"contained\" size=\"small\" color=\"primary\">Добави турнир</Button>\r\n        </div>}\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography className={classes.heading}>Предстоящи турнири</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <FutureEditions\r\n              editions={futureEditions}\r\n              canDelete={isAdmin}\r\n              onDelete={this.handleDelete.bind(this)}\r\n            />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n        <ExpansionPanel defaultExpanded={true}>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography className={classes.heading}>\r\n              Текущи турнири\r\n            </Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <CurrentEditions\r\n              editions={currentEditions}\r\n              canDelete={isAdmin}\r\n              onDelete={this.handleDelete.bind(this)}\r\n            />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography className={classes.heading}>Минали турнири</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <PreviousEditions\r\n              editions={previousEditions}\r\n              canDelete={isAdmin}\r\n              onDelete={this.handleDelete.bind(this)}\r\n            />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nEditions.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Editions);","import React from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport Schemes from '../schemes/Schemes';\r\nimport UserService from '../services/user.service';\r\nimport QueryService from '../services/query.service';\r\n\r\nclass EditionDetails extends React.Component {\r\n  render() {\r\n    const { edition } = this.props;\r\n\r\n    return (\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"headline\">{edition.name}</Typography>\r\n          <Typography variant=\"caption\">{edition.info}</Typography>\r\n          <div style={{ display: 'flex', marginTop: '1rem' }}>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>\r\n              Начало\r\n              <Typography>{new Date(edition.startDate).toLocaleDateString()}</Typography>\r\n            </Typography>\r\n\r\n            <Typography variant=\"subheading\">\r\n              Край\r\n              <Typography>{new Date(edition.endDate).toLocaleDateString()}</Typography>\r\n            </Typography>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nclass EditionView extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      edition: {},\r\n      isAdmin: UserService.isAdmin(),\r\n      menuAnchor: null\r\n    }\r\n\r\n    this.closeMenu = () => {\r\n      this.setState({ menuAnchor: null });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    QueryService\r\n      .get(`/editions/${this.props.match.params.id}`)\r\n      .then(e => this.setState({ edition: e }));\r\n  }\r\n\r\n  render() {\r\n    const { edition, isAdmin, menuAnchor } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {isAdmin && <Hidden smDown>\r\n          <div className=\"spacing\">\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Промяна</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Добави схема</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Чернова</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Публикуване</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Финализиране</Button>\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\">Изтриване</Button>\r\n          </div>\r\n        </Hidden>}\r\n\r\n\r\n        {isAdmin && <Hidden mdUp>\r\n          <Button\r\n            aria-owns={menuAnchor ? 'admin-actions' : null}\r\n            aria-haspopup=\"true\"\r\n            color=\"primary\" size=\"small\"\r\n            onClick={(e) => this.setState({ menuAnchor: e.target })}\r\n          >\r\n            <BuildIcon />\r\n          </Button>\r\n          <Menu\r\n            id=\"admin-actions\"\r\n            anchorEl={menuAnchor}\r\n            open={Boolean(menuAnchor)}\r\n            onClose={this.closeMenu}\r\n          >\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Промяна\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Добави схема\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Чернова\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Публикуване\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Финализиране\r\n            </MenuItem>\r\n            <MenuItem onClick={this.closeMenu}>\r\n              Изтриване\r\n            </MenuItem>\r\n          </Menu>\r\n        </Hidden>}\r\n\r\n        <EditionDetails edition={edition} />\r\n\r\n        <ExpansionPanel defaultExpanded={true}>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"headline\">Схеми</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <Schemes editionId={edition.id} />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionView;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Editions from './Editions';\r\nimport EditionView from './EditionView';\r\n\r\nclass EditionsRoot extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route\r\n          path=\"/editions/:id\"\r\n          render={(props) => <EditionView {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/editions/\"\r\n          render={(props) => <Editions {...props} />}\r\n        />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionsRoot;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { EnumLocalization } from '../enums';\r\n\r\nclass EnumSelect extends React.Component {\r\n  render() {\r\n    const {\r\n      value,\r\n      onChange,\r\n      EnumValues,\r\n      EnumName,\r\n      label,\r\n      required,\r\n      error,\r\n      errorText\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormControl fullWidth={true} error={error}>\r\n        <InputLabel required={required}>\r\n          {label}\r\n        </InputLabel>\r\n        <Select\r\n          value={value}\r\n          onChange={onChange}\r\n        >\r\n          <MenuItem value=\"\" disabled={true}>\r\n            <em>{label}</em>\r\n          </MenuItem>\r\n          {Object.keys(EnumValues).map((key, i) => {\r\n            return (\r\n              <MenuItem key={i} value={EnumValues[key]}>\r\n                {EnumLocalization[EnumName][EnumValues[key]]}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n        <Typography style={{ color: 'red', fontSize: '.8rem' }}>{errorText}</Typography>\r\n      </FormControl>\r\n    );\r\n  }\r\n}\r\n\r\n// EnumSelect.propTypes = {\r\n//   value: PropTypes.string.isRequired,\r\n//   label: PropTypes.string.isRequired,\r\n//   EnumValues: PropTypes.object.isRequired,\r\n//   EnumName: PropTypes.string.isRequired,\r\n//   onChange: PropTypes.func.isRequired\r\n// };\r\n\r\nexport default EnumSelect;","import React from 'react';\r\nimport Select from 'react-select';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SelectComponents from './components';\r\nimport styles from './styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\n\r\nexport class AsyncSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchTerm: '',\r\n      limit: 25,\r\n      defaultLimit: 25,\r\n      options: [],\r\n      totalCount: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.load();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.filter != this.props.filter)\r\n      this.load();\r\n  }\r\n\r\n  load(loadMore) {\r\n    const { options, totalCount, searchTerm, defaultLimit } = this.state;\r\n    let limit = this.state.limit;\r\n\r\n    if (loadMore)\r\n      limit += defaultLimit;\r\n\r\n    if (loadMore && options.length == totalCount)\r\n      return;\r\n\r\n    QueryService\r\n      .post(`/select/${this.props.query}`, {\r\n        ...this.props.filter,\r\n        searchTerm,\r\n        limit\r\n      })\r\n      .then(result => this.setState({ ...result, limit }));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      disableClear,\r\n      disableSearch,\r\n      label,\r\n      value,\r\n      query,\r\n      filter,\r\n      getOptionLabel,\r\n      getOptionValue,\r\n      formatOptionLabel,\r\n      noOptionsMessage,\r\n      onChange,\r\n\r\n      classes, theme\r\n    } = this.props;\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    let _getOptionLabel = getOptionLabel || ((option) => option.name);\r\n    let _getOptionValue = getOptionValue || ((option) => option.id);\r\n    let _noOptionsMessage = noOptionsMessage || (() => \"Няма елементи в колекцията\");\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {/* <pre>item   count: {this.state.options.length}</pre>\r\n        <pre>total  count: {this.state.totalCount}</pre>\r\n        <pre>limit       : {this.state.limit}</pre> */}\r\n        <NoSsr>\r\n          <Select\r\n            isClearable={!disableClear}\r\n            isSearchable={!disableSearch}\r\n            textFieldProps={{\r\n              label,\r\n              InputLabelProps: {\r\n                shrink: Boolean(value) || Boolean(this.state.searchTerm)\r\n              }\r\n            }}\r\n            value={value}\r\n            options={this.state.options}\r\n            getOptionLabel={_getOptionLabel}\r\n            getOptionValue={_getOptionValue}\r\n            formatOptionLabel={formatOptionLabel}\r\n            noOptionsMessage={_noOptionsMessage}\r\n            onChange={onChange}\r\n            onInputChange={value => {\r\n              this.setState({ searchTerm: value.trim() });\r\n              this.load();\r\n            }}\r\n            onMenuScrollToBottom={() => this.load(true)}\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            components={SelectComponents}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst customStyles = {\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nconst augmentedStyles = (theme) => {\r\n  const original = styles(theme);\r\n  const result = { ...original, ...customStyles };\r\n  return result;\r\n}\r\n\r\nexport default withStyles(augmentedStyles, { withTheme: true })(AsyncSelect);","import React from 'react';\r\nimport { EnumLocalization } from '../enums';\r\n\r\nclass L10n extends React.Component {\r\n  render() {\r\n    const { children, translate, style } = this.props;\r\n    return <span style={style}>{l10n_text(children, translate)}</span>\r\n  }\r\n}\r\n\r\nexport function l10n_text(value, translate) {\r\n  const l10n = EnumLocalization[translate];\r\n  return l10n[value];\r\n}\r\n\r\nexport default L10n;","export function getHour(hour) {\r\n  if (hour < 10)\r\n    return `0${hour}:00`;\r\n  else return `${hour}:00`;\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport EnumSelect from '../../components/EnumSelect';\r\nimport AsyncSelect from '../../components/select/AsyncSelect';\r\nimport { ReservationPayment, ReservationType } from '../../enums';\r\nimport { l10n_text } from '../../components/L10n';\r\nimport { getHour } from '../../utils';\r\n\r\nclass EditReservationModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reservation: {\r\n        court: {},\r\n        type: '',\r\n        season: {},\r\n        payments: [],\r\n        administrator: {},\r\n        customer: {}\r\n      },\r\n      errors: []\r\n    }\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const reservation = this.state.reservation;\r\n      reservation[prop] = e.target.value;\r\n      if (prop == 'type') {\r\n        reservation.customer = null;\r\n        reservation.customerId = null;\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = null;\r\n      }\r\n\r\n      this.setState({ reservation });\r\n    };\r\n\r\n    this.handleCustomChange = (prop) => (value) => {\r\n      const reservation = this.state.reservation;\r\n\r\n      if (prop == 'customer') {\r\n        reservation.customer = null;\r\n        reservation.customerId = (value || { id: null }).id;\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = null;\r\n      }\r\n\r\n      if (prop == 'subscription') {\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = (value || { id: null }).id;\r\n      }\r\n\r\n      reservation[prop] = value;\r\n\r\n      this.setState({ reservation });\r\n    };\r\n\r\n    this.handlePaymentChange = (prop, index) => (e) => {\r\n      this.state.reservation.payments[index][prop] = e.target.value;\r\n      this.setState({ reservation: this.state.reservation });\r\n    };\r\n\r\n    this.handlePaymentSubscriptionChange = (index) => (value) => {\r\n      this.state.reservation.payments[index].subscription = value;\r\n      if (value)\r\n        this.state.reservation.payments[index].subscriptionId = value.id;\r\n      else\r\n        this.state.reservation.payments[index].subscriptionId = null;\r\n      this.setState({ reservation: this.state.reservation });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { reservation } = this.props;\r\n    this.setState({ reservation: JSON.parse(JSON.stringify(reservation)), errors: [] });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { reservation } = this.props;\r\n    if (prevProps.reservation != reservation)\r\n      this.setState({ reservation: JSON.parse(JSON.stringify(reservation)), errors: [] });\r\n  }\r\n\r\n  action() {\r\n    if (this.state.reservation.id)\r\n      return QueryService\r\n        .post(`/schedule/reservations/${this.state.reservation.id}`, this.state.reservation)\r\n        .then(_ => {\r\n          this.setState({ errors: [] });\r\n          this.props.onAction()\r\n        })\r\n        .catch(err => this.setState({ errors: err }));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/reservations`, this.state.reservation)\r\n        .then(_ => {\r\n          this.setState({ errors: [] });\r\n          this.props.onAction()\r\n        })\r\n        .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelReservation() {\r\n    return QueryService\r\n      .delete(`/schedule/reservations/${this.state.reservation.id}/cancel`)\r\n      .then(_ => {\r\n        this.setState({ errors: [] });\r\n        this.props.onAction()\r\n      })\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  addPayment() {\r\n    const reservation = this.state.reservation;\r\n    reservation.payments.unshift({\r\n      type: \"\",\r\n      amount: null,\r\n      reservationId: reservation.id || 0\r\n    });\r\n    this.setState({ reservation });\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, onClose, classes } = this.props;\r\n    const { reservation } = this.state;\r\n\r\n    return (\r\n      <Dialog open={isOpen} onClose={onClose} fullWidth={true} classes={{ paper: classes.root }}>\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Резервация на\r\n            <span style={{ marginLeft: '.5rem' }}>\r\n              {reservation.court.name}\r\n            </span>\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"caption\">\r\n            Час:\r\n            <Typography>{getHour(reservation.hour)} - {getHour(reservation.hour + 1)}</Typography>\r\n          </Typography>\r\n          {reservation.administrator && <Typography variant=\"caption\">\r\n            Администрирал:\r\n            <Typography>{reservation.administrator.name}</Typography>\r\n          </Typography>}\r\n\r\n          <EnumSelect\r\n            label=\"Вид резервация:\"\r\n            value={reservation.type}\r\n            fullWidth={false}\r\n            onChange={this.handleChange('type')}\r\n            EnumValues={ReservationType}\r\n            EnumName=\"ReservationType\" />\r\n\r\n          {(reservation.type == ReservationType.USER || reservation.type == ReservationType.SUBSCRIPTION)\r\n            && <AsyncSelect\r\n              label=\"Потребител\"\r\n              value={reservation.customer}\r\n              query=\"users\"\r\n              noOptionsMessage={() => 'Няма намерени потребители'}\r\n              formatOptionLabel={(option) => <Typography component=\"span\">\r\n                {option.name}\r\n                <Typography component=\"span\" variant=\"caption\">{option.email}</Typography>\r\n              </Typography>}\r\n              onChange={this.handleCustomChange('customer')}\r\n            />}\r\n\r\n          {reservation.type == ReservationType.SUBSCRIPTION && reservation.customer\r\n            && <AsyncSelect\r\n              disableSearch={true}\r\n              label=\"Абонамент\"\r\n              value={reservation.subscription}\r\n              query=\"subscriptions\"\r\n              filter={{\r\n                seasonId: reservation.seasonId,\r\n                userId: reservation.customerId\r\n              }}\r\n              noOptionsMessage={() => 'Няма регистрирани абонаменти'}\r\n              formatOptionLabel={(option) => <Typography component=\"span\">\r\n                Абонамент {l10n_text(option.type, \"SubscriptionType\")}\r\n                <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{option.season.name}</Typography>\r\n                <Typography component=\"span\" variant=\"caption\">{option.remainingHours} оставащи часа</Typography>\r\n              </Typography>}\r\n              onChange={this.handleCustomChange('subscription')}\r\n            />}\r\n\r\n          <Typography variant=\"subheading\" style={{ marginTop: '1rem', alignItems: 'center', display: 'flex' }}>\r\n            Плащания\r\n            <IconButton\r\n              color=\"primary\"\r\n              onClick={() => this.addPayment()}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Typography>\r\n\r\n          {reservation.payments && reservation.payments.map((payment, index) => {\r\n            return (\r\n              <div className={classes.paymentCell} key={index}>\r\n\r\n                <EnumSelect\r\n                  style={{ width: '100px' }}\r\n                  label=\"Вид плащане\"\r\n                  value={payment.type}\r\n                  onChange={this.handlePaymentChange('type', index)}\r\n                  EnumValues={ReservationPayment}\r\n                  EnumName=\"ReservationPayment\" />\r\n\r\n                {payment.type == ReservationPayment.CASH\r\n                  && <TextField\r\n                    label=\"Стойност\"\r\n                    value={payment.amount}\r\n                    InputProps={{\r\n                      endAdornment: <InputAdornment position=\"end\">Лв.</InputAdornment>\r\n                    }}\r\n                    onChange={this.handlePaymentChange('amount', index)}\r\n                  />}\r\n\r\n                {(payment.type == ReservationPayment.SUBS_ZONE_1 || payment.type == ReservationPayment.SUBS_ZONE_2)\r\n                  && reservation.customer\r\n                  && <AsyncSelect\r\n                    disableSearch={true}\r\n                    label=\"Абонамент\"\r\n                    value={payment.subscription}\r\n                    query=\"subscriptions\"\r\n                    filter={{\r\n                      seasonId: reservation.seasonId,\r\n                      userId: reservation.customerId,\r\n                      type: payment.type,\r\n                      onlyAvailable: true\r\n                    }}\r\n                    noOptionsMessage={() => 'Няма абонаменти с часове за отиграване'}\r\n                    formatOptionLabel={(option) => <Typography component=\"span\">\r\n                      Абонамент {l10n_text(option.type, \"SubscriptionType\")}\r\n                      <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{option.season.name}</Typography>\r\n                      <Typography component=\"span\" variant=\"caption\">{option.remainingHours} оставащи часа</Typography>\r\n                    </Typography>}\r\n                    onChange={this.handlePaymentSubscriptionChange(index)}\r\n                  />}\r\n\r\n                {/* <span style={{ cursor: 'pointer' }} onClick={() => {\r\n                  this.state.reservation.payments.splice(index, 1);\r\n                  this.setState({ reservation: this.state.reservation });\r\n                }}>\r\n                  <ClearIcon style={{ color: 'darkred' }} />\r\n                </span> */}\r\n                <div style={{ margin: '1rem 0 .3rem 0' }}>\r\n                  <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    onClick={() => {\r\n                      this.state.reservation.payments.splice(index, 1);\r\n                      this.setState({ reservation: this.state.reservation });\r\n                    }}\r\n                  >\r\n                    Премахване\r\n                </Button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          {reservation.payments.length == 0 && <Typography variant=\"caption\">Няма регистрирани плащания</Typography>}\r\n\r\n          <TextField\r\n            label=\"Бележка\"\r\n            value={reservation.info}\r\n            fullWidth={true}\r\n            multiline={true}\r\n            margin=\"none\"\r\n            onChange={this.handleChange('info')}\r\n          />\r\n\r\n          {this.state.errors && this.state.errors.length > 0\r\n            && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n              {this.state.errors.map((err, index) => {\r\n                return (\r\n                  <div key={index}><em>{index + 1}. {ErrorTexts[err]}</em></div>\r\n                );\r\n              })}\r\n            </div>}\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => this.action()}\r\n          >\r\n            Запазване\r\n          </Button>\r\n          {this.state.reservation.id && <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={() => this.cancelReservation()}\r\n          >\r\n            Отмяна на резервацията\r\n          </Button>}\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={onClose}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog >\r\n    );\r\n  }\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'exist': 'Резервация за този ден, час и корт вече съществува.',\r\n  'typeRequired': '\"Вид резервация\" е задължително поле',\r\n  'customerRequired': '\"Потребител\" е задължително поле, когато вид резервация е \"Абонат\" или \"Потребител\".',\r\n  'subscriptionRequired': '\"Абонамент\" е задължително поле, когато вид резервация е \"Абонат\".',\r\n  'usedHoursExceedTotalHours': 'Абонаментът няма оставащи часове',\r\n  'paymentSubscriptionRequired': '\"Абонамент\" е задължително поле, когато вид плащане е \"Отиграване на абонамент\".',\r\n  'typeSubscriptionAndHasPaymentSubscription': 'Не може едновременно вид резервация да е \"Абонат\" и да има вид плащане \"Отиграване на абонамент\".',\r\n  'maxAllowedTimeDiff': 'Резервацията не може да бъде отказана, защото остават по-малко часове от минимално допустимите часове за отказ.',\r\n  'reservationInThePast': 'Часът за тази резервация вече е минал.'\r\n};\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '800px'\r\n    }\r\n  },\r\n  paymentCell: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    border: `1px solid ${theme.palette.primary.light}`,\r\n    padding: '1rem',\r\n    marginBottom: '1rem',\r\n    borderRadius: '5%'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(EditReservationModal);","export const cell = {\r\n  padding: '.3rem',\r\n  fontSize: '.8em',\r\n  textAlign: 'center',\r\n  border: '1px solid lightgrey',\r\n  width: '50px',\r\n};\r\n\r\nexport const button = {\r\n  '&:hover': {\r\n    opacity: .8,\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nexport const disabled = {\r\n  '&:hover': {\r\n    cursor: 'not-allowed'\r\n  }\r\n};","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport EditReservationModal from './EditReservationModal';\r\nimport * as ReservationStyles from './styles';\r\nimport { ReservationType } from '../../enums';\r\nimport L10n from '../../components/L10n';\r\n\r\nclass AdminReservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { reservation, onChange, classes } = this.props;\r\n    let type = classes.free;\r\n    if (reservation.id)\r\n      type = classes.reserved;\r\n\r\n    if (reservation.type == ReservationType.SERVICE)\r\n      type = classes.unavaliable;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <TableCell\r\n          padding=\"none\"\r\n          className={type}\r\n          onClick={() => this.setState({ modal: true })}\r\n        >\r\n          {reservation.customer && <span>{reservation.customer.name}</span>}\r\n          {!reservation.customer && <L10n\r\n            translate=\"ReservationType\"\r\n          >\r\n            {reservation.type}\r\n          </L10n>}\r\n        </TableCell>\r\n\r\n        <EditReservationModal\r\n          reservation={reservation}\r\n          isOpen={this.state.modal}\r\n          onAction={(e) => {\r\n            onChange(e);\r\n            this.setState({ modal: false });\r\n          }}\r\n          onClose={() => this.setState({ modal: false })}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      backgroundColor: '#F3FBF0',\r\n      cursor: 'pointer',\r\n    }\r\n  },\r\n  reserved: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    cursor: 'pointer',\r\n    color: theme.palette.secondary.main,\r\n    fontWeight: '700',\r\n    background: 'url(assets/empty.png)'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(AdminReservation);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport { getHour } from '../../utils';\r\n\r\n\r\nclass ViewReservationModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      errors: []\r\n    }\r\n  }\r\n  makeReservation() {\r\n    return QueryService\r\n      .post(`/schedule/reservations`, this.props.reservation)\r\n      .then(_ => this.props.onAction())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelReservation() {\r\n    return QueryService\r\n      .delete(`/schedule/reservations/${this.props.reservation.id}/cancel`)\r\n      .then(_ => this.props.onAction())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { reservation, isOpen, onClose, classes } = this.props;\r\n\r\n    return (\r\n      <Dialog open={isOpen} onClose={onClose}>\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Резервация на\r\n            <span style={{ marginLeft: '.5rem' }}>\r\n              {reservation.court.name}\r\n            </span>\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"caption\">\r\n            Час:\r\n            <Typography>{getHour(reservation.hour)} - {getHour(reservation.hour + 1)}</Typography>\r\n          </Typography>\r\n          {!reservation.id && <Typography variant=\"caption\">\r\n            Поради възможността от възникване на премествания, запазването на\r\n            корт не ви гарантира на 100%, че ще играете точно на този корт.\r\n          </Typography>}\r\n          {reservation.id && <Typography variant=\"caption\">\r\n            Имате право да откажете часът до 4 часа (8 часа за абонамент) преди неговото начало.\r\n            След това системата отчита вашият час като използван.\r\n            Ако имате абонамент, часът ще ви се брои като използван.\r\n          </Typography>}\r\n\r\n          {this.state.errors && this.state.errors.length > 0\r\n            && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n              {this.state.errors.map((err, index) => {\r\n                return (\r\n                  <div key={index}><em>{index + 1}. {ErrorTexts[err]}</em></div>\r\n                );\r\n              })}\r\n            </div>}\r\n        </DialogContent>\r\n\r\n        {!reservation.id && <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.makeReservation()}>\r\n            Резервиране\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>}\r\n\r\n        {reservation.id && <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"outlined\" color=\"secondary\" className={classes.btn} onClick={() => this.cancelReservation()}>\r\n            Отмяна на резервацията\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"secondary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>}\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'exist': 'Резервация за този ден, час и корт вече съществува.',\r\n  'maxAllowedTimeDiff': 'Резервацията не може да бъде отказана, защото остават по-малко часове от минимално допустимите часове за отказ.',\r\n  'reservationInThePast': 'Часът за тази резервация вече е минал.'\r\n};\r\n\r\nconst styles = (theme) => ({\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ViewReservationModal);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport ViewReservationModal from './ViewReservationModal';\r\nimport * as ReservationStyles from './styles';\r\nimport L10n from '../../components/L10n';\r\n\r\nclass UserReservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { reservation, onChange, classes } = this.props;\r\n    let type = classes.free;\r\n\r\n    if (reservation.id)\r\n      type = classes.reserved;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <TableCell\r\n          padding=\"none\"\r\n          className={type}\r\n          onClick={() => this.setState({ modal: true })}\r\n        >\r\n          {reservation.id && <L10n\r\n            translate=\"CustomReservationType\"\r\n          >\r\n            {reservation.type}\r\n          </L10n>}\r\n        </TableCell>\r\n\r\n        <ViewReservationModal\r\n          reservation={reservation}\r\n          isOpen={this.state.modal}\r\n          onAction={(e) => {\r\n            onChange(e);\r\n            this.setState({ modal: false });\r\n          }}\r\n          onClose={() => this.setState({ modal: false })}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      backgroundColor: '#F3FBF0',\r\n      cursor: 'pointer',\r\n    }\r\n  },\r\n  reserved: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.primary.light,\r\n    color: theme.palette.primary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(UserReservation);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport * as ReservationStyles from './styles';\r\nimport { ReservationType } from '../../enums';\r\n\r\nclass GuestReservation extends React.Component {\r\n  render() {\r\n    const { reservation, available, classes } = this.props;\r\n    let type = classes.free;\r\n    if (reservation.id)\r\n      type = classes.taken;\r\n\r\n    if (!available || reservation.type == ReservationType.SERVICE)\r\n      type = classes.unavaliable;\r\n\r\n    return (\r\n      <TableCell padding=\"none\" className={type}></TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  taken: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(GuestReservation);","import React from 'react';\r\n\r\nimport { ApplicationMode, ReservationType } from '../../enums';\r\nimport UserService from '../../services/user.service';\r\nimport AdminReservation from './AdminReservation';\r\nimport UserReservation from './UserReservation';\r\nimport GuestReservation from './GuestReservation';\r\n\r\nclass Reservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userId: (UserService.getUser() || { id: null }).id\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.mode != this.props.mode)\r\n      this.setState({ userId: (UserService.getUser() || { id: null }).id });\r\n  }\r\n\r\n  render() {\r\n    const { reservation, mode } = this.props;\r\n    const available = reservation.hour <= reservation.court.workingHoursEnd - 1\r\n      && reservation.hour >= reservation.court.workingHoursStart;\r\n\r\n    if (!available)\r\n      return <GuestReservation {...this.props} available={available} />;\r\n\r\n    if (mode == ApplicationMode.ADMIN)\r\n      return <AdminReservation {...this.props} />;\r\n\r\n    if (mode == ApplicationMode.GUEST)\r\n      return <GuestReservation {...this.props} available={available} />\r\n\r\n    if (!reservation.id)\r\n      return <UserReservation {...this.props} />\r\n\r\n    if (reservation.customerId && reservation.customerId == this.state.userId)\r\n      return <UserReservation {...this.props} />\r\n\r\n    return <GuestReservation {...this.props} available={available} />;\r\n  }\r\n}\r\n\r\nexport default Reservation;","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport * as ReservationStyles from './styles';\r\nimport { l10n_text } from '../../components/L10n';\r\nimport { ReservationType } from '../../enums';\r\n\r\nclass ShuffleItem extends React.Component {\r\n\r\n  select() {\r\n    const { reservation, shuffle, onSelect, onUnselect } = this.props;\r\n    const index = this.findIndex(reservation, shuffle);\r\n\r\n    if (index != -1)\r\n      onUnselect(index);\r\n    else onSelect(reservation);\r\n  }\r\n\r\n  findIndex(reservation, shuffle) {\r\n    return shuffle.findIndex(e => e.date == reservation.date && e.hour == reservation.hour && e.courtId == reservation.courtId);\r\n  }\r\n\r\n  render() {\r\n    const { reservation, shuffle, classes } = this.props;\r\n    const available = reservation.hour <= reservation.court.workingHoursEnd - 1\r\n      && reservation.hour >= reservation.court.workingHoursStart;\r\n\r\n    if (!available)\r\n      return <TableCell padding=\"none\" className={classes.unavaliable}></TableCell>;\r\n\r\n    let type = classes.free;\r\n\r\n    if (this.findIndex(reservation, shuffle) != -1)\r\n      type = classes.selected;\r\n\r\n    if (!reservation.id)\r\n      return (\r\n        <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n        </TableCell>\r\n      );\r\n\r\n    if (type == classes.free)\r\n      type = classes.taken\r\n\r\n    if (reservation.type == ReservationType.USER || reservation.type == ReservationType.SUBSCRIPTION)\r\n      return (\r\n        <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n          {type != classes.free && <span>{reservation.customer.name}</span>}\r\n        </TableCell>\r\n      );\r\n\r\n    return (\r\n      <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n        {type != classes.free\r\n          && <span>{l10n_text(reservation.type, \"ReservationType\")}</span>}\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  taken: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  },\r\n  service: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    color: theme.palette.secondary.main,\r\n    fontWeight: '700',\r\n    background: 'url(assets/empty.png)'\r\n  },\r\n  selected: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.primary.contrastText\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ShuffleItem);","import moment from 'moment';\r\nimport React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { ApplicationMode } from '../../enums';\r\n\r\nclass DateComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: new Date().getDate() - 1,\r\n      previousSelected: null\r\n    };\r\n    this.weekDays = ['нед', 'пон', 'втор', 'ср', 'четв', 'пет', 'съб'];\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ selected: this.props.day - 1 });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.month != this.props.month || prevProps.year != this.props.year) {\r\n      if (this.state.previousSelected\r\n        && this.state.previousSelected.get('year') == this.props.year\r\n        && this.state.previousSelected.get('month') == this.props.month) {\r\n        this.props.onChange(this.state.previousSelected)\r\n        this.setState({\r\n          selected: this.state.previousSelected.get('date') - 1,\r\n          previousSelected: null\r\n        });\r\n      }\r\n\r\n      else if (this.state.previousSelected == null)\r\n        this.setState({\r\n          selected: false,\r\n          previousSelected: moment({ year: prevProps.year, month: prevProps.month, date: this.state.selected + 1 })\r\n        });\r\n      else\r\n        this.setState({ selected: false });\r\n    }\r\n  }\r\n\r\n  getLabel(day) {\r\n    let date = new Date(this.props.year, this.props.month, day);\r\n\r\n    return (\r\n      <div>\r\n        {day < 10 ? '0' : ''}\r\n        {day}\r\n        <div>{this.weekDays[date.getDay()]}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getDays() {\r\n    const { year, month } = this.props;\r\n\r\n    const monthSizes = [31,\r\n      (year % 100 != 0\r\n        && (year % 4 == 0\r\n          || year % 400 == 0) ? 29 : 28),\r\n      31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n    const start = 1;\r\n    const end = monthSizes[month];\r\n\r\n    return [...new Array(end - start + 1).keys()].map(k => k + start);\r\n  }\r\n\r\n  isDisabled(day) {\r\n    if (this.props.mode == ApplicationMode.ADMIN)\r\n      return false;\r\n    const { year, month, availiableDaysAhead } = this.props;\r\n    const MS_PER_DAY = 1000 * 60 * 60 * 24;\r\n\r\n    // Discard the time and time-zone information.\r\n    const targetDate = new Date(year, month, day);\r\n    const today = new Date();\r\n    const diff = Math.floor((today - targetDate) / MS_PER_DAY);\r\n    return diff > 0 || diff < -availiableDaysAhead;\r\n  }\r\n\r\n  isToday(day) {\r\n    const { year, month } = this.props;\r\n    const today = new Date();\r\n    return year == today.getFullYear() && month == today.getMonth() && day == today.getDate();\r\n  }\r\n\r\n  render() {\r\n    const { year, month, classes, onChange } = this.props;\r\n    const today = new Date().getDate();\r\n\r\n    return (\r\n      <Tabs\r\n        classes={{\r\n          root: classes.tabsRoot,\r\n          scroller: classes.tabsScroller,\r\n          indicator: classes.tabsIndicator,\r\n          scrollButtons: classes.tabsScrollButtons\r\n        }}\r\n        value={this.state.selected}\r\n        onChange={(_, value) => {\r\n          this.setState({ selected: value });\r\n          onChange(moment({ year, month, date: value + 1 }));\r\n        }}\r\n        scrollable\r\n        scrollButtons=\"on\">\r\n        {this.getDays().map(day => {\r\n          let rootClass = classes.tab;\r\n          if (this.isToday(day) && this.state.selected != (today - 1))\r\n            rootClass = rootClass + ` ${classes.todayTab}`;\r\n\r\n          return (\r\n            <Tab\r\n              classes={{\r\n                root: rootClass,\r\n                selected: classes.selectedTab,\r\n                disabled: classes.disabledTab,\r\n                labelContainer: classes.labelContainer\r\n              }}\r\n              disabled={this.isDisabled(day)}\r\n              key={day}\r\n              label={this.getLabel(day)}\r\n            />\r\n          );\r\n        })}\r\n      </Tabs>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => {\r\n  return {\r\n    tabsRoot: {\r\n    },\r\n    labelContainer: {\r\n      padding: '.5rem 0'\r\n    },\r\n    tab: {\r\n      backgroundColor: 'white',\r\n      color: theme.palette.primary.dark,\r\n      [theme.breakpoints.down('xl')]: {\r\n        width: '60px',\r\n        minWidth: '0px',\r\n        minHeight: '0px',\r\n        fontWeight: 700,\r\n        border: '.5px solid lightgrey',\r\n      }\r\n    },\r\n    selectedTab: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      border: 'none'\r\n    },\r\n    todayTab: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      border: 'none'\r\n    },\r\n    disabledTab: {\r\n      color: 'grey',\r\n      fontWeight: 500,\r\n      backgroundColor: 'whitesmoke'\r\n    },\r\n    tabsScroller: {\r\n      [theme.breakpoints.up('md')]: {\r\n        overflow: 'hidden'\r\n      }\r\n    },\r\n    tabsIndicator: {\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n    tabsScrollButtons: {\r\n      color: theme.palette.primary.main,\r\n      flexBasis: '30px'\r\n    }\r\n  };\r\n};\r\n\r\nexport default withStyles(styles)(DateComponent);","import moment from 'moment';\r\nimport React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport UserService from '../../services/user.service';\r\nimport DateComponent from './DateComponent';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    paddingLeft: '1.3rem',\r\n    paddingRight: '2.3rem',\r\n    display: 'flex',\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  formControl: {\r\n    width: '120px',\r\n    margin: '.5rem',\r\n    [theme.breakpoints.down('xs')]: {\r\n      margin: '.5rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nclass Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const today = moment().startOf('date');\r\n    this.state = {\r\n      year: today.get('year'),\r\n      month: today.get('month'),\r\n      day: today.get('date'),\r\n      date: today\r\n    };\r\n    this.years = [2016, 2017, 2018, 2019];\r\n    this.monts = ['Януари', 'Февруари', 'Март', 'Април', 'Май', 'Юни', 'Юли', 'Август', 'Септември', 'Октомври', 'Ноември', 'Декември'];\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const state = this.state;\r\n      state[prop] = e.target.value;\r\n      this.setState(state);\r\n      if (this.props.emitDateOnAnyChange)\r\n        this.props.onChange(moment(state.date).set(prop, state[prop]));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      year: this.props.value.get('year'),\r\n      month: this.props.value.get('month'),\r\n      day: this.props.value.get('date')\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes, onChange } = this.props;\r\n    const { year, month, day } = this.state;\r\n\r\n    return (\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <div className={classes.root}>\r\n          <FormControl className={classes.formControl}>\r\n            <Select\r\n              value={month}\r\n              onChange={this.handleChange('month')}\r\n            >\r\n              {this.monts.map((month, index) => {\r\n                return (\r\n                  <MenuItem key={index} value={index}>{month}</MenuItem>\r\n                );\r\n              })}\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl className={classes.formControl}>\r\n            <Select\r\n              value={year}\r\n              onChange={this.handleChange('year')}\r\n            >\r\n              {this.years.map(year => {\r\n                return (\r\n                  <MenuItem key={year} value={year}>{year}</MenuItem>\r\n                );\r\n              })}\r\n            </Select>\r\n          </FormControl>\r\n        </div>\r\n\r\n        <UserService.WithApplicationMode>\r\n          {mode => <DateComponent\r\n            year={year}\r\n            month={month}\r\n            day={day}\r\n            availiableDaysAhead={14}\r\n            mode={mode}\r\n            onChange={(date) => {\r\n              this.setState({ date });\r\n              return onChange(date);\r\n            }}\r\n          />}\r\n        </UserService.WithApplicationMode>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Calendar);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    display: 'inline-flex',\r\n    flexDirection: 'column'\r\n  },\r\n  item: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '.3rem',\r\n    '& div': {\r\n      width: '100px',\r\n      height: '20px',\r\n      border: '1px solid lightgrey'\r\n    }\r\n  },\r\n  reserved: {\r\n    backgroundColor: theme.palette.primary.light\r\n  },\r\n  taken: {\r\n    backgroundColor: theme.palette.secondary.light\r\n  },\r\n  unavailiable: {\r\n    background: 'url(assets/empty.png)'\r\n  }\r\n});\r\n\r\nclass Legend extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.item}>\r\n          <div></div>\r\n          <Typography variant=\"caption\"> - свободен час</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.reserved}></div>\r\n          <Typography variant=\"caption\"> - резервиран от потребителя</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.taken}></div>\r\n          <Typography variant=\"caption\"> - зает час</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.unavailiable}></div>\r\n          <Typography variant=\"caption\"> - затворено игрище</Typography>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Legend);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass ConfirmationDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n\r\n    this.open = (e) => this.setState({ isOpen: true });\r\n    this.close = (e) => this.setState({ isOpen: false });\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { title, body, onAccept, children, classes, style } = this.props;\r\n\r\n    return (\r\n      <span style={style}>\r\n        <Dialog open={isOpen} onClose={this.close} classes={{ paper: classes.root }}>\r\n          <DialogTitle>{title}</DialogTitle>\r\n          <DialogContent>{body}</DialogContent>\r\n          <DialogActions className={classes.btnContainer}>\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={onAccept}>\r\n              Да\r\n          </Button>\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={this.close}>\r\n              Не\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <span onClick={this.open}>\r\n          {children}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ConfirmationDialog);","import moment from 'moment';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\nimport Reservation from './reservation/Reservation';\r\nimport ShuffleItem from './reservation/ShuffleItem';\r\nimport Calendar from '../components/calendar/Calendar';\r\nimport Legend from './Legend';\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport { getHour } from '../utils';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nconst scrollButton = (theme) => ({\r\n  zIndex: 1100,\r\n  backgroundColor: theme.palette.primary.main,\r\n  color: theme.palette.primary.contrastText,\r\n  position: 'absolute',\r\n  boxShadow: `0 0 20px ${theme.palette.primary.dark}`,\r\n  borderRadius: '50%',\r\n  padding: '8px',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  opacity: '.9'\r\n});\r\n\r\nconst styles = (theme) => ({\r\n  hours: {\r\n    width: '10px',\r\n    textAlign: 'center'\r\n  },\r\n  disabled: {\r\n    cursor: 'not-allowed',\r\n    opacity: .5\r\n  },\r\n  scrollLeft: {\r\n    ...scrollButton(theme),\r\n    top: '50%',\r\n    left: '5px'\r\n  },\r\n  scrollRight: {\r\n    ...scrollButton(theme),\r\n    top: '50%',\r\n    right: '5px'\r\n  }\r\n});\r\n\r\n\r\nclass Schedule extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: UserService.getUser(),\r\n      counter: 0,\r\n      season: {},\r\n      courts: [],\r\n      reservations: [],\r\n      date: moment().startOf('date'),\r\n      shuffle: null\r\n    };\r\n\r\n    const rootRef = document.getElementById('root');\r\n    rootRef.onscroll = () => {\r\n      const needScrollBtns = rootRef.clientWidth <= 600;\r\n      const tableInViewport = rootRef.scrollTop + 200 >= this.tableRef.offsetTop;\r\n\r\n      if (needScrollBtns && tableInViewport)\r\n        this.btnContainerRef.style.display = 'block';\r\n      else\r\n        this.btnContainerRef.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    QueryService\r\n      .get(`/schedule/config`)\r\n      .then(config => this.setState(config));\r\n\r\n    this.getData(this.state.date);\r\n  }\r\n\r\n  getData(date) {\r\n    return QueryService\r\n      .post(`/schedule/reservations/filter`, { date: date.format('YYYY-MM-DD') })\r\n      .then(reservations => this.setState({ reservations }));\r\n  }\r\n\r\n  getReservation(hour, court) {\r\n    const sameReservation = (e) => {\r\n      return e.courtId == court.id && e.hour == hour\r\n    };\r\n\r\n    const existing = this.state.reservations.find(e => sameReservation(e));\r\n    return (existing || this.constructReservation(this.state.date, hour, court));\r\n  }\r\n\r\n  shuffle() {\r\n    const shuffle = this.state.shuffle;\r\n    if (!shuffle || shuffle.length < 2)\r\n      return;\r\n\r\n    this.setState({ shuffleErrors: null });\r\n\r\n    return QueryService\r\n      .post('/schedule/shuffle', shuffle)\r\n      .then(_ => {\r\n        this.getData(this.state.date);\r\n        this.setState({ shuffle: null });\r\n      })\r\n      .catch(err => this.setState({ shuffleErrors: err }));\r\n  }\r\n\r\n  shuffleOnSelect(item) {\r\n    //console.log('select', item);\r\n    const shuffle = this.state.shuffle;\r\n    shuffle.unshift(item);\r\n    shuffle.splice(2, 1);\r\n    this.setState({ shuffle });\r\n  }\r\n\r\n  shuffleOnUnselect(index) {\r\n    //console.log('unselect', index);\r\n    const shuffle = this.state.shuffle;\r\n    shuffle.splice(index, 1);\r\n    this.setState({ shuffle });\r\n  }\r\n\r\n  constructReservation(date, hour, court) {\r\n    return {\r\n      date: date.format('YYYY-MM-DD'),\r\n      hour: hour,\r\n      court: court,\r\n      courtId: court.id,\r\n      season: this.state.season,\r\n      seasonId: this.state.season.id,\r\n      administrator: this.state.administrator,\r\n      info: '',\r\n      type: '',\r\n      payments: []\r\n    }\r\n  }\r\n\r\n  scroll(mode) {\r\n    if (mode === 'left')\r\n      this.tableRef.scrollLeft = this.tableRef.scrollLeft - 300;\r\n    if (mode === 'right')\r\n      this.tableRef.scrollLeft = this.tableRef.scrollLeft + 300;\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { season, courts, date } = this.state;\r\n\r\n    return (\r\n      <UserService.WithApplicationMode>\r\n        {mode => <div className=\"container\">\r\n          <Paper style={{ padding: '1rem' }}>\r\n            <Typography align=\"center\" variant=\"headline\" gutterBottom={true}>\r\n              График - {date.format('DD.MM.YYYY')}\r\n            </Typography>\r\n            <Calendar\r\n              value={date}\r\n              onChange={date => {\r\n                this.setState({ date, shuffle: null });\r\n                this.getData(date);\r\n              }}\r\n            />\r\n\r\n            <Legend />\r\n            <div>\r\n              <Button variant=\"outlined\" color=\"primary\" size=\"small\"\r\n                style={{ marginRight: '.3rem' }}\r\n                onClick={() => this.getData(date)}\r\n              >\r\n                <ReplayIcon />\r\n                <span style={{ marginLeft: '.3rem' }}>Презареди</span>\r\n              </Button>\r\n\r\n              {mode == ApplicationMode.ADMIN\r\n                && <React.Fragment>\r\n                  {this.state.shuffle\r\n                    && <React.Fragment>\r\n                      <ConfirmationDialog\r\n                        title=\"Разместване на резервации\"\r\n                        body={<Typography>Сигурни ли сте че искате да направите разместването?</Typography>}\r\n                        onAccept={() => this.shuffle()}\r\n                      >\r\n                        <Button variant=\"contained\" color=\"primary\">\r\n                          Запис\r\n                      </Button>\r\n                      </ConfirmationDialog>\r\n                      <Button variant=\"outlined\" color=\"primary\"\r\n                        style={{ marginLeft: '.3rem' }}\r\n                        onClick={() => this.setState({ shuffle: null, shuffleErrors: null })}\r\n                      >\r\n                        Отказ\r\n                      </Button>\r\n                    </React.Fragment>}\r\n                  {!this.state.shuffle && <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={() => this.setState({ shuffle: [] })}>\r\n                    <ShuffleIcon />\r\n                    Разместване\r\n                  </Button>}\r\n                </React.Fragment>}\r\n            </div>\r\n\r\n            {this.state.shuffleErrors\r\n              && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n                <span><em>{ErrorTexts[this.state.shuffleErrors.message]}</em></span>\r\n              </div>}\r\n\r\n\r\n\r\n            <div style={{ overflowX: 'auto', scrollBehavior: 'smooth' }} ref={ref => this.tableRef = ref}>\r\n\r\n              <div ref={ref => this.btnContainerRef = ref} style={{ display: 'none' }}>\r\n                <div className={classes.scrollLeft} onClick={() => this.scroll('left')} >\r\n                  <ChevronLeftIcon />\r\n                </div>\r\n\r\n                <div className={classes.scrollRight} onClick={() => this.scroll('right')}>\r\n                  <ChevronRightIcon />\r\n                </div>\r\n              </div>\r\n\r\n              <Table style={{ minWidth: '600px' }} >\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell padding=\"none\" style={{ textAlign: 'center' }}>Час\\Корт</TableCell>\r\n                    {courts.map(court => {\r\n                      return (\r\n                        <TableCell\r\n                          padding=\"none\"\r\n                          style={{ textAlign: 'center' }}\r\n                          key={court.id}\r\n                        >\r\n                          {court.name}\r\n                        </TableCell>\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {getRange(season.workingHoursStart, season.workingHoursEnd - 1).map(hour => {\r\n                    return (\r\n                      <TableRow key={hour}>\r\n                        <TableCell padding=\"none\"\r\n                          classes={{\r\n                            root: classes.hours\r\n                          }}\r\n                        >\r\n                          {getHour(hour)}\r\n                        </TableCell>\r\n\r\n                        {courts.map(court => {\r\n                          if (!this.state.shuffle)\r\n                            return (\r\n                              <Reservation\r\n                                mode={mode}\r\n                                key={court.id}\r\n                                season={this.state.season}\r\n                                reservation={this.getReservation(hour, court)}\r\n                                onChange={_ => this.getData(date)}\r\n                              />\r\n                            );\r\n                          else\r\n                            return (\r\n                              <ShuffleItem\r\n                                key={court.id}\r\n                                shuffle={this.state.shuffle}\r\n                                reservation={this.getReservation(hour, court)}\r\n                                onSelect={(e) => this.shuffleOnSelect(e)}\r\n                                onUnselect={(e) => this.shuffleOnUnselect(e)}\r\n                              />\r\n                            )\r\n                        })}\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          </Paper>\r\n        </div>}\r\n      </UserService.WithApplicationMode>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getRange(start, end) {\r\n  if (!start || !end)\r\n    return [];\r\n  return [...new Array(end - start + 1).keys()].map(e => e + start);\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'invalid': 'Моля изберете две полета за резервация',\r\n  'invalidTime': 'Не може да резмествате вече минали резервации'\r\n};\r\n\r\nexport default withStyles(styles)(Schedule);","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport { getHour } from '../utils';\r\n\r\nconst styles = () => ({\r\n  card: {\r\n    width: '250px',\r\n    margin: '1rem',\r\n    padding: '1rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-start'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '0'\r\n  }\r\n});\r\n\r\nclass CourtItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: 'view'\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.court.id)\r\n      this.setState({ mode: 'create' });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.court != this.props.court)\r\n      if (!this.props.court.id)\r\n        this.setState({ mode: 'create' });\r\n  }\r\n\r\n  handleCancel() {\r\n    if (this.state.mode == 'edit')\r\n      this.setState({ mode: 'view' });\r\n    else this.props.onCreateCancel();\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    const { classes, court } = this.props;\r\n\r\n    if (mode != 'view')\r\n      return <CourtEdit\r\n        mode={mode}\r\n        court={court}\r\n        onChange={model => {\r\n          this.setState({ mode: 'view' });\r\n          this.props.onChange(model);\r\n        }}\r\n        onCancel={() => this.handleCancel()}\r\n      />;\r\n    else\r\n      return (\r\n        <Card classes={{ root: classes.card }} style={{ opacity: court.isActive ? 1 : .5 }}>\r\n          <CardContent classes={{ root: classes.cardContent }}>\r\n            <Typography variant=\"title\" style={{ display: 'flex', alignItems: 'center' }}>\r\n              {court.name}\r\n              {!court.isActive && <Typography variant=\"caption\">(неактивен)</Typography>}\r\n            </Typography>\r\n            <Typography variant=\"caption\">{court.info}</Typography>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>\r\n              Работно време:\r\n              <Typography>{getHour(court.workingHoursStart)} - {getHour(court.workingHoursEnd)}</Typography>\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions classes={{ root: classes.cardActions }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ mode: 'edit' })}>Промяна</Button>\r\n          </CardActions>\r\n        </Card >\r\n      );\r\n  }\r\n}\r\n\r\nclass CourtEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      name: '',\r\n      info: '',\r\n      isActive: true,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.court);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.court != this.props.court)\r\n      this.setState(this.props.court);\r\n  }\r\n\r\n  cancel() {\r\n    this.setState(this.props.court);\r\n    this.props.onCancel();\r\n  }\r\n\r\n  save() {\r\n    if (this.state.id)\r\n      return QueryService\r\n        .post(`/schedule/courts/${this.state.id}`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/courts`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.props;\r\n\r\n    return (\r\n      <Paper style={{ flexBasis: '250px', display: 'flex', flexDirection: 'column', padding: '2rem' }}>\r\n        {mode == 'create' && <Typography align=\"center\" variant=\"headline\">Нов корт</Typography>}\r\n        {mode == 'edit' && <Typography align=\"center\" variant=\"headline\">Промяна на корт</Typography>}\r\n\r\n\r\n        <FormControlLabel\r\n          control={\r\n            <Switch\r\n              checked={this.state.isActive}\r\n              onChange={e => this.setState({ isActive: e.target.value === 'true' })}\r\n              value={this.state.isActive ? 'false' : 'true'}\r\n              color=\"primary\"\r\n            />\r\n          }\r\n          label=\"Активен\"\r\n        />\r\n\r\n        <TextField\r\n          id=\"name\"\r\n          label=\"Наименование\"\r\n          value={this.state.name}\r\n          onChange={(e) => this.setState({ name: e.target.value })}\r\n        />\r\n        <TextField\r\n          id=\"info\"\r\n          label=\"Информация\"\r\n          multiline\r\n          rowsMax=\"4\"\r\n          value={this.state.info}\r\n          onChange={(e) => this.setState({ info: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursStart\"\r\n          label=\"Работно време ОТ\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursStart}\r\n          onChange={(e) => this.setState({ workingHoursStart: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursEnd\"\r\n          label=\"Работно време ДО\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursEnd}\r\n          onChange={(e) => this.setState({ workingHoursEnd: e.target.value })}\r\n        />\r\n\r\n        {this.props.mode == 'create' && <div style={{ margin: '1rem 0 0 0' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Създаване\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n\r\n        {this.props.mode == 'edit' && <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Запис\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(CourtItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport CourtItem from './CourtItem';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center'\r\n  }\r\n});\r\n\r\nclass Courts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      courts: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get(`/schedule/courts`)\r\n      .then(e => this.setState({ courts: e }));\r\n  }\r\n\r\n  updateModel(model, index) {\r\n    const courts = this.state.courts;\r\n    courts[index] = model;\r\n    this.setState({ courts });\r\n  }\r\n\r\n  addCourt() {\r\n    const courts = this.state.courts;\r\n    if (courts.length > 0 && !courts[0].id)\r\n      return;\r\n    const court = {\r\n      info: '',\r\n      name: '',\r\n      isActive: true,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    };\r\n\r\n\r\n    courts.unshift(court);\r\n\r\n    this.setState({ courts: courts });\r\n  }\r\n\r\n  removeCourt(index) {\r\n    const courts = this.state.courts;\r\n    courts.splice(index, 1);\r\n    this.setState({ courts: courts });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Button variant=\"contained\" size=\"medium\" color=\"primary\" onClick={() => this.addCourt()} style={{ marginBottom: '.5rem' }}>\r\n          Добави корт\r\n        </Button>\r\n        <div className={classes.root}>\r\n          {this.state.courts.map((court, index) => {\r\n            return (\r\n              <CourtItem\r\n                key={court.id || 0}\r\n                court={court}\r\n                onChange={model => this.updateModel(model, index)}\r\n                onCreateCancel={() => this.removeCourt(index)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Courts);","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport { getHour } from '../utils';\r\n\r\nconst styles = () => ({\r\n  card: {\r\n    width: '250px',\r\n    margin: '1rem',\r\n    padding: '1rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-start'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '0'\r\n  }\r\n});\r\n\r\nclass SeasonItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: 'view'\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.season.id)\r\n      this.setState({ mode: 'create' });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.season != this.props.season)\r\n      if (!this.props.season.id)\r\n        this.setState({ mode: 'create' });\r\n  }\r\n\r\n  handleCancel() {\r\n    if (this.state.mode == 'edit')\r\n      this.setState({ mode: 'view' });\r\n    else this.props.onCreateCancel();\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    const { classes, season } = this.props;\r\n\r\n    if (mode != 'view')\r\n      return <SeasonEdit\r\n        mode={mode}\r\n        season={season}\r\n        onChange={model => {\r\n          this.setState({ mode: 'view' });\r\n          this.props.onChange(model);\r\n        }}\r\n        onCancel={() => this.handleCancel()}\r\n      />;\r\n    else\r\n      return (\r\n        <Card classes={{ root: classes.card }}>\r\n          <CardContent classes={{ root: classes.cardContent }}>\r\n            <Typography variant=\"title\" style={{ display: 'flex', alignItems: 'center' }}>\r\n              {season.name}\r\n            </Typography>\r\n            <Typography variant=\"caption\">{season.info}</Typography>\r\n            <Typography style={{ margin: '.3rem 0' }}>\r\n              {new Date(season.seasonStart).toLocaleDateString()} - {new Date(season.seasonEnd).toLocaleDateString()}\r\n            </Typography>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>\r\n              Работно време:\r\n              <Typography>{getHour(season.workingHoursStart)} - {getHour(season.workingHoursEnd)}</Typography>\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions classes={{ root: classes.cardActions }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ mode: 'edit' })}>Промяна</Button>\r\n          </CardActions>\r\n        </Card >\r\n      );\r\n  }\r\n}\r\n\r\nclass SeasonEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      name: '',\r\n      info: '',\r\n      seasonStart: null,\r\n      seasonEnd: null,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: '',\r\n      isActive: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.season);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.season != this.props.season)\r\n      this.setState(this.props.season);\r\n  }\r\n\r\n  cancel() {\r\n    this.setState(this.props.season);\r\n    this.props.onCancel();\r\n  }\r\n\r\n  save() {\r\n    if (this.state.id)\r\n      return QueryService\r\n        .post(`/schedule/seasons/${this.state.id}`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/seasons`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.props;\r\n\r\n    return (\r\n      <Paper style={{ flexBasis: '250px', display: 'flex', flexDirection: 'column', padding: '2rem' }}>\r\n        {mode == 'create' && <Typography align=\"center\" variant=\"headline\">Нов сезон</Typography>}\r\n        {mode == 'edit' && <Typography align=\"center\" variant=\"headline\">Промяна на сезон</Typography>}\r\n\r\n        <TextField\r\n          id=\"name\"\r\n          label=\"Наименование\"\r\n          value={this.state.name}\r\n          onChange={(e) => this.setState({ name: e.target.value })}\r\n        />\r\n        <TextField\r\n          id=\"info\"\r\n          label=\"Информация\"\r\n          multiline\r\n          rowsMax=\"4\"\r\n          value={this.state.info}\r\n          onChange={(e) => this.setState({ info: e.target.value })}\r\n        />\r\n\r\n        <DatePicker\r\n          autoOk\r\n          label=\"Начало на сезона\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          fullWidth={true}\r\n          value={this.state.seasonStart}\r\n          onChange={value => this.setState({ seasonStart: value })}\r\n        />\r\n\r\n        <DatePicker\r\n          autoOk\r\n          label=\"Край на сезона\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          fullWidth={true}\r\n          value={this.state.seasonEnd}\r\n          onChange={value => this.setState({ seasonEnd: value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursStart\"\r\n          label=\"Работно време ОТ\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursStart}\r\n          onChange={(e) => this.setState({ workingHoursStart: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursEnd\"\r\n          label=\"Работно време ДО\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursEnd}\r\n          onChange={(e) => this.setState({ workingHoursEnd: e.target.value })}\r\n        />\r\n\r\n        {this.props.mode == 'create' && <div style={{ margin: '1rem 0 0 0' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Създаване\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n\r\n        {this.props.mode == 'edit' && <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Запис\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(SeasonItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport SeasonItem from './SeasonItem';\r\nimport QueryService from '../services/query.service';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center'\r\n  }\r\n});\r\n\r\nclass Seasons extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      seasons: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get(`/schedule/seasons`)\r\n      .then(e => this.setState({ seasons: e }));\r\n  }\r\n\r\n  updateModel(model, index) {\r\n    const seasons = this.state.seasons;\r\n    seasons[index] = model;\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  addSeason() {\r\n    const seasons = this.state.seasons;\r\n    if (seasons.length > 0 && !seasons[0].id)\r\n      return;\r\n\r\n    const season = {\r\n      info: '',\r\n      name: '',\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    };\r\n\r\n    seasons.unshift(season);\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  removeSeason(index) {\r\n    const seasons = this.state.seasons;\r\n    seasons.splice(index, 1);\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Button variant=\"contained\" size=\"medium\" color=\"primary\" onClick={() => this.addSeason()} style={{ marginBottom: '.5rem' }}>\r\n          Добави сезон\r\n        </Button>\r\n        <div className={classes.root}>\r\n          {this.state.seasons.map((season, index) => {\r\n            return (\r\n              <SeasonItem\r\n                key={season.id || 0}\r\n                season={season}\r\n                onChange={model => this.updateModel(model, index)}\r\n                onCreateCancel={() => this.removeSeason(index)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Seasons);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\n\r\nexport class SortableTableCell extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active: false,\r\n      direction: 'desc'\r\n    };\r\n\r\n    this.handleClick = () => {\r\n      let { direction, active } = this.state;\r\n\r\n      if (!active)\r\n        active = true;\r\n      else if (direction === 'desc')\r\n        direction = 'asc';\r\n      else\r\n        direction = 'desc';\r\n\r\n\r\n      this.setState({ direction, active });\r\n      this.props.orderHandler(direction);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TableCell onClick={this.handleClick}>\r\n        <TableSortLabel\r\n          active={this.state.active}\r\n          direction={this.state.direction}\r\n        >\r\n          {this.props.children}\r\n        </TableSortLabel>\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nexport function orderData(data, ordering) {\r\n  if (!ordering)\r\n    return;\r\n\r\n  if (ordering[1] === 'asc')\r\n    data.sort((a, b) => b[ordering[0]] - a[ordering[0]]);\r\n  else\r\n    data.sort((a, b) => a[ordering[0]] - b[ordering[0]]);\r\n}\r\n\r\nexport function transformDailyData(data, classifier) {\r\n  const reduced = data\r\n    .reduce((acc, curr) => acc.concat(curr.payments), []);\r\n\r\n  const result = {};\r\n\r\n  Object.keys(classifier).forEach(key => {\r\n    result[classifier[key]] = 0\r\n  });\r\n\r\n  reduced.forEach(e => {\r\n    result[e.type]++\r\n  });\r\n\r\n  return Object.keys(result).map(key => {\r\n    return {\r\n      key,\r\n      count: result[key]\r\n    }\r\n  });\r\n}\r\n\r\nexport function transformMonthlyData(data, classifier) {\r\n  const users = {};\r\n\r\n  data.forEach(e => {\r\n    if (!users[e.customerId]) {\r\n      users[e.customerId] = {\r\n        customer: e.customer,\r\n        payments: {}\r\n      };\r\n\r\n      Object.keys(classifier).forEach(key => {\r\n        users[e.customerId].payments[classifier[key]] = 0\r\n      });\r\n    }\r\n\r\n    e.payments.forEach(payment => users[e.customerId].payments[payment.type]++)\r\n  });\r\n\r\n  return Object.keys(users).map(key => {\r\n    return {\r\n      user: users[key].customer,\r\n      payments: users[key].payments,\r\n      totalCount: Object.keys(users[key].payments).reduce((acc, pKey) => acc + users[key].payments[pKey], 0)\r\n    }\r\n  });\r\n}\r\n\r\nexport function transformToUserPlayedHours(data) {\r\n  const users = {};\r\n\r\n  data.forEach(e => {\r\n    if (!e.customerId)\r\n      return;\r\n\r\n    if (!users[e.customerId]) {\r\n      users[e.customerId] = {\r\n        customer: e.customer,\r\n        totalHours: 0\r\n      };\r\n    }\r\n\r\n    users[e.customerId].totalHours++;\r\n  });\r\n\r\n  return Object.keys(users).map(key => users[key]);\r\n}\r\n\r\nexport function transformByClassifier(data, classifier, customFn = () => null) {\r\n  const result = {};\r\n  const customValue = {};\r\n\r\n  Object.keys(classifier).forEach(key => {\r\n    result[classifier[key]] = 0\r\n  });\r\n\r\n  data.forEach(e => {\r\n    result[e.type]++;\r\n    customValue[e.type] = customFn(customValue[e.type], e);\r\n  });\r\n\r\n  return Object.keys(result).map(key => {\r\n    return {\r\n      key,\r\n      count: result[key],\r\n      custom: customValue[key]\r\n    }\r\n  });\r\n}","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\n\r\nimport { l10n_text } from '../components/L10n';\r\nimport { SortableTableCell, orderData, transformToUserPlayedHours, transformByClassifier } from './utils';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport class UserPlayedHours extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      order: null\r\n    };\r\n\r\n    this.handleOrder = (prop) => (direction) => {\r\n      this.setState({ order: [prop, direction] });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const data = transformToUserPlayedHours(this.props.data);\r\n    orderData(data, this.state.order);\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell style={{ width: '50%' }}>Потребител</TableCell>\r\n            <SortableTableCell orderHandler={this.handleOrder('totalHours')}>\r\n              Изиграни часове\r\n            </SortableTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map(e => {\r\n            return (\r\n              <TableRow key={e.customer.id}>\r\n                <TableCell>\r\n                  <Typography>\r\n                    {e.customer.name}\r\n                    <Typography variant=\"caption\">{e.customer.email}</Typography>\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>{e.totalHours}</TableCell>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableCell>ОБЩО</TableCell>\r\n            <TableCell>{data.reduce((acc, curr) => acc + curr.totalHours, 0)}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport class StatisticByClassifier extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      order: null\r\n    };\r\n\r\n    this.handleOrder = (prop) => (direction) => {\r\n      this.setState({ order: [prop, direction] });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, classifier, translation, label1, label2, customFn, customValueSuffix } = this.props;\r\n    const transformed = transformByClassifier(data, classifier, customFn || (() => null));\r\n    orderData(transformed, this.state.order);\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell style={{ width: '50%' }}>{label1}</TableCell>\r\n            <SortableTableCell orderHandler={this.handleOrder('count')}>\r\n              {label2}\r\n            </SortableTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {transformed.map(e => {\r\n            return (\r\n              <TableRow key={e.key}>\r\n                <TableCell>{l10n_text(e.key, translation)}</TableCell>\r\n                <TableCell>\r\n                  {e.count}\r\n                  {e.custom && <span style={{ marginLeft: '.3rem' }}>({e.custom}{customValueSuffix})</span>}\r\n                </TableCell>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableCell>ОБЩО</TableCell>\r\n            <TableCell>{transformed.reduce((acc, curr) => acc + curr.count, 0)}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","import moment from 'moment';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport Calendar from '../components/calendar/Calendar';\r\nimport QueryService from '../services/query.service';\r\nimport { StatisticsType, ReservationPayment, ReservationType } from '../enums';\r\nimport { UserPlayedHours, StatisticByClassifier } from './MonthlyStatistics';\r\n\r\nclass StatisticsRoot extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: moment().startOf('date'),\r\n      type: StatisticsType.MONTHLY,\r\n      data: []\r\n    };\r\n\r\n    this.handleCalendarChange = (date) => {\r\n      this.setState({ date });\r\n      this.getData(date, this.state.type);\r\n    }\r\n\r\n    this.handleStatisticsChange = (_, value) => {\r\n      this.setState({ type: value });\r\n      this.getData(this.state.date, value);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData(this.state.date, this.state.type);\r\n  }\r\n\r\n  getData(date, type) {\r\n    return QueryService\r\n      .post('/statistics', { date: date.format('YYYY-MM-DD'), type })\r\n      .then(data => this.setState({ data }));\r\n  }\r\n\r\n  render() {\r\n    const { date, type, data } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ padding: '1rem' }}>\r\n          <Typography></Typography>\r\n          <Typography align=\"center\" variant=\"headline\" gutterBottom={true}>\r\n            Справки\r\n          </Typography>\r\n          <Calendar\r\n            emitDateOnAnyChange={true}\r\n            value={date}\r\n            onChange={this.handleCalendarChange}\r\n          />\r\n\r\n          <Tabs value={type} onChange={this.handleStatisticsChange} textColor=\"primary\">\r\n            <Tab value={StatisticsType.MONTHLY} label=\"Месечна\"></Tab>\r\n            <Tab value={StatisticsType.DAILY} label=\"Дневна\"></Tab>\r\n          </Tabs>\r\n\r\n          {type == StatisticsType.MONTHLY && <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по потребители</Typography>\r\n            <UserPlayedHours data={data} />\r\n          </div>}\r\n\r\n          {type == StatisticsType.MONTHLY && <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по вид резервация</Typography>\r\n            <StatisticByClassifier\r\n              label1=\"Вид резервация\"\r\n              label2=\"Регистрирани резервации\"\r\n              classifier={ReservationType}\r\n              translation=\"ReservationType\"\r\n              data={data} />\r\n          </div>}\r\n\r\n          <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по регистрирани плащания</Typography>\r\n            <StatisticByClassifier\r\n              label1=\"Метод на плащане\"\r\n              label2=\"Регистрирани плащания\"\r\n              classifier={ReservationPayment}\r\n              translation=\"ReservationPayment\"\r\n              customFn={paymentsAmountAccumulator}\r\n              customValueSuffix=\" лв.\"\r\n              data={reduceToPayments(data)} />\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction reduceToPayments(data) {\r\n  return data.reduce((acc, curr) => acc.concat(curr.payments), []);\r\n}\r\n\r\nfunction paymentsAmountAccumulator(current, payment) {\r\n  if (payment.amount)\r\n    return (current || 0) + parseFloat(payment.amount);\r\n  else return current;\r\n}\r\n\r\nexport default StatisticsRoot;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\n\r\nimport EnumSelect from '../components/EnumSelect';\r\nimport { Gender, CourtType, PlayStyle, BackhandType } from '../enums';\r\n\r\nclass UserModel {\r\n  constructor(props) {\r\n    this.UserAccountData = this.UserAccountData.bind(this);\r\n    this.UserAccountSecondaryData = this.UserAccountSecondaryData.bind(this);\r\n    this.UserPlayerMainData = this.UserPlayerMainData.bind(this);\r\n    this.UserPlayerSecondaryData = this.UserPlayerSecondaryData.bind(this);\r\n  }\r\n\r\n  get() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      telephone: '',\r\n      gender: '',\r\n      birthDate: null,\r\n      startedPlaying: '',\r\n      playStyle: '',\r\n      courtType: '',\r\n      backhandType: '',\r\n      reservationDebt: 0,\r\n      subscriptionDebt: 0\r\n    };\r\n  }\r\n\r\n  getErrorsModel() {\r\n    return {\r\n      email: [],\r\n      password: [],\r\n      confirmPassword: [],\r\n      firstName: [],\r\n      lastName: [],\r\n      telephone: [],\r\n      gender: [],\r\n      birthDate: [],\r\n      startedPlaying: [],\r\n      playStyle: [],\r\n      courtType: [],\r\n      backhandType: [],\r\n      reservationDebt: [],\r\n      subscriptionDebt: []\r\n    };\r\n  }\r\n\r\n  composeErrors(errors, name) {\r\n    if (errors[name].length > 0)\r\n      return <span>\r\n        {errors[name].map((err, i) => {\r\n          return (\r\n            <span\r\n              key={i}\r\n              style={{ display: 'block' }}\r\n            >\r\n              {UET[name][err]}\r\n            </span>\r\n          );\r\n        })}\r\n      </span>\r\n    else\r\n      return null;\r\n  }\r\n\r\n  UserAccountData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          value={user.email}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.email.length > 0}\r\n          helperText={this.composeErrors(errors, 'email')}\r\n          onChange={onChange('email')}\r\n        />\r\n\r\n        {!user.id && <TextField\r\n          id=\"password\"\r\n          label=\"Парола\"\r\n          type=\"password\"\r\n          value={user.password}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.password.length > 0}\r\n          helperText={this.composeErrors(errors, 'password')}\r\n          onChange={onChange('password')}\r\n        />}\r\n\r\n        {!user.id && <TextField\r\n          id=\"confirmPassword\"\r\n          label=\"Повтори парола\"\r\n          type=\"password\"\r\n          value={user.confirmPassword}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.confirmPassword.length > 0}\r\n          helperText={this.composeErrors(errors, 'confirmPassword')}\r\n          onChange={onChange('confirmPassword')}\r\n        />}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserAccountSecondaryData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          id=\"reservationDebt\"\r\n          label=\"Дължим брой часове\"\r\n          type=\"number\"\r\n          value={user.reservationDebt}\r\n          fullWidth={true}\r\n          error={errors.reservationDebt.length > 0}\r\n          helperText={this.composeErrors(errors, 'reservationDebt')}\r\n          onChange={onChange('reservationDebt')}\r\n        />\r\n\r\n        <TextField\r\n          id=\"reservationDebt\"\r\n          label=\"Дължим членски внос\"\r\n          type=\"number\"\r\n          value={user.subscriptionDebt}\r\n          fullWidth={true}\r\n          InputProps={{\r\n            endAdornment: <InputAdornment position=\"end\">Лв.</InputAdornment>\r\n          }}\r\n          error={errors.subscriptionDebt.length > 0}\r\n          helperText={this.composeErrors(errors, 'subscriptionDebt')}\r\n          onChange={onChange('subscriptionDebt')}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserPlayerMainData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          label=\"Име\"\r\n          value={user.firstName}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.firstName.length > 0}\r\n          helperText={this.composeErrors(errors, 'firstName')}\r\n          onChange={onChange('firstName')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Фамилия\"\r\n          value={user.lastName}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.lastName.length > 0}\r\n          helperText={this.composeErrors(errors, 'lastName')}\r\n          onChange={onChange('lastName')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Телефон\"\r\n          required={true}\r\n          fullWidth={true}\r\n          value={user.telephone}\r\n          error={errors.telephone.length > 0}\r\n          helperText={this.composeErrors(errors, 'telephone')}\r\n          onChange={onChange('telephone')}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserPlayerSecondaryData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <DatePicker\r\n          autoOk\r\n          openToYearSelection\r\n          label=\"Дата на раждане\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          required={true}\r\n          fullWidth={true}\r\n          value={user.birthDate}\r\n          error={errors.birthDate.length > 0}\r\n          helperText={this.composeErrors(errors, 'birthDate')}\r\n          onChange={onChange('birthDate', true)}\r\n        />\r\n\r\n        <EnumSelect\r\n          label=\"Пол\"\r\n          value={user.gender}\r\n          required={true}\r\n          error={errors.gender.length > 0}\r\n          errorText={this.composeErrors(errors, 'gender')}\r\n          onChange={onChange('gender')}\r\n          EnumValues={Gender}\r\n          EnumName=\"Gender\" />\r\n\r\n        <TextField\r\n          id=\"startedPlaying\"\r\n          label=\"Започнах да играя през\"\r\n          fullWidth={true}\r\n          value={user.startedPlaying}\r\n          error={errors.startedPlaying.length > 0}\r\n          helperText={this.composeErrors(errors, 'startedPlaying')}\r\n          onChange={onChange('startedPlaying')}\r\n          type=\"number\"\r\n        />\r\n\r\n        <EnumSelect\r\n          label=\"Играя със\"\r\n          value={user.playStyle}\r\n          error={errors.playStyle.length > 0}\r\n          errorText={this.composeErrors(errors, 'playStyle')}\r\n          onChange={onChange('playStyle')}\r\n          EnumValues={PlayStyle}\r\n          EnumName=\"PlayStyle\" />\r\n\r\n        <EnumSelect\r\n          label=\"Бекхенд\"\r\n          value={user.backhandType}\r\n          error={errors.backhandType.length > 0}\r\n          errorText={this.composeErrors(errors, 'backhandType')}\r\n          onChange={onChange('backhandType')}\r\n          EnumValues={BackhandType}\r\n          EnumName=\"BackhandType\" />\r\n\r\n        <EnumSelect\r\n          label=\"Любима настилка\"\r\n          value={user.courtType}\r\n          error={errors.courtType.length > 0}\r\n          errorText={this.composeErrors(errors, 'courtType')}\r\n          onChange={onChange('courtType')}\r\n          EnumValues={CourtType}\r\n          EnumName=\"CourtType\" />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n//User Errors Transliteration\r\nconst UET = {\r\n  email: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден имейл',\r\n    unique: 'Съществува потребител с такъв имейл'\r\n  },\r\n  password: {\r\n    required: 'Задължително поле',\r\n    short: 'Паролата трябва да бъде поне 6 символа'\r\n  },\r\n  confirmPassword: {\r\n    required: 'Задължително поле',\r\n    mismatch: 'Паролите не свъпадат'\r\n  },\r\n  firstName: {\r\n    required: 'Задължително поле',\r\n  },\r\n  lastName: {\r\n    required: 'Задължително поле',\r\n  },\r\n  telephone: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден телефонен номер'\r\n  },\r\n  gender: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден пол'\r\n  },\r\n  birthDate: {\r\n    invalid: 'Невалидна дата на раждане',\r\n    required: 'Задължително поле',\r\n  },\r\n  startedPlaying: {\r\n    invalid: 'Невалидна година',\r\n    future: 'Годината не може да е в бъдещето',\r\n    range: 'Годината не може да е преди датата на раждане'\r\n  },\r\n  playStyle: {\r\n    invalid: 'Невалидно поле'\r\n  },\r\n  courtType: {\r\n    invalid: 'Невалидно поле'\r\n  },\r\n  backhandType: {\r\n    invalid: 'Невалидно поле'\r\n  }\r\n};\r\n\r\nexport default new UserModel();","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserModel from '../users/user.model';\r\n\r\nclass UserDetailsModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: UserModel.get(),\r\n      errors: UserModel.getErrorsModel()\r\n    }\r\n\r\n    this.handleChange = (prop, custom = false) => (event) => {\r\n      let user = this.state.user;\r\n      user[prop] = (custom ? event : event.target.value);\r\n      this.setState({ user });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user)\r\n      this.setState({ user: this.props.user });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user != this.props.user && this.props.user)\r\n      this.setState({ user: this.props.user, errors: UserModel.getErrorsModel() });\r\n  }\r\n\r\n  save() {\r\n    const { user } = this.state;\r\n\r\n    if (user.id)\r\n      return QueryService\r\n        .post(`/users/${user.id}`, user)\r\n        .then(_ => this.props.onChange())\r\n        .catch(err => this.setState({ errors: err }));\r\n    else\r\n      return QueryService\r\n        .post(`/users`, user)\r\n        .then(_ => this.props.onChange())\r\n        .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, onClose, classes, fullScreen } = this.props;\r\n    const { user, errors } = this.state;\r\n    if (!this.props.user)\r\n      return null;\r\n\r\n    return (\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            {user.name || 'Нов потребител'}\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                color=\"primary\"\r\n                checked={user.isActive}\r\n                onClick={() => this.handleChange('isActive', true)(!user.isActive)}\r\n              />\r\n            }\r\n            label={user.isActive ? 'Активен' : 'Неактивен'}\r\n          />\r\n\r\n          <UserModel.UserAccountData user={user} onChange={this.handleChange} errors={errors} />\r\n          <UserModel.UserPlayerMainData user={user} onChange={this.handleChange} errors={errors} />\r\n\r\n          <Typography\r\n            style={{ margin: '1rem 0 .3rem 0' }}\r\n            variant=\"subheading\"\r\n            color=\"primary\">Допълнителна информация за акаунт</Typography>\r\n          <UserModel.UserAccountSecondaryData user={user} onChange={this.handleChange} errors={errors} />\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(UserDetailsModal)\r\n);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserService from '../services/user.service';\r\nimport L10n from '../components/L10n';\r\nimport QueryService from '../services/query.service';\r\nimport { SubscriptionType } from '../enums';\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport EnumSelect from '../components/EnumSelect';\r\n\r\nclass UserSubscriptionsModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: UserService.getUser(),\r\n      subscriptions: []\r\n    };\r\n\r\n    this.handleChange = (index) => (newValue) => {\r\n      const subscriptions = this.state.subscriptions;\r\n      subscriptions[index] = newValue\r\n      this.setState({ subscriptions });\r\n      this.props.onChange(subscriptions);\r\n    }\r\n\r\n    this.handleDelete = (index) => () => {\r\n      const subscriptions = this.state.subscriptions;\r\n      subscriptions.splice(index, 1);\r\n      this.setState({ subscriptions });\r\n      this.props.onChange(subscriptions);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user != this.props.user && this.props.user != null)\r\n      this.init();\r\n  }\r\n\r\n  init() {\r\n    this.setState({\r\n      subscriptions: JSON.parse(JSON.stringify(this.props.user.subscriptions))\r\n    });\r\n  }\r\n\r\n  addSubscription() {\r\n    const { subscriptions } = this.state;\r\n    if (subscriptions.length > 0 && !subscriptions[0].id)\r\n      return;\r\n\r\n    subscriptions.unshift({\r\n      customerId: this.props.user.id,\r\n      season: this.props.season,\r\n      seasonId: this.props.season.id,\r\n      administrator: this.state.administrator,\r\n      totalHours: 0,\r\n      remainingHours: 0,\r\n      type: ''\r\n    });\r\n\r\n    this.setState(subscriptions);\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, user, onClose, classes, fullScreen } = this.props;\r\n    const { subscriptions } = this.state;\r\n\r\n    if (!this.props.user)\r\n      return null;\r\n\r\n    return (\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Абонаменти на {user.name}\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent >\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\"\r\n            style={{ marginBottom: '1rem' }}\r\n            onClick={() => this.addSubscription()}\r\n          >\r\n            Добави абонамент\r\n          </Button>\r\n\r\n          {subscriptions.map((sub, index) => <Subscription\r\n            key={sub.id || 0}\r\n            model={sub}\r\n            onChange={this.handleChange(index)}\r\n            onDelete={this.handleDelete(index)}\r\n          />)}\r\n\r\n          {subscriptions.length == 0 && <Typography variant=\"caption\">Няма регистрирани абонаменти</Typography>}\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          {/* <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button> */}\r\n          <Button variant=\"outlined\" color=\"primary\" size=\"small\" className={classes.btn} onClick={onClose}>\r\n            <ArrowBackIcon />\r\n            Назад\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nclass Subscription extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: {},\r\n      season: {},\r\n      type: '',\r\n      totalHours: 0,\r\n      remainingHours: 0,\r\n      isEditMode: false,\r\n      expanded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      ...JSON.parse(JSON.stringify(this.props.model)),\r\n      isEditMode: !this.props.model.id,\r\n      expanded: !this.props.model.id\r\n    });\r\n  }\r\n\r\n  save() {\r\n    let query = null\r\n    if (this.state.id)\r\n      query = QueryService\r\n        .post(`/subscriptions/${this.state.id}`, this.state);\r\n    else\r\n      query = QueryService\r\n        .post(`/subscriptions`, this.state)\r\n\r\n    return query\r\n      .then(e => {\r\n        this.props.onChange(e);\r\n        this.setState({ ...e, isEditMode: false });\r\n      })\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  remove() {\r\n    return QueryService\r\n      .delete(`/subscriptions/${this.state.id}`)\r\n      .then(_ => this.props.onDelete())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelEdit() {\r\n    if (!this.state.id)\r\n      return this.props.onDelete();\r\n    else\r\n      return this.setState({\r\n        ...JSON.parse(JSON.stringify(this.props.model)),\r\n        isEditMode: false\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const model = this.state;\r\n\r\n    return (\r\n      <ExpansionPanel expanded={model.expanded}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          onClick={() => this.setState({ expanded: !model.expanded })}\r\n        >\r\n          <Typography color=\"primary\" style={{ flexBasis: '50%' }}>\r\n            Абонамент\r\n            <L10n\r\n              style={{ marginLeft: '.3rem' }}\r\n              translate=\"SubscriptionType\"\r\n            >\r\n              {model.type}\r\n            </L10n>\r\n          </Typography>\r\n          <Typography color=\"textSecondary\">{model.season.name}</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n          <Typography variant=\"caption\">\r\n            Администрирал:\r\n            <Typography>{model.administrator.name}</Typography>\r\n          </Typography>\r\n\r\n          {!this.state.isEditMode && <React.Fragment>\r\n            <Typography variant=\"caption\">\r\n              Тип абонамент:\r\n              <Typography>\r\n                <L10n\r\n                  translate=\"SubscriptionType\"\r\n                >\r\n                  {model.type}\r\n                </L10n>\r\n              </Typography>\r\n            </Typography>\r\n\r\n            <Typography variant=\"caption\">\r\n              Общо часове:\r\n              <Typography>{model.totalHours}</Typography>\r\n            </Typography>\r\n\r\n            <Typography variant=\"caption\">\r\n              Оставащи часове\r\n              <Typography>{model.remainingHours}</Typography>\r\n            </Typography>\r\n          </React.Fragment>}\r\n\r\n          {this.state.isEditMode && <React.Fragment>\r\n            <EnumSelect\r\n              label=\"Тип абонамент\"\r\n              value={model.type}\r\n              fullWidth={true}\r\n              onChange={(e) => this.setState({ type: e.target.value })}\r\n              EnumValues={SubscriptionType}\r\n              EnumName=\"SubscriptionType\"\r\n            />\r\n\r\n            <TextField\r\n              label=\"Общо часове\"\r\n              type=\"number\"\r\n              value={model.totalHours}\r\n              onChange={(e) => this.setState({ totalHours: e.target.value })}\r\n              fullWidth={true}\r\n            />\r\n\r\n            <Typography variant=\"caption\" style={{ marginTop: '.5rem' }}>\r\n              Оставащи часове (ще бъде обновено след запис)\r\n              <Typography>{model.remainingHours}</Typography>\r\n            </Typography>\r\n          </React.Fragment>}\r\n\r\n          {this.state.isEditMode && <div style={{ marginTop: '.5rem' }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              style={{ marginRight: '.3rem' }}\r\n              onClick={() => this.save()}\r\n            >\r\n              Запис\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              onClick={() => this.cancelEdit()}\r\n            >\r\n              Отказ\r\n            </Button>\r\n          </div>}\r\n\r\n          {!this.state.isEditMode && <div style={{ marginTop: '.5rem' }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              style={{ marginRight: '.3rem' }}\r\n              onClick={() => this.setState({ isEditMode: true })}\r\n            >\r\n              Редакция\r\n            </Button>\r\n\r\n            <ConfirmationDialog\r\n              title=\"Изтриване на абонамент\"\r\n              body={<Typography>Сигурни ли сте че искате да изтриете абонамента</Typography>}\r\n              onAccept={() => this.remove()}\r\n              style={{ marginTop: '.5rem' }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n              >\r\n                Изтриване\r\n            </Button>\r\n            </ConfirmationDialog>\r\n          </div>}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px',\r\n    padding: '0'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(UserSubscriptionsModal)\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport QueryService from '../services/query.service';\r\nimport UserModel from '../users/user.model';\r\nimport UserDetailsModal from './UserDetailsModal';\r\nimport UserSubscriptionsModal from './UserSubscriptionsModal';\r\n\r\nclass Users extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentSeason: null,\r\n      page: 0,\r\n      rowsPerPage: 10,\r\n      users: [],\r\n      usersFilter: '',\r\n      page: 0,\r\n      editUser: null,\r\n      subsUser: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    QueryService\r\n      .get('/schedule/config')\r\n      .then(({ season }) => this.setState({ currentSeason: season }));\r\n\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get('/users')\r\n      .then(e => this.setState({ users: e }));\r\n  }\r\n\r\n  filterUsers() {\r\n    if (this.state.usersFilter.length > 0)\r\n      return this.state.users.filter(e => e.name.indexOf(this.state.usersFilter) != -1);\r\n    else return this.state.users;\r\n  }\r\n\r\n  prepareForEdit(user) {\r\n    const names = user.name.split(' ');\r\n    user.firstName = names[0];\r\n    user.lastName = names[1];\r\n    user.startedPlaying = parseInt(user.startedPlaying) || '';\r\n    return user;\r\n  }\r\n\r\n  updateSubscriptions(user, subscriptions) {\r\n    const index = this.state.users.findIndex(e => e.id == user.id);\r\n    const users = this.state.users;\r\n    users[index].subscriptions = subscriptions;\r\n    this.setState({ users, subsUser: users[index] });\r\n  }\r\n\r\n  remove(index) {\r\n    const users = this.state.users;\r\n\r\n    return QueryService\r\n      .delete(`/users/${users[index].id}`)\r\n      .then(_ => {\r\n        users.splice(index, 1);\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => null);\r\n  }\r\n\r\n  render() {\r\n    const { usersFilter, page, rowsPerPage } = this.state;\r\n    const users = this.filterUsers(usersFilter);\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ padding: '1rem' }}>\r\n          <Typography variant=\"headline\">Потребители</Typography>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ editUser: UserModel.get() })}>\r\n            Нов потребител\r\n          </Button>\r\n          <TextField\r\n            label=\"Търсене по име\"\r\n            value={usersFilter}\r\n            fullWidth={true}\r\n            onChange={(e) => this.setState({ usersFilter: e.target.value })}\r\n          />\r\n\r\n          <UserDetailsModal\r\n            user={this.state.editUser}\r\n            isOpen={this.state.editUser != null}\r\n            onChange={() => {\r\n              this.setState({ editUser: null })\r\n              this.getData();\r\n            }}\r\n            onClose={() => this.setState({ editUser: null })}\r\n          />\r\n\r\n          <UserSubscriptionsModal\r\n            user={this.state.subsUser}\r\n            season={this.state.currentSeason}\r\n            isOpen={this.state.subsUser != null}\r\n            onChange={(subscriptions) => this.updateSubscriptions(this.state.subsUser, subscriptions)}\r\n            onClose={() => this.setState({ subsUser: null })}\r\n          />\r\n\r\n          <Hidden xsDown>\r\n            <Table padding=\"none\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Име</TableCell>\r\n                  <TableCell>Създаден</TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}>Активен</TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}>Администратор</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {users.slice(page * rowsPerPage, (page + 1) * rowsPerPage).map((user, index) => {\r\n                  return (\r\n                    <TableRow key={user.id}>\r\n                      <TableCell>\r\n                        <Link to={`/users/${user.id}`}>\r\n                          <Typography variant=\"body2\">{user.name}</Typography>\r\n                        </Link>\r\n                        <Typography style={{ fontStyle: 'italic' }}>\r\n                          {user.email}\r\n                        </Typography>\r\n                      </TableCell>\r\n\r\n                      <TableCell>{new Date(user.createdAt).toLocaleDateString()}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{user.isActive && <DoneIcon color=\"action\" />}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{user.isAdmin && <DoneIcon color=\"action\" />}</TableCell>\r\n                      <TableCell>\r\n                        <Tooltip title=\"редакция\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                          <IconButton color=\"primary\" onClick={() => this.setState({ editUser: this.prepareForEdit(user) })}>\r\n                            {/* <BuildIcon /> */}\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"абонаменти\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                          <IconButton color=\"primary\" onClick={() => this.setState({ subsUser: user })}>\r\n                            <DescriptionOutlinedIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <ConfirmationDialog\r\n                          title=\"Изтриване на потребител\"\r\n                          body={<Typography>Сигурни ли сте че искате да изтриете {user.name}</Typography>}\r\n                          onAccept={() => this.remove(index)}\r\n                        >\r\n                          <Tooltip title=\"изтриване\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                            <IconButton color=\"secondary\">\r\n                              <DeleteForeverIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </ConfirmationDialog>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              </TableBody>\r\n            </Table>\r\n            <TablePagination\r\n              component=\"div\"\r\n              count={users.length}\r\n              rowsPerPage={rowsPerPage}\r\n              rowsPerPageOptions={[10, 25, 50]}\r\n              labelRowsPerPage=\"Покажи:\"\r\n              labelDisplayedRows={({ from, to, count }) => `${from}-${to} от ${count}`}\r\n              page={page}\r\n              onChangePage={(e, page) => this.setState({ page })}\r\n              onChangeRowsPerPage={e => this.setState({ rowsPerPage: e.target.value, page: 0 })}\r\n            />\r\n          </Hidden>\r\n\r\n          <Hidden smUp>\r\n            <List>\r\n              {users.map((user, index) => {\r\n                return (\r\n                  <React.Fragment key={index}>\r\n                    <ListItem style={{ padding: '0', justifyContent: 'space-between' }}>\r\n                      <div>\r\n                        <Link to={`/users/${user.id}`}>\r\n                          <Typography variant=\"body2\">{user.name}</Typography>\r\n                        </Link>\r\n                        <Typography style={{ fontStyle: 'italic' }}>\r\n                          {user.email}\r\n                        </Typography>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <IconButton color=\"primary\" onClick={() => this.setState({ editUser: this.prepareForEdit(user) })}>\r\n                          <BuildIcon />\r\n                        </IconButton>\r\n                        <IconButton color=\"primary\" onClick={() => this.setState({ subsUser: user })}>\r\n                          <DescriptionOutlinedIcon />\r\n                        </IconButton>\r\n                        <ConfirmationDialog\r\n                          title=\"Изтриване на потребител\"\r\n                          body={<Typography>Сигурни ли сте че искате да изтриете {user.name}</Typography>}\r\n                          onAccept={() => this.remove(index)}\r\n                        >\r\n                          <IconButton color=\"secondary\">\r\n                            <DeleteForeverIcon />\r\n                          </IconButton>\r\n                        </ConfirmationDialog>\r\n                      </div>\r\n                    </ListItem>\r\n                    <Divider />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </List>\r\n          </Hidden>\r\n\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\n\r\nimport AsyncSelect from '../components/select/AsyncSelect';\r\nimport QueryService from '../services/query.service';\r\nimport { getHour } from '../utils';\r\n\r\nclass Subscriptions extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentSeason: {\r\n        subscriptions: []\r\n      },\r\n      history: null,\r\n      historyOpen: false,\r\n      editSubscription: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    return QueryService\r\n      .get(`/subscriptions`)\r\n      .then(currentSeason => this.setState({ currentSeason }));\r\n  }\r\n\r\n  loadHistory() {\r\n    return QueryService\r\n      .get(`/subscriptions/history`)\r\n      .then(history => this.setState({ history }));\r\n  }\r\n\r\n  handleHistoryClick() {\r\n    const { history, historyOpen } = this.state;\r\n    if (!historyOpen)\r\n      this.setState({ historyOpen: !historyOpen });\r\n\r\n    if (!historyOpen && !history)\r\n      this.loadHistory();\r\n  }\r\n\r\n  prepareForEdit(subscription) {\r\n    subscription.season = this.state.currentSeason;\r\n    return subscription;\r\n  }\r\n\r\n  newSubscription() {\r\n    return {\r\n      hour: '',\r\n      courtId: '',\r\n      seasonId: this.state.currentSeason.id,\r\n      season: this.state.currentSeason,\r\n      userId: '',\r\n    }\r\n  }\r\n\r\n  remove(index) {\r\n    const subs = this.state.currentSeason.subscriptions[index];\r\n    return QueryService\r\n      .delete(`/subscriptions/${subs.id}`)\r\n      .then(_ => {\r\n        const currentSeason = this.state.currentSeason;\r\n        currentSeason.subscriptions.splice(index, 1);\r\n        this.setState({ currentSeason });\r\n      })\r\n      .catch(err => console.log('ERR: ', err));\r\n  }\r\n\r\n  render() {\r\n    const { currentSeason, history, editSubscription } = this.state;\r\n    return (\r\n      <div style={{ margin: '1rem' }}>\r\n        <Paper style={{ marginBottom: '1rem', padding: '1rem' }}>\r\n          <Typography variant=\"headline\" align=\"center\" >Абонаменти</Typography>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => this.setState({ editSubscription: this.newSubscription() })}>\r\n            Нов абонамент\r\n          </Button>\r\n\r\n          {editSubscription && <EditSubscription\r\n            model={editSubscription}\r\n            onSave={() => { this.load(); this.setState({ editSubscription: null }); }}\r\n            onCancel={() => this.setState({ editSubscription: null })}\r\n          />}\r\n        </Paper>\r\n\r\n        <Paper style={{ marginBottom: '1rem', padding: '1rem' }}>\r\n          <Typography variant=\"title\">Текущи абонаменти - <em>{currentSeason.name}</em></Typography>\r\n          <Table padding=\"none\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Име</TableCell>\r\n                <TableCell>Корт</TableCell>\r\n                <TableCell>Час</TableCell>\r\n                <TableCell>Неизиграни часове</TableCell>\r\n                <TableCell></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {currentSeason.subscriptions.map((subscription, index) => {\r\n                return (\r\n                  <TableRow key={subscription.id}>\r\n                    <TableCell>{subscription.user.name}</TableCell>\r\n                    <TableCell>{subscription.court.name}</TableCell>\r\n                    <TableCell>{getHour(subscription.hour)} - {getHour(subscription.hour + 1)}</TableCell>\r\n                    <TableCell>{subscription.unplayedHours}</TableCell>\r\n                    <TableCell>\r\n                      {/* <Button\r\n                        variant=\"text\"\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                        onClick={() => this.setState({ editSubscription: this.prepareForEdit(subscription) })}\r\n                      >\r\n                        <BuildIcon />\r\n                      </Button> */}\r\n\r\n                      <Button\r\n                        variant=\"text\"\r\n                        color=\"secondary\"\r\n                        size=\"small\"\r\n                        onClick={() => this.remove(index)}\r\n                      >\r\n                        <DeleteForeverIcon />\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => this.handleHistoryClick()}>\r\n            <Typography variant=\"title\">История</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            {!history && <Typography variant=\"caption\">Loading...</Typography>}\r\n            {history && history.length == 0 && <Typography variant=\"caption\">Няма предишни сезони</Typography>}\r\n            {history && history.map(season => {\r\n              return (\r\n                <div key={season.id}>\r\n                  <Typography variant=\"title\">{season.name}</Typography>\r\n                  <Table padding=\"none\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Име</TableCell>\r\n                        <TableCell>Корт</TableCell>\r\n                        <TableCell>Час</TableCell>\r\n                        <TableCell>Неизиграни часове</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {season.subscriptions.map(subscription => {\r\n                        return (\r\n                          <TableRow key={subscription.id}>\r\n                            <TableCell>{subscription.user.name}</TableCell>\r\n                            <TableCell>{subscription.court.name}</TableCell>\r\n                            <TableCell>{getHour(subscription.hour)} - {getHour(subscription.hour + 1)}</TableCell>\r\n                            <TableCell>{subscription.unplayedHours}</TableCell>\r\n                          </TableRow>\r\n                        );\r\n                      })}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              );\r\n            })}\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass EditSubscription extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      hour: '',\r\n      courtId: '',\r\n      seasonId: '',\r\n      season: {},\r\n      userId: '',\r\n      errors: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.model);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.model != this.props.model)\r\n      this.setState(this.props.model);\r\n  }\r\n\r\n  save() {\r\n    if (this.state.id)\r\n      return QueryService\r\n        .post(`/subscriptions/${this.state.id}`, this.state)\r\n        .then(_ => this.props.onSave())\r\n        .catch(err => console.log('ERR:', err));\r\n    else\r\n      return QueryService\r\n        .post(`/subscriptions`, this.state)\r\n        .then(_ => this.props.onSave())\r\n        .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancel() {\r\n    this.props.onCancel();\r\n  }\r\n\r\n  render() {\r\n    const model = this.state;\r\n\r\n    return (\r\n      <div style={{ display: 'flex', flexDirection: 'column', marginTop: '1rem' }}>\r\n        <Typography variant=\"caption\">\r\n          Сезон\r\n        <Typography style={{ margin: 0 }} >{model.season.name}</Typography>\r\n        </Typography>\r\n\r\n        <AsyncSelect\r\n          label=\"Потребител\"\r\n          value={model.user}\r\n          query=\"users\"\r\n          onChange={user => this.setState({ user, userId: user.value })}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Час\"\r\n          value={model.hour}\r\n          onChange={e => this.setState({ hour: e.target.value })}\r\n          fullWidth={true}\r\n        />\r\n\r\n        <AsyncSelect\r\n          label=\"Корт\"\r\n          value={model.court}\r\n          query=\"courts\"\r\n          onChange={court => this.setState({ court, courtId: court.value })}\r\n        />\r\n\r\n        {model.errors && <Typography color=\"secondary\" >\r\n          Неуспешно създаване на абонамент.\r\n          Има запазени часове които се припокриват с часовете на абонамента.\r\n          </Typography>}\r\n\r\n        <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Запис\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Subscriptions;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { dispatchEvent } from '../services/events.service';\r\n\r\nclass Guest extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { routes, classes, currentRoute } = this.props;\r\n\r\n    return (\r\n      <Toolbar className={classes.root}>\r\n        {/* DESKTOP */}\r\n        <Hidden smDown>\r\n          {routes.map(route => {\r\n            return (\r\n              <Link to={route.to} key={route.id}>\r\n                <Button color=\"primary\" size=\"large\" variant={route.id == currentRoute ? 'outlined' : 'text'}>\r\n                  {route.name}\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n\r\n          <Button color=\"primary\" size=\"large\" onClick={() => dispatchEvent('menu-login')}>\r\n            Вход\r\n          </Button>\r\n        </Hidden>\r\n\r\n        {/* MOBILE */}\r\n        <Hidden mdUp>\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        <Drawer\r\n          anchor=\"right\"\r\n          open={this.state.drawerOpen}\r\n          onClose={() => this.setState({ drawerOpen: false })}\r\n        // onOpen={() => this.setState({ drawerOpen: true })}\r\n        >\r\n          <div\r\n            style={{ width: '250px' }}\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={() => this.setState({ drawerOpen: false })}\r\n            onKeyDown={() => this.setState({ drawerOpen: false })}\r\n          >\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '1rem' }}>\r\n              <Hidden mdUp>\r\n                <IconButton onClick={() => this.setState({ drawerOpen: false })}>\r\n                  <MenuIcon />\r\n                </IconButton>\r\n              </Hidden>\r\n            </div>\r\n\r\n            <List>\r\n              {routes.map(route => {\r\n                return (\r\n                  <Link to={route.to} key={route.id}>\r\n                    <ListItem button>\r\n                      {route.Icon && <ListItemIcon>\r\n                        <route.Icon />\r\n                      </ListItemIcon>}\r\n                      <ListItemText primary={route.name} />\r\n                    </ListItem>\r\n                  </Link>\r\n                );\r\n              })}\r\n\r\n              <ListItem button>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Вход\" onClick={() => dispatchEvent('menu-login')} />\r\n              </ListItem>\r\n            </List>\r\n          </div>\r\n        </Drawer>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\nexport default Guest;            ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\n\r\nimport UserService from '../services/user.service';\r\n\r\nclass Admin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { routes, additionalRoutes, classes, currentRoute } = this.props;\r\n\r\n    return (\r\n      <Toolbar className={classes.root}>\r\n        {/* DESKTOP */}\r\n        <Hidden smDown>\r\n          {routes.map(route => {\r\n            return (\r\n              <Link to={route.to} key={route.id}>\r\n                <Button color=\"primary\" size=\"large\" variant={route.id == currentRoute ? 'outlined' : 'text'}>\r\n                  {route.name}\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <SettingsIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        {/* MOBILE */}\r\n        <Hidden mdUp>\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        <Drawer\r\n          anchor=\"right\"\r\n          open={this.state.drawerOpen}\r\n          onClose={() => this.setState({ drawerOpen: false })}\r\n        // onOpen={() => this.setState({ drawerOpen: true })}\r\n        >\r\n          <div\r\n            className={classes.list}\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={() => this.setState({ drawerOpen: false })}\r\n            onKeyDown={() => this.setState({ drawerOpen: false })}\r\n          >\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '1rem' }}>\r\n              <Hidden mdUp>\r\n                <IconButton onClick={() => this.setState({ drawerOpen: false })}>\r\n                  <MenuIcon />\r\n                </IconButton>\r\n              </Hidden>\r\n            </div>\r\n            <Hidden mdUp >\r\n              <List>\r\n                {routes.map(route => {\r\n                  return (\r\n                    <Link to={route.to} key={route.id}>\r\n                      <ListItem button>\r\n                        {route.Icon && <ListItemIcon>\r\n                          <route.Icon />\r\n                        </ListItemIcon>}\r\n                        <ListItemText primary={route.name} />\r\n                      </ListItem>\r\n                    </Link>\r\n                  );\r\n                })}\r\n              </List>\r\n              <Divider />\r\n            </Hidden>\r\n\r\n            <List>\r\n              {additionalRoutes.map(route => {\r\n                return (\r\n                  <Link to={route.to} key={route.id}>\r\n                    <ListItem button>\r\n                      {route.Icon && <ListItemIcon>\r\n                        <route.Icon />\r\n                      </ListItemIcon>}\r\n                      <ListItemText primary={route.name} />\r\n                    </ListItem>\r\n                  </Link>\r\n                );\r\n              })}\r\n              <a>\r\n                <ListItem button onClick={() => UserService.logout()} >\r\n                  <ListItemIcon>\r\n                    <PowerSettingsNewIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary=\"Изход\" />\r\n                </ListItem>\r\n              </a>\r\n            </List>\r\n          </div>\r\n        </Drawer>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport BuildRoundedIcon from '@material-ui/icons/BuildRounded';\r\nimport ViewQuiltRoundedIcon from '@material-ui/icons/ViewQuiltRounded';\r\nimport WbSunnyRoundedIcon from '@material-ui/icons/WbSunnyRounded';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\r\n\r\nimport Guest from './Guest';\r\nimport Admin from './Admin';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    justifyContent: 'flex-end',\r\n    paddingRight: 0\r\n  },\r\n  list: {\r\n    width: '250px'\r\n  }\r\n});\r\n\r\nclass NavigationModel {\r\n  constructor() {\r\n    this.routes = [\r\n      { id: 1, to: '/schedule', name: 'График', Icon: CalendarTodayIcon },\r\n      // { id: 2, to: '/players', name: 'Играчи' }\r\n    ];\r\n    this.adminRoutes = [\r\n      { id: 6, to: '/admin/users', name: 'Потребители', Icon: PersonIcon },\r\n      { id: 5, to: '/admin/seasons', name: 'Сезони', Icon: WbSunnyRoundedIcon },\r\n      { id: 4, to: '/admin/courts', name: 'Кортове', Icon: ViewQuiltRoundedIcon },\r\n      { id: 7, to: '/admin/statistics', name: 'Справки', Icon: AssessmentIcon }\r\n      // { id: 7, to: '/admin/subscriptions', name: 'Абонаменти', Icon: LoyaltyIcon },\r\n      // { id: 3, to: '/admin/config', name: 'Настройки', Icon: BuildRoundedIcon }\r\n    ];\r\n\r\n    this.userRoutes = [\r\n      { id: 8, to: '/account', name: 'Профил', Icon: PersonIcon }\r\n    ]\r\n\r\n    this.Guest = withRoutes(this.routes)(withStyles(styles)(Guest));\r\n    this.User = withRoutes(this.routes, this.userRoutes)(withStyles(styles)(Admin));\r\n    this.Admin = withRoutes(this.routes, this.adminRoutes)(withStyles(styles)(Admin));\r\n\r\n    const { Provider, Consumer } = React.createContext(0);\r\n    this.SetCurrentRoute = Provider;\r\n    this.WithCurrentRoute = Consumer;\r\n  }\r\n}\r\n\r\nexport function withRoutes(routes, additionalRoutes) {\r\n  return (WrappedComponent) => {\r\n    return class extends React.Component {\r\n      render() {\r\n        return <WrappedComponent {...this.props} routes={routes} additionalRoutes={additionalRoutes} />\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new NavigationModel();","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport List from '@material-ui/core/List';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserService from '../services/user.service';\r\nimport QueryService from '../services/query.service';\r\nimport { l10n_text } from '../components/L10n';\r\nimport { getHour } from '../utils';\r\n\r\nclass UserProfile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loggedInUser: UserService.getUser(),\r\n      user: {},\r\n      subscriptions: null,\r\n      reservations: null,\r\n      subsCollapsed: true,\r\n      resCollapsed: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const id = this.props.match.params.id || this.state.loggedInUser.id;\r\n    return QueryService\r\n      .get(`/users/${id}`)\r\n      .then(e => this.setState(e));\r\n  }\r\n\r\n  render() {\r\n    const { user, reservations, subscriptions, subsCollapsed, resCollapsed } = this.state;\r\n    const { mode, classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography classes={{ root: classes.sectionHeadline }} variant=\"headline\">{user.name}</Typography>\r\n            {/* <Typography variant=\"caption\">\r\n              E-mail\r\n              <Typography>{user.email}</Typography>\r\n            </Typography> */}\r\n          </CardContent>\r\n          <CardActions>\r\n          </CardActions>\r\n        </Card>\r\n\r\n        {reservations != null && <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography\r\n              variant=\"headline\"\r\n              classes={{ root: classes.sectionHeadline }}\r\n              onClick={() => this.setState({ resCollapsed: !resCollapsed })}\r\n            >\r\n              <span>Резервации</span>\r\n              <Typography component=\"em\">\r\n                Дължим брой часове: {user.reservationDebt}\r\n              </Typography>\r\n              {resCollapsed && <ExpandLessIcon />}\r\n              {!resCollapsed && <ExpandMoreIcon />}\r\n            </Typography>\r\n            {resCollapsed\r\n              && <React.Fragment>\r\n                <List>\r\n                  {reservations.map(reservation => {\r\n                    return (\r\n                      <Typography classes={{ root: classes.listItemRoot }} key={reservation.id}>\r\n                        {l10n_text(reservation.type, \"CustomReservationType\")}\r\n                        <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{reservation.court.name}</Typography>\r\n                        {!reservation.isActive && <Typography component=\"span\" color=\"secondary\">ОТМЕНЕНО</Typography>}\r\n                        <Typography component=\"span\" variant=\"caption\">\r\n                          {reservation.season.name}\r\n                          <span style={{ marginLeft: '1rem' }}>{new Date(reservation.date).toLocaleDateString()}</span>\r\n                          <span style={{ marginLeft: '1rem' }}>\r\n                            {getHour(reservation.hour)} - {getHour(reservation.hour + 1)}\r\n                          </span>\r\n                        </Typography>\r\n                      </Typography>\r\n                    );\r\n                  })}\r\n                </List>\r\n                {reservations.length == 0 && <Typography variant=\"caption\">Няма регистрирани резервации.</Typography>}\r\n              </React.Fragment>}\r\n          </CardContent>\r\n        </Card>}\r\n\r\n        {subscriptions != null && <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography\r\n              variant=\"headline\"\r\n              classes={{ root: classes.sectionHeadline }}\r\n              onClick={() => this.setState({ subsCollapsed: !subsCollapsed })}\r\n            >\r\n              <span>Абонаменти</span>\r\n              <Typography component=\"em\">\r\n                Дължим членски внос: {user.subscriptionDebt}лв.\r\n              </Typography>\r\n              {subsCollapsed && <ExpandLessIcon />}\r\n              {!subsCollapsed && <ExpandMoreIcon />}\r\n            </Typography>\r\n            {subsCollapsed\r\n              && <React.Fragment>\r\n                <List>\r\n                  {subscriptions.map(subscription => {\r\n                    return (\r\n                      <Typography classes={{ root: classes.listItemRoot }} key={subscription.id}>\r\n                        Абонамент {l10n_text(subscription.type, \"SubscriptionType\")}\r\n                        <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{subscription.season.name}</Typography>\r\n                        <Typography component=\"span\" variant=\"caption\">{subscription.remainingHours} оставащи часове</Typography>\r\n                      </Typography>\r\n                    );\r\n                  })}\r\n                </List>\r\n                {subscriptions.length == 0 && <Typography variant=\"caption\">Няма регистрирани абонаменти.</Typography>}\r\n              </React.Fragment>}\r\n          </CardContent>\r\n        </Card>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  sectionRoot: {\r\n    marginBottom: '1rem'\r\n  },\r\n  cardContentRoot: {\r\n    '&:last-child': {\r\n    }\r\n  },\r\n  sectionHeadline: {\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    justifyContent: 'space-between'\r\n  },\r\n  listItemRoot: {\r\n    padding: '.3rem 0',\r\n    borderBottom: '1px solid lightgrey'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(UserProfile);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass AccountActivation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      err: false,\r\n      success: false,\r\n      timer: 5\r\n    };\r\n    this.interval = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.props.location.search.split('?token=')[1];\r\n    return QueryService\r\n      .get(`/users/activation?token=${token}`)\r\n      .then(_ => {\r\n        this.setState({ success: true, err: false });\r\n        this.interval = setInterval(() => {\r\n          if (this.state.timer === 0) {\r\n            clearInterval(this.interval);\r\n            this.props.history.replace('/');\r\n          } else {\r\n            this.setState({ timer: this.state.timer - 1 });\r\n          }\r\n        }, 1000);\r\n      })\r\n      .catch(_ => this.setState({ err: true, success: false }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper className={classes.root}>\r\n          <Typography align=\"center\" variant=\"headline\">Активация на акунт</Typography>\r\n          {this.state.success && <Typography align=\"center\" variant=\"subheading\" color=\"primary\" className={classes.success}>\r\n            Активацията на Вашият акаунт беше успешна!\r\n          </Typography>}\r\n\r\n          {this.state.success && <Typography align=\"center\" variant=\"headline\" style={{ fontWeight: 700, fontSize: '1.3em' }}>{this.state.timer}</Typography>}\r\n\r\n          {this.state.err && <Typography align=\"center\" variant=\"subheading\" color=\"secondary\" className={classes.error}>\r\n            Невалиден или изтекъл ключ за активация.\r\n        </Typography>}\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(AccountActivation);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass RecoveryStep1 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      error: null,\r\n      success: false\r\n    };\r\n  }\r\n\r\n  issueRecoverEmail() {\r\n    this.setState({ error: null, success: false });\r\n    return QueryService\r\n      .get(`/users/recovery/step1?email=${this.state.email}`)\r\n      .then(_ => {\r\n        this.setState({ success: true })\r\n        setTimeout(() => this.props.history.replace('/'), 5000);\r\n      })\r\n      .catch(err => this.setState({ error: err }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return <div className=\"container\">\r\n      <Paper elevation={0} className={classes.root}>\r\n        <Typography variant=\"headline\">Възстановяване на забравена парола</Typography>\r\n        <TextField\r\n          id=\"email\"\r\n          label=\"E-mail\"\r\n          type=\"text\"\r\n          value={this.state.email}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ email: e.target.value })}\r\n        />\r\n\r\n        {this.state.success && <Typography\r\n          variant=\"subheading\"\r\n          color=\"primary\"\r\n          className={classes.success}>\r\n          Успешно изпратен имейл с инструкции за възстановяване на парола.\r\n        </Typography>}\r\n\r\n        {this.state.error && <Typography\r\n          variant=\"subheading\"\r\n          color=\"secondary\"\r\n          className={classes.error}>\r\n          {this.state.error.message}\r\n        </Typography>}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ marginTop: '1rem', padding: '0 2rem' }}\r\n          onClick={() => this.issueRecoverEmail()}\r\n        >\r\n          Изпрати\r\n        </Button>\r\n      </Paper>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(RecoveryStep1);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass RecoveryStep2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      error: null,\r\n      success: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ token: this.props.location.search.split('?token=')[1] });\r\n  }\r\n\r\n  recover() {\r\n    this.setState({ error: null, success: false });\r\n    return QueryService\r\n      .post(`/users/recovery/step2`, { token: this.state.token, password: this.state.password, confirmPassword: this.state.confirmPassword })\r\n      .then(_ => {\r\n        this.setState({ success: true });\r\n        setTimeout(() => this.props.history.replace('/'), 5000);\r\n      })\r\n      .catch(err => this.setState({ error: err }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return <div className=\"container\">\r\n      <Paper elevation={0} className={classes.root}>\r\n        <Typography variant=\"headline\">Възстановяване на забравена парола</Typography>\r\n\r\n        <TextField\r\n          id=\"password\"\r\n          label=\"Парола\"\r\n          type=\"password\"\r\n          value={this.state.password}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ password: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"confirmPassword\"\r\n          label=\"Повтори парола\"\r\n          type=\"password\"\r\n          value={this.state.confirmPassword}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ confirmPassword: e.target.value })}\r\n        />\r\n\r\n        {this.state.success && <Typography\r\n          variant=\"subheading\"\r\n          color=\"primary\"\r\n          className={classes.success}>\r\n          Смяната на паролата ви беше успешна!\r\n        </Typography>}\r\n\r\n        {this.state.error && <Typography\r\n          variant=\"subheading\"\r\n          color=\"secondary\"\r\n          className={classes.error}>\r\n          {this.state.error.message}\r\n        </Typography>}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ marginTop: '1rem', padding: '0 2rem' }}\r\n          onClick={() => this.recover()}\r\n        >\r\n          Потвърждаване\r\n        </Button>\r\n      </Paper>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(RecoveryStep2);","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport NotFoundPage from './NotFoundPage';\r\nimport Schemes from '../schemes';\r\nimport Editions from '../editions';\r\nimport Schedule from '../schedule/Schedule';\r\nimport Courts from '../admin/Courts';\r\nimport Seasons from '../admin/Seasons';\r\nimport Statistics from '../statistics/Statistics';\r\nimport Users from '../admin/Users';\r\nimport Subscriptions from '../admin/Subscriptions';\r\nimport NavigationModel from '../menu/navigation.model';\r\nimport UserService from '../services/user.service';\r\nimport UserProfile from '../users/UserProfile';\r\nimport AccountActivation from '../login/Activation';\r\nimport RecoveryStep1 from '../login/RecoveryStep1';\r\nimport RecoveryStep2 from '../login/RecoveryStep2';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nconst routeMapping = {\r\n  '/schedule': Schedule,\r\n  '/players': NotFoundPage,\r\n  '/admin/courts': Courts,\r\n  '/admin/seasons': Seasons,\r\n  '/admin/users': Users,\r\n  '/admin/statistics': Statistics,\r\n  // '/admin/subscriptions': Subscriptions,\r\n  // '/admin/config': NotFoundPage,\r\n  '/account': UserProfile\r\n};\r\n\r\nconst AppRouting = () => (\r\n  <UserService.WithApplicationMode>\r\n    {mode => <Switch>\r\n      {/* <Route path=\"/users\" component={Users} /> */}\r\n      {/* <Route path=\"/news\" component={News} /> */}\r\n      {/* <Route path=\"/tournaments\" component={null} /> */}\r\n      {/* <Route path=\"/editions\" component={Editions} /> */}\r\n      {/* <Route path=\"/schemes\" component={Schemes} /> */}\r\n      {/* <Route path=\"/schedule/admin\" component={ScheduleAdmin} /> */}\r\n      {/* <Route path=\"/schedule\" component={Schedule} />\r\n      <Route path=\"/admin\" component={ScheduleAdmin} /> */}\r\n\r\n      {NavigationModel.routes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {mode == ApplicationMode.ADMIN && NavigationModel.adminRoutes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {mode == ApplicationMode.USER && NavigationModel.userRoutes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {(mode == ApplicationMode.USER || mode == ApplicationMode.ADMIN)\r\n        && <Route path=\"/users/:id\" render={(props) => <UserProfile {...props} mode={mode} />} />}\r\n\r\n      <Route path=\"/oops\" component={NotFoundPage} />\r\n      <Route path=\"/account/activation\" render={(props) => <AccountActivation {...props} />} />\r\n      <Route path=\"/recovery/step1\" render={(props) => <RecoveryStep1 {...props} />} />\r\n      <Route path=\"/recovery/step2\" render={(props) => <RecoveryStep2 {...props} />} />\r\n      <Route exact path=\"/\">\r\n        <Redirect to=\"/schedule\" />\r\n      </Route>\r\n      <Route component={NotFoundPage} />\r\n    </Switch>\r\n    }\r\n  </UserService.WithApplicationMode>\r\n);\r\n\r\nexport default AppRouting;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\nimport { dispatchEvent } from '../services/events.service';\r\n\r\nconst styles = (theme) => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    //width: 250,\r\n    //margin: '1.5rem auto'\r\n  },\r\n  link: {\r\n    color: theme.palette.primary.main,\r\n    padding: '.3rem 0',\r\n    '&:hover': {\r\n      color: theme.palette.primary.dark,\r\n      borderBottom: '1px solid',\r\n      borderColor: theme.palette.primary.main,\r\n    }\r\n  }\r\n});\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n\r\n    this.handleChange = (name) => (event) => {\r\n      this.setState({\r\n        [name]: event.target.value\r\n      });\r\n    }\r\n  }\r\n\r\n  login() {\r\n    QueryService\r\n      .post(`/login`, this.state)\r\n      .then(({ token }) => {\r\n        UserService.login(token);\r\n        this.props.onClose();\r\n      })\r\n      .catch(err => console.log('There have been an error:', err));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <form className={classes.form} onKeyDown={e => e.key === 'Enter' ? this.login() : null}>\r\n        <TextField\r\n          label=\"Email\"\r\n          fullWidth={true}\r\n          value={this.state.email}\r\n          onChange={this.handleChange('email')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Парола\"\r\n          fullWidth={true}\r\n          type=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.handleChange('password')}\r\n        />\r\n\r\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginTop: '1rem', padding: '0 4rem' }}\r\n            onClick={() => this.login()}\r\n          >\r\n            Вход\r\n        </Button>\r\n        </div>\r\n        <div style={{ marginTop: '1rem', display: 'flex', justifyContent: 'center' }}>\r\n          <Link to=\"/recovery/step1\" className={classes.link} onClick={this.props.onClose}>\r\n            Забравена парола?\r\n        </Link>\r\n        </div>\r\n\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Login);","import React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserModel from '../users/user.model';\r\nimport QueryService from '../services/query.service';\r\n\r\nconst styles = (theme) => ({\r\n  action: {\r\n    marginTop: '1rem',\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  },\r\n  focused: {\r\n    marginTop: '.5rem',\r\n    color: 'orange'\r\n  }\r\n});\r\n\r\nclass RegistrationStepper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeStep: 0,\r\n      completed: [false, false, false],\r\n      user: UserModel.get(),\r\n      errors: UserModel.getErrorsModel()\r\n    }\r\n\r\n    this.handleChange = (prop, custom = false) => (event) => {\r\n      let user = this.state.user;\r\n      user[prop] = (custom ? event : event.target.value);\r\n      this.setState({\r\n        user: user\r\n      });\r\n    }\r\n\r\n    this.changeStep = (value) => () => {\r\n      let completed = this.state.completed;\r\n      completed[this.state.activeStep] = true;\r\n      this.setState({ activeStep: value, completed: completed });\r\n    }\r\n  }\r\n\r\n  register() {\r\n    this.setState({ errors: UserModel.getErrorsModel() });\r\n    return QueryService\r\n      .post(`/users`, this.state.user)\r\n      .then(_ => this.props.onSuccess())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { user, activeStep, completed, errors } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <UserModel.UserAccountData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} />\r\n\r\n        <UserModel.UserPlayerMainData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} />\r\n\r\n        {/* <UserModel.UserPlayerSecondaryData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} /> */}\r\n\r\n        <div style={{ margin: '1rem 0' }}>\r\n          <em>\r\n            Натискайки бутонът \"Регистрация\", Вие се съгласявате при нужда да бъдете потърсени по\r\n            телефонния номер, който сте предоставили.\r\n          </em>\r\n          <div className={classes.action}>\r\n            <Button style={{ marginRight: '.3rem', padding: '0 2rem' }} variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => this.register()}>\r\n              Регистрация\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass StepActions extends React.Component {\r\n  render() {\r\n    const { activeStep, changeStep, finalStep, className } = this.props;\r\n\r\n    return (\r\n      <div className={className}>\r\n        {activeStep != 0 && <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          disabled={activeStep === 0}\r\n          onClick={changeStep(activeStep - 1)}\r\n        >\r\n          Назад\r\n          </Button>}\r\n\r\n        <Button\r\n          style={{ marginLeft: '.3rem' }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          onClick={changeStep(activeStep + 1)}\r\n        >\r\n          {activeStep === finalStep ? 'Приключване' : 'Продължи'}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withStyles(styles)(RegistrationStepper);\r\n\r\n// render() {\r\n//   const { user, activeStep, completed, errors } = this.state;\r\n//   const { classes } = this.props;\r\n\r\n//   return (\r\n//     <React.Fragment>\r\n//       <Stepper\r\n//         nonLinear\r\n//         activeStep={activeStep}\r\n//         orientation=\"vertical\"\r\n//       >\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             onClick={this.changeStep(0)}\r\n//             completed={completed[0]}\r\n//             error={errors.email.length\r\n//               + errors.password.length\r\n//               + errors.confirmPassword.length > 0}\r\n//           >\r\n//             Данни за акаунт\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserAccountData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             completed={completed[1]}\r\n//             onClick={this.changeStep(1)}\r\n//             error={errors.firstName.length\r\n//               + errors.lastName.length\r\n//               + errors.telephone.length\r\n//               + errors.gender.length\r\n//               + errors.birthDate.length > 0}\r\n//           >\r\n//             Основни данни за играч\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserPlayerMainData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             onClick={this.changeStep(2)}\r\n//             completed={completed[2]}\r\n//             error={errors.startedPlaying.length\r\n//               + errors.playStyle.length\r\n//               + errors.courtType.length\r\n//               + errors.backhandType.length > 0}\r\n//           >\r\n//             Допълнителни данни за играч\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserPlayerSecondaryData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//       </Stepper>\r\n\r\n//       {activeStep === 3 && <div>\r\n//         <em>\r\n//           Натискайки бутонът \"Регистрация\" Вие се съгласявате да получавате съобщения относно\r\n//           статуса на турнири за които сте записани, както и при нужда да бъдете потърсени по\r\n//           телефонния номер който сте задали.\r\n//           </em>\r\n//         <div className={classes.action}>\r\n//           <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={this.changeStep(0)}>\r\n//             Промяна\r\n//           </Button>\r\n\r\n//           <Button style={{ marginLeft: '.3rem' }} variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => this.register()}>\r\n//             Регистрация\r\n//           </Button>\r\n//         </div>\r\n//       </div>\r\n//       }\r\n//     </React.Fragment>\r\n//   );\r\n// }","import React from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport Button from '@material-ui/core/Button';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Login from './Login';\r\nimport Registration from './Registration';\r\nimport EventService from '../services/events.service';\r\n\r\nconst styles = (theme) => ({\r\n  centered: {\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  },\r\n  smallContainer: {\r\n    width: 320\r\n  },\r\n  closeBtn: {\r\n    position: 'absolute',\r\n    color: theme.palette.primary.main,\r\n    top: '5px',\r\n    right: '5px',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      color: theme.palette.primary.dark\r\n    }\r\n  }\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      index: 0,\r\n      open: false,\r\n      successfulRegistration: false\r\n    };\r\n\r\n    this.handleTabChange = (event, index) => {\r\n      this.setState({ index });\r\n    };\r\n\r\n    this.handleRegistration = () => {\r\n      this.setState({ successfulRegistration: true, open: false });\r\n      setTimeout(() => this.setState({ successfulRegistration: false }), 5000);\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    EventService.catchEvent('menu-login', () => this.setState({ open: true }));\r\n  }\r\n\r\n  render() {\r\n    const { index, open, successfulRegistration } = this.state;\r\n    const { classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Dialog\r\n          open={open}\r\n          fullScreen={fullScreen}\r\n          onClose={() => this.setState({ open: false, index: 0 })}\r\n          aria-labelledby=\"login-dialog\"\r\n        >\r\n          <DialogTitle id=\"login-dialog\"\r\n            className={classes.centered}\r\n          >\r\n            <Tabs\r\n              className={classes.smallContainer}\r\n              centered={true}\r\n              value={index}\r\n              onChange={this.handleTabChange}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n            >\r\n              <Tab label=\"Вход\" key=\"1\" />\r\n              <Tab label=\"Регистрация\" key=\"2\" />\r\n            </Tabs>\r\n            <span className={classes.closeBtn} onClick={() => this.setState({ open: false, index: 0 })}>\r\n              <ClearIcon />\r\n            </span>\r\n          </DialogTitle>\r\n          <DialogContent\r\n            className={classes.centered}>\r\n            <SwipeableViews\r\n              className={classes.smallContainer}\r\n              index={index}\r\n              onChangeIndex={(index) => this.handleTabChange(null, index)}\r\n            >\r\n              <Login onClose={() => this.setState({ open: false, index: 0 })} />\r\n              <Registration onSuccess={this.handleRegistration} />\r\n            </SwipeableViews>\r\n          </DialogContent>\r\n          <DialogActions>\r\n\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={successfulRegistration}\r\n          fullScreen={fullScreen}\r\n          onClose={() => this.setState({ successfulRegistration: false })}\r\n          aria-labelledby=\"successful-registration\"\r\n        >\r\n          <DialogContent>\r\n            <Typography variant=\"headline\" color=\"primary\" align=\"center\">\r\n              Регистрацията Ви беше успешна!\r\n            </Typography>\r\n            <Typography variant=\"subheading\" align=\"center\">\r\n              На зададеният от Вас имейл е изпратено съобщение, с което може да активирате вашият акаунт.</Typography>\r\n            <Typography variant=\"caption\" color=\"secondary\" align=\"center\">\r\n              В случай, че не получавате имейл за активация, моля потърсете някой\r\n              от администраторите на системата, който да активира вашият акаунт.\r\n            </Typography>\r\n          </DialogContent>\r\n          <DialogActions style={{ justifyContent: 'center' }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\"\r\n              onClick={() => this.setState({ successfulRegistration: false })}\r\n            >\r\n              Добре\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(SignIn)\r\n);","import React from 'react';\r\n\r\nimport NavigationModel from './navigation.model';\r\nimport UserService from '../services/user.service';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nclass Navigation extends React.Component {\r\n  render() {\r\n    return (\r\n      <UserService.WithApplicationMode>\r\n        {mode => <NavigationModel.WithCurrentRoute>\r\n          {currentRoute => <div className=\"container\" style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1.5rem', alignItems: 'center' }}>\r\n            <img src=\"assets/logo3.png\" />\r\n            {mode == ApplicationMode.GUEST && <NavigationModel.Guest currentRoute={currentRoute} />}\r\n            {mode == ApplicationMode.USER && <NavigationModel.User currentRoute={currentRoute} />}\r\n            {mode == ApplicationMode.ADMIN && <NavigationModel.Admin currentRoute={currentRoute} />}\r\n          </div>}\r\n        </NavigationModel.WithCurrentRoute>}\r\n      </UserService.WithApplicationMode>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#828A00',\r\n      // '#629900'\r\n      contrastText: '#fff'\r\n    },\r\n    secondary: {\r\n      // main: '#E87114',\r\n      main: '#f47521',\r\n      contrastText: '#fff'\r\n    }\r\n  },\r\n  overrides: {\r\n    MuiFormControl: {\r\n      root: {\r\n        marginTop: '.5rem'\r\n      }\r\n    },\r\n    MuiTypography: {\r\n      caption: {\r\n        fontStyle: 'italic'\r\n      },\r\n      body2: {\r\n        color: '#629900'\r\n      }\r\n    },\r\n    MuiDrawer: {\r\n      modal: {\r\n        zIndex: 1200\r\n      }\r\n    }\r\n  }\r\n});","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport MuiPickersUtilsProvider from 'material-ui-pickers/MuiPickersUtilsProvider';\r\nimport DateFnsUtils from 'material-ui-pickers/utils/date-fns-utils';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport AppRouting from './app.routing';\r\nimport SignIn from '../login/SignIn';\r\nimport Navigation from '../menu/Navigation';\r\nimport { catchEvent } from '../services/events.service';\r\nimport UserService from '../services/user.service';\r\nimport NavigationModel from '../menu/navigation.model';\r\nimport { ApplicationMode } from '../enums';\r\nimport theme from '../theme';\r\nimport './app.styles.scss';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const user = UserService.getUser();\r\n    this.state = {\r\n      applicationMode: (user ? (\r\n        user.isAdmin ? ApplicationMode.ADMIN : ApplicationMode.USER)\r\n        : ApplicationMode.GUEST),\r\n      currentRoute: 0\r\n    }\r\n\r\n    this.handleLoginTab = (event, index) => {\r\n      this.setState({ index });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.body.classList.add('background');\r\n    catchEvent('not-found', () => this.props.history.replace('/oops'));\r\n    catchEvent('login', () => this.setState({\r\n      applicationMode: UserService.isAdmin() ? ApplicationMode.ADMIN : ApplicationMode.USER\r\n    }));\r\n    catchEvent('logout', () => {\r\n      this.setState({\r\n        applicationMode: ApplicationMode.GUEST\r\n      });\r\n      this.props.history.replace('/');\r\n    });\r\n    this.onRouteChanged(this.props.location);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      this.onRouteChanged(this.props.location);\r\n    }\r\n  }\r\n\r\n  onRouteChanged(location) {\r\n    var route = (NavigationModel.routes\r\n      .find(route => location.pathname.indexOf(route.to) != -1)\r\n      || NavigationModel.adminRoutes\r\n        .find(route => location.pathname.indexOf(route.to) != -1));\r\n    if (route)\r\n      this.setState({ currentRoute: route.id });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <UserService.SetApplicationMode value={this.state.applicationMode}>\r\n            <NavigationModel.SetCurrentRoute value={this.state.currentRoute}>\r\n              <div className=\"wrapper\">\r\n                <Navigation />\r\n                {/* <Home /> */}\r\n                <SignIn />\r\n                <AppRouting />\r\n              </div>\r\n            </NavigationModel.SetCurrentRoute>\r\n          </UserService.SetApplicationMode>\r\n        </MuiThemeProvider>\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById(\"root\")\r\n);","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nexport default () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\n"],"sourceRoot":""}