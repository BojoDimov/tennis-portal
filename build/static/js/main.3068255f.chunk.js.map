{"version":3,"sources":["components/DisplayImage.js","app/NotFoundPage.js","services/events.service.js","enums.js","services/user.service.js","configuration.js","services/query.service.js","components/select/components.js","components/select/AsyncSelect.js","components/select/styles.js","schemes/components/SelectTeamModal.js","schemes/components/Enrollments.js","components/EnumSelect.js","components/EnumSelectToggle.js","schemes/SchemeFormModal.js","schemes/components/SchemeDetails.js","schemes/components/SchemeDetailsActions.js","schemes/components/MatchDetailsEdit.js","schemes/components/MatchDetails.js","schemes/components/MatchesList.js","schemes/SchemeView.js","schemes/SchemesRoot.js","schemes/components/MatchFormModal.js","schemes/brackets/EliminationBracket.js","components/ImageField.js","components/FileUpload.js","tournaments/TournamentFormModal.js","editions/new/EditionFormModal.js","editions/new/EditionsDesktopView.js","editions/new/EditionsMobileView.js","components/ConfirmationDialog.js","editions/new/EditionsList.js","editions/new/EditionsViewActions.js","editions/new/EditionView.js","editions/new/EditionsRoot.js","components/L10n.js","utils.js","schedule/reservation/EditReservationModal.js","schedule/reservation/styles.js","schedule/reservation/AdminReservation.js","schedule/reservation/ViewReservationModal.js","schedule/reservation/UserReservation.js","schedule/reservation/GuestReservation.js","schedule/reservation/Reservation.js","schedule/reservation/ShuffleItem.js","components/calendar/DateComponent.js","components/calendar/Calendar.js","schedule/Legend.js","schedule/Schedule.js","admin/CourtItem.js","admin/Courts.js","admin/SeasonItem.js","admin/Seasons.js","statistics/utils.js","statistics/MonthlyStatistics.js","statistics/Statistics.js","users/user.model.js","admin/UserDetailsModal.js","admin/UserSubscriptionsModal.js","admin/Users.js","menu/Guest.js","menu/Admin.js","menu/navigation.model.js","users/UserProfile.js","login/Activation.js","login/RecoveryStep1.js","login/RecoveryStep2.js","app/app.routing.js","login/Login.js","login/Registration.js","login/SignIn.js","menu/Navigation.js","theme.js","app/App.js","index.js","app/index.js"],"names":["Buffer","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","DisplayImage","_ref","image","style","buffer","content","data","b64","toString","mimeType","a","createElement","src","concat","NotFoundPage","react_default","className","Paper_default","height","display","justifyContent","alignItems","Typography_default","color","variant","React","Component","dispatchEvent","name","options","root","document","getElementById","event","CustomEvent","detail","catchEvent","cb","listener","bind","removeEventListener","addEventListener","events_service","ApplicationMode","GUEST","USER","ADMIN","RouteTypeEnum","PUBLIC","PROTECTED","Gender","MALE","FEMALE","Status","DRAFT","PUBLISHED","FINALIZED","INACTIVE","SchemeType","GROUP","ELIMINATION","CourtType","CLAY","HARD","GRASS","INDOOR","BackhandType","ONE","TWO","PlayStyle","LEFT","RIGHT","ReservationPayment","SODEXO","MULTISPORT","ABK","CASH","SUBS_ZONE_1","SUBS_ZONE_2","ReservationType","SUBSCRIPTION","COMPETITOR","ELDER_GROUP","TENNIS_SCHOOL","TOURNAMENT","SERVICE","SubscriptionType","ZONE_1","ZONE_2","StatisticsType","MONTHLY","DAILY","EnumLocalization","_SchemeType","Object","defineProperty","_StatisticsType","_ReservationPayment","_ReservationType","CustomReservationType","_CustomReservationTyp","_SubscriptionType","_Status","_Gender","_CourtType","_BackhandType","_PlayStyle","user_service","UserService","classCallCheck","this","_React$createContext","createContext","Provider","Consumer","SetApplicationMode","WithApplicationMode","localStorage","getItem","user","getUser","isAdmin","token","JSON","parse","Date","expires","setItem","stringify","removeItem","configuration","backend","query_service","QueryService","window","Configuration","console","log","_this","FormData","append","method","mode","body","fetch","then","res","errorHandling","json","fileId","resource","request","headers","Content-Type","_this2","tokenInfo","status","err","location","replace","item","inputComponent","inputRef","props","objectWithoutProperties","assign","ref","components","ClearIndicator","_props$innerProps","innerProps","restInnerProps","padding","zIndex","cursor","Clear_default","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","classes","input","innerRef","children","textFieldProps","Menu","paper","marginTop","MultiValue","Chip_default","tabIndex","label","classNames","chip","chipFocused","isFocused","onDelete","removeProps","onClick","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","MenuItem_default","buttonRef","selected","component","fontWeight","isSelected","Placeholder","SingleValue","singleValue","ValueContainer","valueContainer","AsyncSelect","possibleConstructorReturn","getPrototypeOf","call","state","searchTerm","limit","defaultLimit","totalCount","load","prevProps","filter","loadMore","_this$state","length","post","query","result","setState","_this3","_this$props","disableClear","disableSearch","value","getOptionLabel","getOptionValue","formatOptionLabel","onChange","theme","selectStyles","base","palette","text","primary","& input","font","_getOptionLabel","option","_getOptionValue","id","_noOptionsMessage","NoSsr_default","react_select_esm","isClearable","isSearchable","InputLabelProps","shrink","Boolean","onInputChange","trim","onMenuScrollToBottom","styles","menuPlacement","SelectComponents","customStyles","flexGrow","margin","withStyles","original","flexWrap","flex","spacing","unit","backgroundColor","emphasize","type","grey","fontSize","placeholder","position","left","right","divider","withTheme","SelectTeamModal","model","onClose","fullScreen","open","Dialog_default","DialogTitle_default","DialogContent_default","select_AsyncSelect","singleTeams","user1","DialogActions_default","btnContainer","Button_default","disabled","btn","width","breakpoints","down","flexDirection","marginBottom","withMobileDialog","breakpoint","EnrollmentsComponent","openTeamModal","enrolled","scheme","getData","get","e","team","teamId","schemeId","user1Id","user2Id","_this4","delete","_this5","queued","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","ExpansionPanelDetails_default","components_SelectTeamModal","add","size","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","map","enrollment","index","borderClass","default","seed","seedDivider","maxPlayerCount","enrolledDivider","Fragment","key","Link","to","user2","removeEnrollment","DeleteForever_default","marginLeft","lighten","main","borderBottom","light","secondary","EnumSelect","EnumValues","EnumName","required","error","errorText","FormControl_default","InputLabel_default","Select_default","keys","i","EnumSelectToggle","enumName","values","Enums","translation","leftRounded","target","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderRight","&:hover","rightRounded","borderRadius","borderLeft","boxSizing","SchemeFormModal","errors","save","assertThisInitialized","handleChange","prop","handleCustomChange","mixedTeams","groupCount","teamsPerGroup","edition","components_EnumSelectToggle","info","multiline","components_EnumSelect","schemeType","FormControlLabel_default","control","Checkbox_default","checked","maleTeams","femaleTeams","ageFrom","ageTo","DatePicker_default","autoOk","labelFunc","date","moment","format","clearable","DateTimePicker_default","registrationStart","ampm","registrationEnd","pPoints","wPoints","cPoints","SchemeDetails","enableEditionLink","Card_default","CardProps","CardContent_default","editionId","Reply_default","paddingRight","traits","push","ageTrait","join","getSchemeTraits","CardActions_default","disableActionSpacing","actions","SchemeDetailsActions","enableViewLink","MatchDetailsEdit","match","marginRight","maxWidth","names","cardRoot","vsRoot","vs","fontStyle","score","vsTeam","MatchDetails","team1","flexBasis","textAlign","StyledScore","sets","team2","components_MatchDetailsEdit","Score","_this$props2","set","tiebreaker","MatchesList","matches","teams","uniqueTeam","acc","curr","find","m","t","reduce","defaultExpanded","roundMarker","roundMarkerStrip","roundMarkerLabel","components_MatchDetails","SchemeView","schemeModel","params","components_SchemeDetailsActions","schemes_SchemeFormModal","drawBracket","components_SchemeDetails","Enrollments","SchemesRoot","Switch","Route","path","render","schemes_SchemeView","MatchFormModal","rounds","EliminationBracket","matchModel","components_MatchFormModal","round","EliminationBracket_Match","Match","Tooltip_default","title","placement","TransitionComponent","Zoom","enterDelay","elevation","ImageField","imageStyle","getFileUrl","Photo_default","click","TournamentFormModal","handleThumbnail","files","uploadFile","file","thumbnail","thumbnailId","components_ImageField","EditionFormModal","startDate","endDate","tournamentId","tournament","toLocaleDateString","truncateInfo","whiteSpace","overflow","textOverflow","EditionsDesktopView","editions","EditionsMobileView","List_default","ConfirmationDialog","isOpen","close","onAccept","EditionsList","editionModel","tournamentModel","handleOpenModal","handleRemoveEdition","onRemove","_React$Component","_class","apply","arguments","inherits","createClass","new_EditionFormModal","tournaments_TournamentFormModal","Hidden_default","smDown","new_EditionsDesktopView","mdUp","new_EditionsMobileView","EditionView","schemes","hasGroupPhase","groupPhase","groupPhaseId","initSchemeModel","schemesRoot","schemesItem","paddingBottom","EditionsRoot","new_EditionView","exact","new_EditionsList","l10n_text","translate","L10n","getHour","hour","EditReservationModal","reservation","court","season","payments","administrator","customer","customerId","subscription","subscriptionId","handlePaymentChange","handlePaymentSubscriptionChange","_","onAction","catch","unshift","amount","reservationId","DialogContentText_default","email","seasonId","userId","remainingHours","IconButton_default","addPayment","Add_default","payment","paymentCell","endAdornment","InputAdornment_default","onlyAvailable","splice","ErrorTexts","action","cancelReservation","exist","typeRequired","customerRequired","subscriptionRequired","usedHoursExceedTotalHours","paymentSubscriptionRequired","typeSubscriptionAndHasPaymentSubscription","maxAllowedTimeDiff","reservationInThePast","up","border","cell","button","opacity","AdminReservation","modal","free","reserved","unavaliable","components_L10n","reservation_EditReservationModal","ReservationStyles","contrastText","background","ViewReservationModal","makeReservation","UserReservation","reservation_ViewReservationModal","GuestReservation","available","taken","Reservation","workingHoursEnd","workingHoursStart","reservation_AdminReservation","reservation_GuestReservation","reservation_UserReservation","ShuffleItem","shuffle","onSelect","onUnselect","findIndex","courtId","select","service","DateComponent","getDate","previousSelected","weekDays","day","month","year","getDay","end","toConsumableArray","Array","k","availiableDaysAhead","targetDate","today","diff","Math","floor","_this$props3","getFullYear","getMonth","_this$props4","Tabs_default","tabsRoot","scroller","tabsScroller","indicator","tabsIndicator","scrollButtons","tabsScrollButtons","scrollable","getDays","rootClass","tab","isToday","todayTab","Tab_default","selectedTab","disabledTab","labelContainer","isDisabled","getLabel","dark","minWidth","minHeight","Calendar","startOf","years","monts","emitDateOnAnyChange","formControl","calendar_DateComponent","paddingLeft","Legend","unavailiable","& div","scrollButton","boxShadow","Schedule","counter","courts","reservations","rootRef","onscroll","needScrollBtns","clientWidth","tableInViewport","scrollTop","tableRef","offsetTop","btnContainerRef","sameReservation","constructReservation","shuffleErrors","scrollLeft","align","gutterBottom","calendar_Calendar","schedule_Legend","index_es","Replay_default","components_ConfirmationDialog","Shuffle_default","message","overflowX","scrollBehavior","scroll","ChevronLeft_default","scrollRight","ChevronRight_default","start","hours","reservation_ShuffleItem","getReservation","shuffleOnSelect","shuffleOnUnselect","reservation_Reservation","invalid","invalidTime","top","CourtItem","onCreateCancel","CourtItem_CourtEdit","onCancel","handleCancel","card","isActive","cardContent","cardActions","CourtEdit","Switch_default","rowsMax","cancel","Courts","addCourt","admin_CourtItem","updateModel","removeCourt","SeasonItem","SeasonItem_SeasonEdit","seasonStart","seasonEnd","SeasonEdit","Seasons","seasons","addSeason","admin_SeasonItem","removeSeason","SortableTableCell","active","direction","handleClick","orderHandler","TableSortLabel_default","orderData","ordering","sort","b","UserPlayedHours","order","handleOrder","users","forEach","totalHours","transformToUserPlayedHours","utils_SortableTableCell","StatisticByClassifier","_React$Component2","classifier","label1","label2","customFn","customValueSuffix","transformed","undefined","customValue","count","custom","transformByClassifier","reduceToPayments","paymentsAmountAccumulator","current","parseFloat","StatisticsRoot","handleCalendarChange","handleStatisticsChange","textColor","MonthlyStatistics_UserPlayedHours","MonthlyStatistics_StatisticByClassifier","UserModel","UserAccountData","UserAccountSecondaryData","UserPlayerMainData","UserPlayerSecondaryData","password","confirmPassword","firstName","lastName","telephone","gender","birthDate","startedPlaying","playStyle","courtType","backhandType","reservationDebt","subscriptionDebt","UET","helperText","composeErrors","openToYearSelection","unique","short","mismatch","future","range","user_model","UserDetailsModal","getErrorsModel","UserSubscriptionsModal","subscriptions","newValue","handleDelete","init","addSubscription","sub","UserSubscriptionsModal_Subscription","ArrowBack_default","Subscription","isEditMode","expanded","_this6","cancelEdit","remove","Users","currentSeason","page","rowsPerPage","usersFilter","indexOf","split","parseInt","subsUser","_this$state2","filterUsers","editUser","admin_UserDetailsModal","admin_UserSubscriptionsModal","updateSubscriptions","xsDown","slice","createdAt","Done_default","prepareForEdit","Edit_default","DescriptionOutlined_default","TablePagination_default","rowsPerPageOptions","labelRowsPerPage","labelDisplayedRows","_ref2","from","onChangePage","onChangeRowsPerPage","smUp","ListItem_default","Build_default","Divider_default","Guest","drawerOpen","routes","currentRoute","Toolbar_default","route","Menu_default","Drawer_default","anchor","role","onKeyDown","Icon","ListItemIcon_default","ListItemText_default","ExitToApp_default","Admin","additionalRoutes","Settings_default","list","logout","PowerSettingsNew_default","withRoutes","WrappedComponent","navigation_model","NavigationModel","CalendarTodayIcon","adminRoutes","PersonIcon","WbSunnyRoundedIcon","ViewQuiltRoundedIcon","AssessmentIcon","userRoutes","User","SetCurrentRoute","WithCurrentRoute","UserProfile","loggedInUser","subsCollapsed","resCollapsed","sectionRoot","cardContentRoot","sectionHeadline","ExpandLess_default","listItemRoot","&:last-child","AccountActivation","success","timer","interval","search","setInterval","clearInterval","history","RecoveryStep1","setTimeout","issueRecoverEmail","RecoveryStep2","recover","routeMapping","/schedule","/players","/admin/courts","/admin/seasons","/admin/users","/admin/statistics","Statistics","/account","AppRouting","users_UserProfile","Activation","login_RecoveryStep1","login_RecoveryStep2","Redirect","Login","hasError","login","form","link","borderColor","RegistrationStepper","activeStep","completed","changeStep","onSuccess","register","focused","SignIn","successfulRegistration","handleTabChange","handleRegistration","EventService","aria-labelledby","centered","smallContainer","indicatorColor","closeBtn","lib_default","onChangeIndex","login_Login","Registration","Navigation","createMuiTheme","overrides","MuiFormControl","MuiTypography","caption","body2","MuiDrawer","App","applicationMode","handleLoginTab","classList","onRouteChanged","pathname","MuiPickersUtilsProvider_default","utils","DateFnsUtils","core_styles","menu_Navigation","login_SignIn","app_routing","withRouter","ReactDOM","BrowserRouter","app_App"],"mappings":"2FAAA,SAAAA,GAAA,IAAAC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAUeI,IARM,SAAAC,GAAsB,IAAnBC,EAAmBD,EAAnBC,MAAOC,EAAYF,EAAZE,MACvBC,EAASF,EAAMG,QAAQC,KACvBC,EAAM,IAAIZ,EAAOS,GAAQI,SAAS,UAClCC,EAAWP,EAAMO,SAEvB,OAAOX,EAAAY,EAAAC,cAAA,OAAKC,IAAG,QAAAC,OAAUJ,EAAV,YAAAI,OAA6BN,GAAOJ,MAAOA,y5BCY7CW,mLAbX,OACEC,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAEe,OAAQ,QAASC,QAAS,OAAQC,eAAgB,SAAUC,WAAY,WACtFN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYa,MAAM,YAAYC,QAAQ,YAAtC,yPALiBC,IAAMC,2BCJ1B,SAASC,EAAcC,EAAMC,GAClC,IAAMC,EAAOC,SAASC,eAAe,QAC/BC,EAAQ,IAAIC,YAAYN,EAAM,CAAEO,OAAQN,IAC9CC,EAAKH,cAAcM,GAGd,SAASG,EAAWR,EAAMS,GAC/B,IAAMP,EAAOC,SAASC,eAAe,QAC/BM,EAKR,SAA6BD,EAAIJ,GAC/B,OAAOI,EAAGJ,EAAME,SANqBI,KAAK,KAAMF,GAChDP,EAAKU,oBAAoBZ,EAAMU,GAC/BR,EAAKW,iBAAiBb,EAAMU,GAOf,0BAAAI,EAAA,CACbf,gBACAS,sBCnBWO,EAAkB,CAC7BC,MAAO,QACPC,KAAM,OACNC,MAAO,SAGIC,EAAgB,CAC3BC,OAAQ,SACRC,UAAW,YACXH,MAAO,SAGII,EAAS,CACpBC,KAAM,OACNC,OAAQ,UAGGC,EAAS,CACpBC,MAAO,QACPC,UAAW,YACXC,UAAW,YACXC,SAAU,YAGCC,EAAa,CACxBC,MAAO,cACPC,YAAa,eAGFC,EAAY,CACvBC,KAAM,OACNC,KAAM,OACNC,MAAO,QACPC,OAAQ,UAGGC,EAAe,CAC1BC,IAAK,KACLC,IAAK,MAGMC,EAAY,CACvBC,KAAM,cACNC,MAAO,gBAGIC,EAAqB,CAChCC,OAAQ,SACRC,WAAY,aACZC,IAAK,MACLC,KAAM,OACNC,YAAa,QACbC,YAAa,SAGFC,EAAkB,CAC7BnC,MAAO,QACPC,KAAM,OACNmC,aAAc,eACdC,WAAY,aACZC,YAAa,QACbC,cAAe,SACfC,WAAY,aACZC,QAAS,WAGEC,GAAmB,CAC9BC,OAAQ,QACRC,OAAQ,SAGGC,GAAiB,CAC5BC,QAAS,QACTC,MAAO,OAGIC,GAAmB,CAC9BlC,YAAAmC,EAAA,GAAAC,OAAAC,EAAA,EAAAD,CAAAD,EACGnC,EAAWE,YAAc,gEAD5BkC,OAAAC,EAAA,EAAAD,CAAAD,EAEGnC,EAAWC,MAAQ,kCAFtBkC,GAIAJ,gBAAAO,EAAA,GAAAF,OAAAC,EAAA,EAAAD,CAAAE,EACGP,GAAeC,QAAU,8CAD5BI,OAAAC,EAAA,EAAAD,CAAAE,EAEGP,GAAeE,MAAQ,wCAF1BK,GAIAxB,oBAAAyB,EAAA,GAAAH,OAAAC,EAAA,EAAAD,CAAAG,EACGzB,EAAmBI,KAAO,mCAD7BkB,OAAAC,EAAA,EAAAD,CAAAG,EAEGzB,EAAmBC,OAAS,+EAF/BqB,OAAAC,EAAA,EAAAD,CAAAG,EAGGzB,EAAmBE,WAAa,iGAHnCoB,OAAAC,EAAA,EAAAD,CAAAG,EAIGzB,EAAmBG,IAAM,0HAJ5BmB,OAAAC,EAAA,EAAAD,CAAAG,EAKGzB,EAAmBK,YAAc,iKALpCiB,OAAAC,EAAA,EAAAD,CAAAG,EAMGzB,EAAmBM,YAAc,iKANpCmB,GAQAlB,iBAAAmB,EAAA,GAAAJ,OAAAC,EAAA,EAAAD,CAAAI,EACGnB,EAAgBnC,MAAQ,4BAD3BkD,OAAAC,EAAA,EAAAD,CAAAI,EAEGnB,EAAgBlC,KAAO,gEAF1BiD,OAAAC,EAAA,EAAAD,CAAAI,EAGGnB,EAAgBC,aAAe,wCAHlCc,OAAAC,EAAA,EAAAD,CAAAI,EAIGnB,EAAgBE,WAAa,sEAJhCa,OAAAC,EAAA,EAAAD,CAAAI,EAKGnB,EAAgBI,cAAgB,6EALnCW,OAAAC,EAAA,EAAAD,CAAAI,EAMGnB,EAAgBG,YAAc,sGANjCY,OAAAC,EAAA,EAAAD,CAAAI,EAOGnB,EAAgBK,WAAa,wCAPhCU,OAAAC,EAAA,EAAAD,CAAAI,EAQGnB,EAAgBM,QAAU,qGAR7Ba,GAUAC,uBAAAC,EAAA,GAAAN,OAAAC,EAAA,EAAAD,CAAAM,EACGrB,EAAgBlC,KAAO,gEAD1BiD,OAAAC,EAAA,EAAAD,CAAAM,EAEGrB,EAAgBC,aAAe,0DAFlCoB,GAIAd,kBAAAe,EAAA,GAAAP,OAAAC,EAAA,EAAAD,CAAAO,EACGf,GAAiBC,OAAS,8BAD7BO,OAAAC,EAAA,EAAAD,CAAAO,EAEGf,GAAiBE,OAAS,8BAF7Ba,GAIAhD,QAAAiD,EAAA,GAAAR,OAAAC,EAAA,EAAAD,CAAAQ,EACGjD,EAAOC,MAAQ,8CADlBwC,OAAAC,EAAA,EAAAD,CAAAQ,EAEGjD,EAAOE,UAAY,sEAFtBuC,OAAAC,EAAA,EAAAD,CAAAQ,EAGGjD,EAAOG,UAAY,gEAHtBsC,OAAAC,EAAA,EAAAD,CAAAQ,EAIGjD,EAAOI,SAAW,0DAJrB6C,GAMApD,QAAAqD,EAAA,GAAAT,OAAAC,EAAA,EAAAD,CAAAS,EACGrD,EAAOC,KAAO,sBADjB2C,OAAAC,EAAA,EAAAD,CAAAS,EAEGrD,EAAOE,OAAS,4BAFnBmD,GAIA1C,WAAA2C,EAAA,GAAAV,OAAAC,EAAA,EAAAD,CAAAU,EACG3C,EAAUC,KAAO,4BADpBgC,OAAAC,EAAA,EAAAD,CAAAU,EAEG3C,EAAUE,KAAO,yFAFpB+B,OAAAC,EAAA,EAAAD,CAAAU,EAGG3C,EAAUG,MAAQ,kCAHrB8B,OAAAC,EAAA,EAAAD,CAAAU,EAIG3C,EAAUI,OAAS,2DAJtBuC,GAMAtC,cAAAuC,EAAA,GAAAX,OAAAC,EAAA,EAAAD,CAAAW,EACGvC,EAAaC,IAAM,4DADtB2B,OAAAC,EAAA,EAAAD,CAAAW,EAEGvC,EAAaE,IAAM,sDAFtBqC,GAIApC,WAAAqC,EAAA,GAAAZ,OAAAC,EAAA,EAAAD,CAAAY,EACGrC,EAAUC,KAAO,qDADpBwB,OAAAC,EAAA,EAAAD,CAAAY,EAEGrC,EAAUE,MAAQ,2DAFrBmC,IC1FaC,GAAA,eApCb,SAAAC,IAAed,OAAAe,EAAA,EAAAf,CAAAgB,KAAAF,GAAA,IAAAG,EACkBtF,IAAMuF,cAAcrE,EAAgBC,OAA3DqE,EADIF,EACJE,SAAUC,EADNH,EACMG,SAClBJ,KAAKK,mBAAqBF,EAC1BH,KAAKM,oBAAsBF,yDAI3B,OAAwC,MAAjCG,aAAaC,QAAQ,2CAI5B,IAAMC,EAAOT,KAAKU,UAClB,SAAID,IAAQA,EAAKE,2CAMjB,IAAIC,EAAQC,KAAKC,MAAMP,aAAaC,QAAQ,UACxCC,GAAQG,GAAS,CAAEH,KAAM,OAAQA,KACrC,OAAIA,GAAQ,IAAIM,KAAKH,EAAMI,SAAW,IAAID,KACjCN,EACG,mCAGRG,GACJL,aAAaU,QAAQ,QAASJ,KAAKK,UAAUN,IAC7C/F,EAAc,0CAId0F,aAAaY,WAAW,SACxBtG,EAAc,oBCrCHuG,GAAA,CACbC,QAAS,6BCwGIC,GAAA,eArGb,SAAAC,IAAevC,OAAAe,EAAA,EAAAf,CAAAgB,KAAAuB,GACbvB,KAAKqB,SAAWG,OAAOJ,eAAiBK,IAAeJ,QAEvDK,QAAQC,IAAI3B,KAAKqB,gEAGR9H,GAAS,IAAAqI,EAAA5B,KACdxG,EAAO,IAAIqI,SACfrI,EAAKsI,OAAO,OAAQvI,GAEpB,IAAIwB,EAAU,CACZgH,OAAQ,OACRC,KAAM,OACNC,KAAMzI,GAGR,OAAO0I,MAAMlC,KAAKqB,QAAU,SAAUtG,GACnCoH,KAAK,SAAAC,GAAG,OAAIR,EAAKS,cAAcD,KAC/BD,KAAK,SAAAC,GAAG,OAAIA,EAAIE,4CAGVC,GACT,SAAAxI,OAAUiG,KAAKqB,QAAf,WAAAtH,OAAgCwI,+BAG9BC,GASF,OAAOxC,KACJyC,QAAQD,EATG,CACZT,OAAQ,MACRC,KAAM,OACNU,QAAS,CACPC,eAAgB,mDASjBH,EAAUP,GACb,IAAIlH,EAAU,CACZgH,OAAQ,OACRC,KAAM,OACNU,QAAS,CACPC,eAAgB,oBAElBV,KAAMpB,KAAKK,UAAUe,IAGvB,OAAOjC,KAAKyC,QAAQD,EAAUzH,kCAGzByH,GASL,OAAOxC,KAAKyC,QAAQD,EARN,CACZT,OAAQ,SACRC,KAAM,OACNU,QAAS,CACPC,eAAgB,sDAOdH,EAAUzH,GAAS,IAAA6H,EAAA5C,KACrB6C,EAAYhC,KAAKC,MAAMU,OAAOjB,aAAaC,QAAQ,UAIvD,OAHIqC,IACF9H,EAAQ2H,QAAR,cAAmC,UAAYG,EAAUjC,OAEpDsB,MAAMlC,KAAKqB,QAAUmB,EAAUzH,GACnCoH,KAAK,SAAAC,GAAG,OAAIQ,EAAKP,cAAcD,KAC/BD,KAAK,SAAAC,GAAG,OAAIA,EAAIE,+CAGPF,GACZ,GAAmB,MAAfA,EAAIU,OAEN,MADAjI,EAAc,aACR,KAER,GAAmB,MAAfuH,EAAIU,OACN,OAAOV,EACJE,OACAH,KAAK,SAAAY,GAAS,MAAMA,IACzB,GAAmB,MAAfX,EAAIU,OACN,MAAM,KACR,GAAmB,MAAfV,EAAIU,OAIH,OAAOV,EAHVZ,OAAOjB,aAAaU,QAAQ,QAAS,MACrCO,OAAOwB,SAASC,QAAQ,8CAKXC,GACf,GAAY,MAARA,EAEF,MADArI,EAAc,aACR,KAEH,OAAOqI,+eCpEhB,SAASC,GAAThK,GAAgD,IAAtBiK,EAAsBjK,EAAtBiK,SAAaC,EAASrE,OAAAsE,GAAA,EAAAtE,CAAA7F,EAAA,cAC9C,OAAOc,EAAAL,EAAAC,cAAA,MAAAmF,OAAAuE,OAAA,CAAKC,IAAKJ,GAAcC,IAqFlB,IAAAI,GAAA,CACbC,eA9GF,SAAwBL,GAAO,IAAAM,EACsBN,EAA3CO,WAAcJ,EADOG,EACPH,IAAQK,EADD7E,OAAAsE,GAAA,EAAAtE,CAAA2E,EAAA,SAE7B,OACE1J,EAAAL,EAAAC,cAAA,MAAAmF,OAAAuE,OAAA,GAASM,EAAT,CAAyBL,IAAKA,IAC5BvJ,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEyK,QAAS,UAAWC,OAAQ,EAAGC,OAAQ,YACnD/J,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAYK,EAAAL,EAAAC,cAACoK,GAAArK,EAAD,CAAWa,MAAM,eA0GnCyJ,QApFF,SAAiBb,GACf,OACEpJ,EAAAL,EAAAC,cAACsK,GAAAvK,EAADoF,OAAAuE,OAAA,CACEa,WAAS,EACTC,WAAY,CACVlB,kBACAmB,WAAWtF,OAAAuF,GAAA,EAAAvF,CAAA,CACT9E,UAAWmJ,EAAMmB,YAAYC,QAAQC,MACrCtB,SAAUC,EAAMsB,SAChBC,SAAUvB,EAAMuB,UACbvB,EAAMO,cAGTP,EAAMmB,YAAYK,kBAwE1BC,KAXK,SAAczB,GACnB,OACEpJ,EAAAL,EAAAC,cAACM,EAAAP,EAADoF,OAAAuE,OAAA,CAAOrJ,UAAWmJ,EAAMmB,YAAYC,QAAQM,OAAW1B,EAAMO,WAA7D,CAAyEvK,MAAO,CAAE2L,UAAW,OAC1F3B,EAAMuB,WASXK,WA1BK,SAAoB5B,GACzB,OACEpJ,EAAAL,EAAAC,cAACqL,GAAAtL,EAAD,CACEuL,UAAW,EACXC,MAAO/B,EAAMuB,SACb1K,UAAWmL,KAAWhC,EAAMmB,YAAYC,QAAQa,KAA3BtG,OAAAC,EAAA,EAAAD,CAAA,GAClBqE,EAAMmB,YAAYC,QAAQc,YAAclC,EAAMmC,YAEjDC,SAAUpC,EAAMqC,YAAYC,QAC5BC,WAAY3L,EAAAL,EAAAC,cAACgM,GAAAjM,EAAeyJ,EAAMqC,gBAkBtCI,iBAvGF,SAA0BzC,GACxB,OACEpJ,EAAAL,EAAAC,cAACW,EAAAZ,EAADoF,OAAAuE,OAAA,CACE9I,MAAM,gBACNP,UAAWmJ,EAAMmB,YAAYC,QAAQsB,kBACjC1C,EAAMO,YAETP,EAAMuB,WAiGXoB,OAtEK,SAAgB3C,GACrB,OACEpJ,EAAAL,EAAAC,cAACoM,GAAArM,EAADoF,OAAAuE,OAAA,CACE2C,UAAW7C,EAAMsB,SACjBwB,SAAU9C,EAAMmC,UAChBY,UAAU,MACV/M,MAAO,CACLgN,WAAYhD,EAAMiD,WAAa,IAAM,MAEnCjD,EAAMO,YAETP,EAAMuB,WA4DX2B,YA3CyB,kBAAM,MA4C/BC,YA1CK,SAAqBnD,GAC1B,OACEpJ,EAAAL,EAAAC,cAACW,EAAAZ,EAADoF,OAAAuE,OAAA,CAAYrJ,UAAWmJ,EAAMmB,YAAYC,QAAQgC,aAAiBpD,EAAMO,YACrEP,EAAMuB,WAwCX8B,eAnCK,SAAwBrD,GAC7B,OAAOpJ,EAAAL,EAAAC,cAAA,OAAKK,UAAWmJ,EAAMmB,YAAYC,QAAQkC,gBAAiBtD,EAAMuB,qBCrFpEgC,eACJ,SAAAA,EAAYvD,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA4G,IACjBhF,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA4H,GAAAG,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXC,WAAY,GACZC,MAAO,GACPC,aAAc,GACdpM,QAAS,GACTqM,WAAY,MAPGxF,mFAYjB5B,KAAKqH,kDAGYC,GACbA,EAAUC,QAAUvH,KAAKqD,MAAMkE,QACjCvH,KAAKqH,oCAGJG,GAAU,IAAA5E,EAAA5C,KAAAyH,EAC6CzH,KAAKgH,MAAvDjM,EADK0M,EACL1M,QAASqM,EADJK,EACIL,WAAYH,EADhBQ,EACgBR,WAAYE,EAD5BM,EAC4BN,aACrCD,EAAQlH,KAAKgH,MAAME,MAEnBM,IACFN,GAASC,GAEPK,GAAYzM,EAAQ2M,QAAUN,GAGlC7F,GACGoG,KADH,WAAA5N,OACmBiG,KAAKqD,MAAMuE,OAD9B5I,OAAAuF,GAAA,EAAAvF,CAAA,GAEOgB,KAAKqD,MAAMkE,OAFlB,CAGIN,aACAC,WAED/E,KAAK,SAAA0F,GAAM,OAAIjF,EAAKkF,SAAL9I,OAAAuF,GAAA,EAAAvF,CAAA,GAAmB6I,EAAnB,CAA2BX,8CAGtC,IAAAa,EAAA/H,KAAAgI,EAeHhI,KAAKqD,MAbP4E,EAFKD,EAELC,aACAC,EAHKF,EAGLE,cACA9C,EAJK4C,EAIL5C,MACA+C,EALKH,EAKLG,MAGAC,GARKJ,EAMLJ,MANKI,EAOLT,OAPKS,EAQLI,gBACAC,EATKL,EASLK,eACAC,EAVKN,EAULM,kBACAvC,EAXKiC,EAWLjC,iBACAwC,EAZKP,EAYLO,SAEA9D,EAdKuD,EAcLvD,QAAS+D,EAdJR,EAcIQ,MAGLC,EAAe,CACnB/D,MAAO,SAAAgE,GAAI,OAAA1J,OAAAuF,GAAA,EAAAvF,CAAA,GACN0J,EADM,CAETjO,MAAO+N,EAAMG,QAAQC,KAAKC,QAC1BC,UAAW,CACTC,KAAM,eAKRC,EAAkBZ,GAAmB,SAACa,GAAD,OAAYA,EAAOnO,MACxDoO,EAAkBb,GAAmB,SAACY,GAAD,OAAYA,EAAOE,IACxDC,EAAoBrD,GAAqB,iBAAM,iJAEnD,OACE9L,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQzJ,MAItBf,EAAAL,EAAAC,cAACwP,GAAAzP,EAAD,KACEK,EAAAL,EAAAC,cAACyP,GAAA,EAAD,CACEC,aAActB,EACduB,cAAetB,EACfrD,eAAgB,CACdO,QACAqE,gBAAiB,CACfC,OAAQC,QAAQxB,IAAUwB,QAAQ3J,KAAKgH,MAAMC,cAGjDkB,MAAOA,EACPpN,QAASiF,KAAKgH,MAAMjM,QACpBqN,eAAgBY,EAChBX,eAAgBa,EAChBZ,kBAAmBA,EACnBvC,iBAAkBqD,EAClBb,SAAUA,EACVqB,cAAe,SAAAzB,GACbJ,EAAKD,SAAS,CAAEb,WAAYkB,EAAM0B,SAClC9B,EAAKV,QAEPyC,qBAAsB,kBAAM/B,EAAKV,MAAK,IACtC5C,QAASA,EACTsF,OAAQtB,EACRuB,cAAc,OACdvG,WAAYwG,cArGEtP,IAAMC,WA6G1BsP,GAAe,CACnBlP,KAAM,CACJmP,SAAU,EACVC,OAAQ,EACRpG,OAAQ,YAUGqG,wBANS,SAAC7B,GACvB,IAAM8B,EC7HO,SAAA9B,GAAK,MAAK,CACvBxN,KAAM,CACJmP,SAAU,EACVC,OAAQ,QAEV1F,MAAO,CACLrK,QAAS,OACTyJ,QAAS,GAEX6C,eAAgB,CACdtM,QAAS,OACTkQ,SAAU,OACVC,KAAM,EACNjQ,WAAY,UAEd+K,KAAM,CACJ8E,OAAM,GAAArQ,OAAKyO,EAAMiC,QAAQC,KAAO,EAA1B,OAAA3Q,OAAiCyO,EAAMiC,QAAQC,KAAO,EAAtD,OAERnF,YAAa,CACXoF,gBAAiBC,qBACQ,UAAvBpC,EAAMG,QAAQkC,KAAmBrC,EAAMG,QAAQmC,KAAK,KAAOtC,EAAMG,QAAQmC,KAAK,KAC9E,MAGJ/E,iBAAkB,CAChBjC,QAAO,GAAA/J,OAAKyO,EAAMiC,QAAQC,KAAnB,OAAA3Q,OAAkD,EAArByO,EAAMiC,QAAQC,KAA3C,OAETjE,YAAa,CACXsE,SAAU,IAEZC,YAAa,CACXC,SAAU,WACVC,KAAM,EACNH,SAAU,IAEZhG,MAAO,CACLkG,SAAU,WACVlH,OAAQ,EACRiB,UAAWwD,EAAMiC,QAAQC,KACzBQ,KAAM,EACNC,MAAO,GAETC,QAAS,CACPhR,OAA6B,EAArBoO,EAAMiC,QAAQC,ODkFPX,CAAOvB,GAExB,OADYxJ,OAAAuF,GAAA,EAAAvF,CAAA,GAAQsL,EAAaJ,KAIQ,CAAEmB,WAAW,GAAzChB,CAAiDzD,IExH1D0E,eACJ,SAAAA,EAAYjI,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAsL,IACjB1J,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAsM,GAAAvE,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuE,MAAO,MAHQ3J,wEAOV,IAAAgB,EAAA5C,KAAAgI,EACkDhI,KAAKqD,MAAtDmI,EADDxD,EACCwD,QAASjD,EADVP,EACUO,SAAU9D,EADpBuD,EACoBvD,QAASgH,EAD7BzD,EAC6ByD,WAAYC,EADzC1D,EACyC0D,KACxCH,EAAUvL,KAAKgH,MAAfuE,MACR,OACEtR,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,KAAMA,EACNF,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,YAArC,oHAEFT,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACiS,GAAD,CACE3D,MAAOoD,EACPnG,MAAM,kHACNwC,MAAM,QACNL,OAAQ,CACNwE,aAAa,GAEfzD,kBAAmB,SAACW,GAClB,OACEhP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAaqP,EAAO+C,MAAMlR,OAG9ByN,SAAU,SAAAgD,GAAK,OAAI3I,EAAKkF,SAAS,CAAEyD,cAGvCtR,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQwS,UAAWb,EAAO7Q,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAM4C,EAASgD,KAA9G,kCAGAtR,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,2CAzCoB7Q,IAAMC,WAqErByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,QACPlS,OAAQ,SAEV8R,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCrB,KC7DnCuB,eACJ,SAAAA,EAAYxJ,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6M,IACjBjL,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA6N,GAAA9F,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX8F,eAAe,EACfC,SAAU,GACVpM,SAAS,GALMiB,kFASA0F,GACbA,EAAU0F,QAAUhN,KAAKqD,MAAM2J,QACjChN,KAAKiN,4CAGC,IAAArK,EAAA5C,KACAgN,EAAWhN,KAAKqD,MAAhB2J,OAERzL,GACG2L,IADH,YAAAnT,OACmBiT,EAAO7D,GAD1B,iBAEGhH,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CAAEiF,SAAUI,kCAGrCC,GAAM,IAAArF,EAAA/H,KACAgN,EAAWhN,KAAKqD,MAAhB2J,OACR,OAAOzL,GACJoG,KADI,YAAA5N,OACaiT,EAAO7D,GADpB,gBACsC,CACzCkE,OAAQD,EAAKjE,GACbmE,SAAUN,EAAO7D,GACjBoE,QAASH,EAAKG,QACdC,QAASJ,EAAKI,UAEfrL,KAAK,SAAAgL,GACJpF,EAAKD,SAAS,CAAEgF,eAAe,IAC/B/E,EAAKkF,qDAIM9D,GAAI,IAAAsE,EAAAzN,KACXgN,EAAWhN,KAAKqD,MAAhB2J,OAER,OAAOzL,GACJmM,OADI,YAAA3T,OACeiT,EAAO7D,GADtB,iBAAApP,OACwCoP,IAC5ChH,KAAK,kBAAMsL,EAAKR,6CAGZ,IAAAU,EAAA3N,KAAAyH,EAC8CzH,KAAKgH,MAAlD+F,EADDtF,EACCsF,SAAkBpM,GADnB8G,EACWmG,OADXnG,EACmB9G,SAASmM,EAD5BrF,EAC4BqF,cAD5B9E,EAEqBhI,KAAKqD,MAAzB2J,EAFDhF,EAECgF,OAAQvI,EAFTuD,EAESvD,QAEhB,OACExK,EAAAL,EAAAC,cAACgU,GAAAjU,EAAD,CAAgBP,MAAO,CAAE2L,UAAW,SAClC/K,EAAAL,EAAAC,cAACiU,GAAAlU,EAAD,CAAuBmU,WAAY9T,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,OACjCK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAApB,yCAEFT,EAAAL,EAAAC,cAACoU,GAAArU,EAAD,CAAuBP,MAAO,CAAEoT,cAAe,WAE7CxS,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAACqU,GAAD,CACExC,KAAMoB,EACNvE,SAAU,SAAC6E,GAAD,OAAUO,EAAKQ,IAAIf,IAC7B5B,QAAS,kBAAMmC,EAAK7F,SAAS,CAAEgF,eAAe,OAEhD7S,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAU2T,KAAK,QAC9CzI,QAAS,kBAAMgI,EAAK7F,SAAS,CAAEgF,eAAe,MADhD,yCAOF7S,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,KACEK,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QAAnB,UAEA7J,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,uCACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,SAAnB,kCACCnD,GAAW1G,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,WAGnC7J,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KAEGmT,EAAS2B,IAAI,SAACC,EAAYC,GACzB,IAAIC,EAAcpK,EAAQqK,QAU1B,OATIF,EAAQ5B,EAAO+B,OACjBF,EAAcpK,EAAQsK,MACpBH,EAAQ,GAAK5B,EAAO+B,OACtBF,EAAcpK,EAAQuK,aACpBJ,EAAQ,GAAK5B,EAAOiC,iBACtBJ,EAAcpK,EAAQyK,iBACpBN,EAAQ,EAAI5B,EAAOiC,iBACrBJ,EAAcpK,EAAQsI,UAGtB9S,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,CAAgBC,IAAKT,EAAWxF,IAC9BlP,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUM,UAAW2U,GACnB5U,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QAAQ8K,EAAQ,GACnC3U,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAY4U,EAAWvB,KAAKpB,MAAM7C,KACxClP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAASiU,EAAWvB,KAAKpB,MAAMlR,OAEpD6T,EAAWvB,KAAKmC,OACftV,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAY4U,EAAWvB,KAAKmC,MAAMpG,KACxClP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAASiU,EAAWvB,KAAKmC,MAAMzU,QAGzDb,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,SACjB7J,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,6BAMDiG,GAAW1G,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QAC7B7J,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,OAAOD,MAAM,YAAY2T,KAAK,QAC5CzI,QAAS,kBAAMgI,EAAK6B,iBAAiBb,EAAWxF,MAEhDlP,EAAAL,EAAAC,cAAC4V,GAAA7V,EAAD,uBArHSe,IAAMC,WA0J1ByP,wBAtBA,SAAC7B,GAEd,OADA9G,QAAQC,IAAI6G,GACJ,CACNxN,KAAM,CACJ0U,WAAY,GAEdV,YAAa,CACXrE,gBAAiBgF,mBAAQnH,EAAMG,QAAQE,QAAQ+G,KAAM,IACrDC,aAAY,aAAA9V,OAAeyO,EAAMG,QAAQE,QAAQiH,QAEnDZ,gBAAiB,CACfW,aAAY,aAAA9V,OAAeyO,EAAMG,QAAQoH,UAAUD,QAErDf,KAAM,CACJpE,gBAAiBgF,mBAAQnH,EAAMG,QAAQE,QAAQ+G,KAAM,KAEvD7C,SAAU,CACRpC,gBAAiBgF,mBAAQnH,EAAMG,QAAQoH,UAAUH,KAAM,OAK9CvF,CAAmBwC,+KCtHnBmD,oLA9CJ,IAAAhI,EAUHhI,KAAKqD,MARP8E,EAFKH,EAELG,MACAI,EAHKP,EAGLO,SACA0H,EAJKjI,EAILiI,WACAC,EALKlI,EAKLkI,SACA9K,EANK4C,EAML5C,MACA+K,EAPKnI,EAOLmI,SACAC,EARKpI,EAQLoI,MACAC,EATKrI,EASLqI,UAGF,OACEpW,EAAAL,EAAAC,cAACyW,GAAA1W,EAAD,CAAawK,WAAW,EAAMgM,MAAOA,GACnCnW,EAAAL,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYuW,SAAUA,GACnB/K,GAEHnL,EAAAL,EAAAC,cAAC2W,GAAA5W,EAAD,CACEuO,MAAOA,EACPI,SAAUA,GAEVtO,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUuO,MAAM,GAAGiE,UAAU,GAC3BnS,EAAAL,EAAAC,cAAA,UAAKuL,IAENpG,OAAOyR,KAAKR,GAAYvB,IAAI,SAACU,EAAKsB,GACjC,OACEzW,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUwV,IAAKsB,EAAGvI,MAAO8H,EAAWb,IACjCtQ,GAAiBoR,GAAUD,EAAWb,QAK/CnV,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAEoB,MAAO,MAAOsQ,SAAU,UAAYsF,WAjCxC1V,IAAMC,WCJzB+V,oLACK,IAAA3I,EAC+ChI,KAAKqD,MAAnDhK,EADD2O,EACC3O,MAAOuX,EADR5I,EACQ4I,SAAUzI,EADlBH,EACkBG,MAAOI,EADzBP,EACyBO,SAAU9D,EADnCuD,EACmCvD,QACpCoM,EAASC,EAAMF,GACfG,EAAcD,GAAuBF,GAE3C,OACE3W,EAAAL,EAAAC,cAAA,OAAKR,MAAOA,EAAOa,UAAWuK,EAAQzJ,MACnCgE,OAAOyR,KAAKI,GAAQnC,IAAI,SAACU,EAAKR,GACdnK,EAAQ4H,IAIvB,OAHa,GAATuC,GACSnK,EAAQuM,YAGnB/W,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEM,UAAWuK,EAAQ4H,IACnB+C,IAAKA,EACL1U,QAASmW,EAAOzB,KAASjH,EAAQ,YAAc,WAC/C1N,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,SAAAwH,GAEpC,OADAA,EAAE8D,OAAO9I,MAAQ0I,EAAOzB,GACjB7G,EAAS4E,KAEjB4D,EAAYF,EAAOzB,eAtBHzU,IAAMC,WAoDtByP,wBArBA,SAAC7B,GAAD,MAAY,CACzBwI,YAAa,CACXE,oBAAqB,MACrBC,uBAAwB,MACxBC,qBAAsB,IACtBC,wBAAyB,IACzBC,YAAa,OACbC,UAAW,CACTD,YAAa,SAGjBE,aAAc,CACZC,aAAc,MACdC,WAAY,QAEdrF,IAAK,CACHoF,aAAc,IACdE,UAAW,gBAIAtH,CAAmBsG,IC5B5BiB,eACJ,SAAAA,EAAYvO,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA4R,IACjBhQ,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA4S,GAAA7K,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuE,MAAO,GAYPsG,OAAQ,IAGVjQ,EAAKkQ,KAAOlQ,EAAKkQ,KAAKrW,KAAVuD,OAAA+S,GAAA,EAAA/S,QAAA+S,GAAA,EAAA/S,CAAA4C,KAEZA,EAAKoQ,aAAe,SAACC,GAAD,OAAU,SAAC9E,GAC7B,IAAM5B,EAAQ3J,EAAKoF,MAAMuE,MACzBA,EAAM0G,GAAQ9E,EAAE8D,OAAO9I,MACvBvG,EAAKkG,SAAS,CAAEyD,YAGlB3J,EAAKsQ,mBAAqB,SAACD,GAAD,OAAU,SAAC9J,GACnC,IAAMoD,EAAQ3J,EAAKoF,MAAMuE,MACZ,gBAAT0G,IACF1G,EAAM4G,YAAa,GAER,eAATF,IACF1G,EAAM0D,eAAiB,GACvB1D,EAAM6G,WAAa,GACnB7G,EAAM8G,cAAgB,IAGxB9G,EAAM0G,GAAQ9J,EACdzG,QAAQC,IAAIwG,GACZvG,EAAKkG,SAAS,CAAEyD,YAvCD3J,mFA4CjB5B,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,mDAGjBjE,GACbA,EAAUiE,OAASvL,KAAKqD,MAAMkI,OAChCvL,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,uCAG/B,IAAA3I,EAAA5C,KACCuL,EAAQvM,OAAOuE,OAAO,GAAIvD,KAAKgH,MAAMuE,MAAO,CAAE+G,QAAS,OAC7D,OAAO/Q,GACJoG,KADI,YAAA5N,OACawR,EAAMpC,GAAKoC,EAAMpC,GAAK,IAAMoC,GAC7CpJ,KAAK,SAAAgL,GAAC,OAAIvK,EAAKS,MAAMkF,SAAS4E,sCAG1B,IAAApF,EAAA/H,KAAAyH,EACmBzH,KAAKgH,MAAvBuE,EADD9D,EACC8D,MADDvD,GAAAP,EACQoK,OAC0B7R,KAAKqD,OAAtCmI,EAFDxD,EAECwD,QAAS/G,EAFVuD,EAEUvD,QAASgH,EAFnBzD,EAEmByD,WAE1B,OACExR,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,MAAM,EACNF,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,YAArC,8LAEFT,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAAC0Y,GAAD,CACEpK,MAAOoD,EAAMzI,OACb8N,SAAS,SACTrI,SAAUvI,KAAKgS,aAAa,YAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,6EACN+C,MAAOoD,EAAMzQ,KACbqV,UAAQ,EACR/L,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,wIACN+C,MAAOoD,EAAMiH,KACbC,WAAW,EACXrO,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,oDACN+C,MAAOoD,EAAMoH,WACbxC,UAAQ,EACR/L,WAAW,EACXmE,SAAU,SAAA4E,GAAC,OAAIpF,EAAKmK,mBAAmB,aAAxBnK,CAAsCoF,EAAE8D,OAAO9I,QAC9D8H,WAAYrT,EACZsT,SAAS,eAGXjW,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWrB,MAAO,CAAE2L,UAAW,SAAnD,0DAEA/K,EAAAL,EAAAC,cAACyW,GAAA1W,EAAD,CAAawK,WAAW,EAAM+L,UAAQ,GACpClW,EAAAL,EAAAC,cAAC0W,GAAA3W,EAAD,6CACAK,EAAAL,EAAAC,cAAC2W,GAAA5W,EAAD,CACE2O,SAAU,SAAA4E,GAAC,OAAIpF,EAAKmK,mBAAmB,cAAxBnK,CAAuCoF,EAAE8D,OAAO9I,QAC/DA,MAAOoD,EAAMQ,aAEb9R,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUuO,OAAO,GAAjB,wCACAlO,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUuO,OAAO,GAAjB,0CAIJlO,EAAAL,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,QACE5Y,EAAAL,EAAAC,cAACiZ,GAAAlZ,EAAD,CACEa,MAAM,UACNsY,QAASxH,EAAMyH,UACfzK,SAAU,SAAA4E,GAAC,OAAIpF,EAAKmK,mBAAmB,YAAxBnK,CAAwD,SAAnBoF,EAAE8D,OAAO9I,QAC7DA,OAAQoD,EAAMyH,UAAY,KAG9B5N,MAAM,6BAERnL,EAAAL,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,QACE5Y,EAAAL,EAAAC,cAACiZ,GAAAlZ,EAAD,CACEa,MAAM,UACNsY,QAASxH,EAAM0H,YACf1K,SAAU,SAAA4E,GAAC,OAAIpF,EAAKmK,mBAAmB,cAAxBnK,CAA0D,SAAnBoF,EAAE8D,OAAO9I,QAC/DA,OAAQoD,EAAM0H,YAAc,KAEhC7N,MAAM,8BAGNmG,EAAMQ,aAAe9R,EAAAL,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACrBiZ,QACE5Y,EAAAL,EAAAC,cAACiZ,GAAAlZ,EAAD,CACEa,MAAM,UACNsY,QAASxH,EAAM4G,WACf5J,SAAU,SAAA4E,GAAC,OAAIpF,EAAKmK,mBAAmB,aAAxBnK,CAAyD,SAAnBoF,EAAE8D,OAAO9I,QAC9DA,OAAQoD,EAAM4G,WAAa,KAG/B/M,MAAM,6BAGPmG,EAAMoH,YAAc/V,EAAWE,aAC3B7C,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACDwL,MAAM,gEACN+C,MAAOoD,EAAM0D,eACbpE,KAAK,SACLsF,UAAU,EACV/L,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,oBAG/BzG,EAAMoH,YAAc/V,EAAWC,OAC3B5C,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACDwL,MAAM,0DACN+C,MAAOoD,EAAM6G,WACbvH,KAAK,SACLsF,UAAU,EACV/L,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,gBAG/BzG,EAAMoH,YAAc/V,EAAWC,OAC3B5C,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACDwL,MAAM,sGACN+C,MAAOoD,EAAM8G,cACbxH,KAAK,SACLsF,UAAU,EACV/L,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,mBAGhC/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,uHACN+C,MAAOoD,EAAMwD,KACblE,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,0DACN+C,MAAOoD,EAAM2H,QACbrI,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,aAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,0DACN+C,MAAOoD,EAAM4H,MACbtI,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,WAI9B/X,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWrB,MAAO,CAAE2L,UAAW,SAAnD,4BAEA/K,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNjO,MAAM,mFACNkO,UAAW,SAACC,GAAD,OAAUA,EAAOC,KAAOjI,EAAMgI,MAAME,OAAO,cAAgB,IACtEC,WAAS,EACTvD,UAAU,EACV/L,WAAW,EACX+D,MAAOoD,EAAMgI,KACbhL,SAAUvI,KAAKkS,mBAAmB,UAGpCjY,EAAAL,EAAAC,cAAC8Z,GAAA/Z,EAAD,CACEwL,MAAM,mIACNkO,UAAW,SAACC,GAAD,OAAUA,EAAOC,KAAOjI,EAAMqI,mBAAmBH,OAAO,qBAAuB,IAC1FC,WAAS,EACTG,MAAM,EACN1D,UAAU,EACV/L,WAAW,EACX+D,MAAOoD,EAAMqI,kBACbrL,SAAUvI,KAAKkS,mBAAmB,uBAGpCjY,EAAAL,EAAAC,cAAC8Z,GAAA/Z,EAAD,CACEwL,MAAM,uHACNkO,UAAW,SAACC,GAAD,OAAUA,EAAOC,KAAOjI,EAAMuI,iBAAiBL,OAAO,qBAAuB,IACxFC,WAAS,EACTG,MAAM,EACN1D,UAAU,EACV/L,WAAW,EACX+D,MAAOoD,EAAMuI,gBACbvL,SAAUvI,KAAKkS,mBAAmB,qBAIpCjY,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWrB,MAAO,CAAE2L,UAAW,SAAnD,kCAEA/K,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,yFACN+C,MAAOoD,EAAMwI,QACblJ,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,aAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,mFACN+C,MAAOoD,EAAMyI,QACbnJ,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,aAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,yFACN+C,MAAOoD,EAAM0I,QACbpJ,KAAK,SACLzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,cAKhC/X,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAMoC,EAAK+J,SAAxF,kCAGA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,2CArRoB7Q,IAAMC,WAgTrByP,wBAlBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCiF,sFC1O1BsC,wLA3FJ,IAAAlM,EAC+BhI,KAAKqD,MAAnC2J,EADDhF,EACCgF,OAAQmH,EADTnM,EACSmM,kBAEhB,OACEla,EAAAL,EAAAC,cAACua,GAAAxa,EAASoG,KAAKqD,MAAMgR,UACnBpa,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YAAYsS,EAAOlS,MACvCb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWsS,EAAOwF,MAErC2B,GAAqBla,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUrB,MAAO,CAAE2L,UAAW,UAAlD,uCAEpB/K,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,aAAAvV,OAAeiT,EAAOuH,YAC5Bta,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAClBT,EAAAL,EAAAC,cAAC2a,GAAA5a,EAAD,CAAWP,MAAO,CAAE0R,SAAU,UAC7BiC,EAAOsF,QAAQxX,QAKtBb,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQkQ,SAAU,OAAQH,OAAQ,YACvDnQ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACEc,QAAQ,UACRrB,MAAO,CAAEob,aAAc,SAFzB,kFAKExa,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KACG4Z,KAAOxG,EAAO4G,mBAAmBH,OAAO,wBAG7CxZ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACEc,QAAQ,UACRrB,MAAO,CAAEob,aAAc,SAFzB,kFAKExa,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KACG4Z,KAAOxG,EAAO8G,iBAAiBL,OAAO,yBAK7CxZ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,mDAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAaZ,SAAyBoT,GACvB,IAAM0H,EAAS,GACX1H,EAAO2F,YAAc/V,EAAWE,YAClC4X,EAAOC,KAAK,gEAEZD,EAAOC,KAAK,kCAEV3H,EAAOjB,YACT2I,EAAOC,KAAK,wCAEZD,EAAOC,KAAK,wCAEV3H,EAAOgG,WACT0B,EAAOC,KAAK,4BAEV3H,EAAOiG,aACTyB,EAAOC,KAAK,4BAEV3H,EAAOmF,YACTuC,EAAOC,KAAK,4BAEd,GAAI3H,EAAOkG,SAAWlG,EAAOmG,MAAO,CAClC,IAAMyB,EAAW,GACb5H,EAAOkG,SACT0B,EAASD,KAAT,gBAAA5a,OAAoBiT,EAAOkG,UAEzBlG,EAAOmG,OACTyB,EAASD,KAAT,gBAAA5a,OAAoBiT,EAAOmG,QAE7ByB,EAASD,KAAK,wCACdD,EAAOC,KAAKC,EAASC,KAAK,MAG5B,OAAOH,EAAOG,KAAK,MA7CNC,CAAgB9H,MAIvB/S,EAAAL,EAAAC,cAACkb,GAAAnb,EAAD,CAAaob,sBAAsB,GAChChV,KAAKqD,MAAM4R,iBAjDMta,IAAMC,WCcnBsa,oLAlBJ,IAAAlN,EAC4BhI,KAAKqD,MAAhC2J,EADDhF,EACCgF,OAAQmI,EADTnN,EACSmN,eAChB,OACElb,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACGgG,GACClb,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,YAAAvV,OAAciT,EAAO7D,KAC3BlP,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,WAAd,+CAEJR,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,YAAAvV,OAAciT,EAAO7D,GAArB,iBACNlP,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,WAAd,mCAEFR,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,WAAd,0DACAR,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,aAAd,kEAb2BE,IAAMC,WCgBnCwa,oLACK,IAAApN,EACoBhI,KAAKqD,MADzB2E,EACCvD,QADDuD,EACUqN,MAEjB,OACEpb,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CAAWwL,MAAM,mCAAUhB,WAAW,EAAM/K,MAAO,CAAEic,YAAa,UAClErb,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CAAWwL,MAAM,mCAAUhB,WAAW,EAAM/K,MAAO,CAAEic,YAAa,UAClErb,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CAAWwL,MAAM,0DAAahB,WAAW,EAAM/K,MAAO,CAAEic,YAAa,WAEvErb,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,KACEK,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,SAAnB,6BACA7J,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QAAnB,oCACA7J,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QAAnB,sCAGJ7J,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KACG,CAAC,EAAG,EAAG,EAAG,EAAG,GAAG8U,IAAI,SAAAE,GACnB,OACE3U,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAKR,GACb3U,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,SAAS8K,GAC5B3U,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QACjB7J,EAAAL,EAAAC,cAAA,SAAOgR,KAAK,OAAOxR,MAAO,CAAEkc,SAAU,WAExCtb,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,QACjB7J,EAAAL,EAAAC,cAAA,SAAOgR,KAAK,OAAOxR,MAAO,CAAEkc,SAAU,wBA5B3B5a,IAAMC,WAqDtByP,wBA/DA,SAAC7B,GAAD,MAAY,CACzBgN,MAAMxW,OAAAC,EAAA,EAAAD,CAAA,CACJ3E,QAAS,OACTC,eAAgB,gBACfkO,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BC,cAAe,UA0DNpC,CAAmB+K,IC5D5BrL,GAAS,SAACvB,GAEd,MAAQ,CACNiN,SAAU,CACRnJ,MAAO,OACPI,aAAc,QAGhBgJ,OAAO1W,OAAAC,EAAA,EAAAD,CAAA,CACL3E,QAAS,OACTE,WAAY,SACZmS,aAAc,QACblE,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BC,cAAe,WAGnBkJ,GAAG3W,OAAAC,EAAA,EAAAD,CAAA,CACDmL,SAAU,IACV9P,QAAS,OACTC,eAAgB,SAChBsb,UAAW,SACXnb,MAAO+N,EAAMG,QAAQC,KAAKmH,WACzBvH,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BpC,OAAQ,UACRW,SAAU,OACVtQ,MAAO+N,EAAMG,QAAQC,KAAKC,UAG9BgN,MAAM7W,OAAAC,EAAA,EAAAD,CAAA,CACJvE,MAAO+N,EAAMG,QAAQC,KAAKmH,WACzBvH,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BzB,SAAU,MACVtQ,MAAO+N,EAAMG,QAAQC,KAAKC,UAG9BiN,OAAQ,CACN/K,SAAU,YAKVgL,oLACK,IAAA/N,EACoBhI,KAAKqD,MAAxBgS,EADDrN,EACCqN,MAAO5Q,EADRuD,EACQvD,QAEf,OACExK,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAMM,UAAWuK,EAAQgR,UACvBxb,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,KACEK,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQiR,QACrBL,EAAMW,OACL/b,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAYsb,EAAMW,MAAM7M,IAAM9P,MAAO,CAAE4c,UAAW,QACxDhc,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,QAAQR,UAAWuK,EAAQqR,QAC5CT,EAAMW,MAAMhK,MAAMlR,MAEpBua,EAAMW,MAAMzG,OACXtV,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,QAAQR,UAAWuK,EAAQqR,QAC5CT,EAAMW,MAAMzG,MAAMzU,QAIzBua,EAAMW,OAAS/b,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE6c,UAAW,WAAhC,OAEjBjc,EAAAL,EAAAC,cAACsc,GAAD,CAAaC,KAAMf,EAAMe,OAExBf,EAAMgB,OAASpc,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAYsb,EAAMW,MAAMxI,SAAWnU,MAAO,CAAE4c,UAAW,QAC7Ehc,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,QAAQR,UAAWuK,EAAQqR,QAC5CT,EAAMgB,MAAQhB,EAAMgB,MAAMrK,MAAMlR,KAAO,SAQ1Cua,EAAMgB,OAASpc,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE4c,UAAW,QAAhC,QAGnBhc,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,cAClBT,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEoB,MAAO,UAAW4L,WAAY,QAA7C,2DACCgP,EAAMW,OAAS/b,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEuc,UAAW,SAAUlG,WAAY,UAAY2F,EAAMW,MAAMhK,MAAMlR,OAEhGb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,cAClBT,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEoB,MAAO,UAAW4L,WAAY,QAA7C,4DACCgP,EAAMgB,OAASpc,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEuc,UAAW,SAAUlG,WAAY,UAAY2F,EAAMgB,MAAMrK,MAAMlR,OAGhGb,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,YAAY2T,KAAK,SAAnD,8CAEAnU,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAACyc,GAAD,CAAkBjB,MAAOA,cAhDV1a,IAAMC,WAyD3B2b,oLACK,IAAAC,EACmBxW,KAAKqD,MAAvB+S,EADDI,EACCJ,KAAM3R,EADP+R,EACO/R,QAEd,OAAmB,GAAf2R,EAAK1O,OAELzN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWR,UAAWuK,EAAQkR,IAAlD,MAQA1b,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQkR,IACrBS,EAAK1H,IAAI,SAAA+H,GACR,OACExc,EAAAL,EAAAC,cAAA,OAAKuV,IAAKqH,EAAItN,GAAI9P,MAAO,CAAEgB,QAAS,OAAQib,YAAa,UACvDrb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWR,UAAWuK,EAAQoR,OAC/CY,EAAIT,OAEP/b,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWR,UAAWuK,EAAQoR,OAC/CY,EAAIJ,OAENI,EAAIC,YAAczc,EAAAL,EAAAC,cAAA,WACjBI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWrB,MAAO,CAAE0R,SAAU,OAAS7Q,UAAWuK,EAAQoR,OAA9E,IACIY,EAAIC,WADR,iBAzBE/b,IAAMC,WAqCpBub,GAAc9L,qBAAWN,GAAXM,CAAmBkM,IAExBlM,wBAAWN,GAAXM,CAAmB0L,ICnH5BY,eACJ,SAAAA,EAAYtT,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2W,IACjB/U,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA2X,GAAA5P,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX4P,QAAS,GACTC,MAAO,GACPlW,QAASb,GAAYa,WALNiB,kFASA0F,GACbA,EAAUgG,UAAYtN,KAAKqD,MAAMiK,UACnCtN,KAAKiN,4CAGC,IAAArK,EAAA5C,KACAsN,EAAatN,KAAKqD,MAAlBiK,SACFwJ,EAAa,SAACC,EAAKC,GACvB,OAAID,EAAIE,KAAK,SAAA9J,GAAC,OAAIA,EAAEhE,IAAM6N,EAAK7N,KAAY4N,EAC/BA,EAAIhd,OAAO,CAACid,KAG1BzV,GACG2L,IADH,YAAAnT,OACmBuT,EADnB,aAEGnL,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CACvB8O,QAASzJ,EACT0J,MAAO1J,EAAEuB,IAAI,SAAAwI,GAAC,OAAIA,EAAElB,QACjBjc,OAAOoT,EAAEuB,IAAI,SAAAwI,GAAC,OAAIA,EAAEb,SACpB9O,OAAO,SAAA4P,GAAC,OAAS,MAALA,IACZC,OAAON,EAAY,yCAInB,IAAArP,EACoBzH,KAAKgH,MAAxB4P,EADDnP,EACCmP,QACAnS,GAFDgD,EACUoP,MACG7W,KAAKqD,MAAjBoB,SACMmS,EAAQ,GAEtB,OACE3c,EAAAL,EAAAC,cAACgU,GAAAjU,EAAD,CAAgByd,iBAAiB,GAC/Bpd,EAAAL,EAAAC,cAACiU,GAAAlU,EAAD,CAAuBmU,WAAY9T,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,OACjCK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAApB,yCAEFT,EAAAL,EAAAC,cAACoU,GAAArU,EAAD,CAAuBP,MAAO,CAAEoT,cAAe,WAC7CxS,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ6S,aACtBrd,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ8S,mBACxBtd,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWR,UAAWuK,EAAQ+S,kBAAlD,OAGAvd,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ8S,oBAEzBX,EAAQlI,IAAI,SAAA2G,GACX,OACEpb,EAAAL,EAAAC,cAAC4d,GAAD,CAAcrI,IAAKiG,EAAMlM,GAAIkM,MAAOA,eArDxB1a,IAAMC,WC0DjB8c,IDIArN,qBAjFA,SAAC7B,GAAD,MAAY,CACzB8O,YAAa,CACXjd,QAAS,OACTE,WAAY,SACZmS,aAAc,SAEhB6K,iBAAkB,CAChBpN,SAAU,EACVQ,gBAAiB,UACjBvQ,OAAQ,MACRqX,aAAc,OAEhB+F,iBAAkB,CAChB/c,MAAO+N,EAAMG,QAAQC,KAAKmH,UAC1B6F,UAAW,SACXxL,OAAQ,aAkEGC,CAAmBsM,gBC/EhC,SAAAe,EAAYrU,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA0X,IACjB9V,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA0Y,GAAA3Q,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXgG,OAAQ,CACNsF,QAAS,IAEXqF,YAAa,MANE/V,mFAWjB5B,KAAKiN,4CAGG,IAAArK,EAAA5C,KACAmJ,EAAOnJ,KAAKqD,MAAMgS,MAAMuC,OAAxBzO,GACR,OAAO5H,GACJ2L,IADI,YAAAnT,OACYoP,IAChBhH,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CAAEkF,OAAQG,6CAIrC,OAAO5L,GAAamM,OAAb,YAAA3T,OAAgCiG,KAAKgH,MAAMgG,OAAO7D,KACtDhH,6CAIH,OAAOZ,GAAa2L,IAAb,YAAAnT,OAA6BiG,KAAKgH,MAAMgG,OAAO7D,GAA/C,iBACJhH,wCAGI,IAAA4F,EAAA/H,KAAAyH,EACyBzH,KAAKgH,MAA7BgG,EADDvF,EACCuF,OAAQ2K,EADTlQ,EACSkQ,YACV1C,EAAUhb,EAAAL,EAAAC,cAACge,GAAD,CAAsB7K,OAAQA,IAE9C,OACE/S,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACZyd,GACI1d,EAAAL,EAAAC,cAACie,GAAD,CACDvM,MAAOoM,EACPpP,SAAU,WACRR,EAAKD,SAAS,CAAE6P,YAAa,OAC7B5P,EAAKkF,WAEPzB,QAAS,kBAAMzD,EAAKD,SAAS,CAAE6P,YAAa,UAGhD1d,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,YACpBnQ,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAMoC,EAAKD,SAAS,CAAE6P,YAAa3K,MAArG,8CACA/S,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAMoC,EAAKgQ,eAAe1e,MAAO,CAAEqW,WAAY,UAAjH,0DACAzV,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,YAAY2T,KAAK,QAAQ/U,MAAO,CAAEqW,WAAY,UAAhF,2DAGFzV,EAAAL,EAAAC,cAACme,GAAD,CAAehL,OAAQA,EAAQiI,QAASA,EAASd,mBAAiB,IAClEla,EAAAL,EAAAC,cAACoe,GAAD,CAAsBjL,OAAQA,EAAQ3T,MAAO,CAAE2L,UAAW,kBAxDzCrK,IAAMC,YCChBsd,oLAXX,OACEje,EAAAL,EAAAC,cAACse,EAAA,EAAD,KACEle,EAAAL,EAAAC,cAACue,EAAA,EAAD,CACEC,KAAK,eACLC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAAC0e,GAAelV,cANnB1I,IAAMC,mDCS1B4d,uBACJ,SAAAA,EAAYnV,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAwY,IACjB5W,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAwZ,GAAAzR,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuE,MAAO,GACPsG,OAAQ,IAJOjQ,mFASjB5B,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,mDAGjBjE,GACbA,EAAUiE,OAASvL,KAAKqD,MAAMkI,OAChCvL,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,uCAG/B,IAAA3I,EAAA5C,KACCuL,EAAQvL,KAAKgH,MAAMuE,MACzB,OAAOhK,GACJoG,KADI,gBAAA5N,OACiBwR,EAAMpC,GAAKoC,EAAMpC,GAAK,IAAMoC,GACjDpJ,KAAK,SAAAgL,GAAC,OAAIvK,EAAKS,MAAMkF,SAAS4E,sCAG1B,IAAApF,EAAA/H,KAAAyH,EACmBzH,KAAKgH,MADxBgB,GAAAP,EACC8D,MADD9D,EACQoK,OAC0B7R,KAAKqD,OAAtCmI,EAFDxD,EAECwD,QAAS/G,EAFVuD,EAEUvD,QAASgH,EAFnBzD,EAEmByD,WAE1B,OACExR,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,MAAM,EACNF,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,YAArC,oKAEFT,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,oCADF,yFAKAT,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,oCADF,gGAMFT,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAMoC,EAAK+J,SAAxF,kCAGA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,2CAvDmB7Q,IAAMC,YAkFpByP,wBAlBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuC6L,KCxFnCC,GAAS,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,IAE3DC,eACJ,SAAAA,EAAYrV,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA0Y,IACjB9W,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA0Z,GAAA3R,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX2R,WAAY,MAHG/W,wEAOV,IAAAgB,EAAA5C,KACC2Y,EAAe3Y,KAAKgH,MAApB2R,WACR,OACE1e,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACGwJ,GACI1e,EAAAL,EAAAC,cAAC+e,GAAD,CACDrN,MAAOoN,EACPpQ,SAAU,kBAAM3F,EAAKkF,SAAS,CAAE6Q,WAAY,QAC5CnN,QAAS,kBAAM5I,EAAKkF,SAAS,CAAE6Q,WAAY,UAG/C1e,EAAAL,EAAAC,cAAA,OAAKK,UAAU,WACZue,GAAO/J,IAAI,SAACmK,EAAOjK,GAClB,OACE3U,EAAAL,EAAAC,cAAA,OAAKuV,IAAKR,EAAO1U,UAAU,SACzBD,EAAAL,EAAAC,cAAA,MAAIK,UAAU,QACX2e,EAAMnK,IAAI,SAAC2G,EAAO3E,GACjB,OACEzW,EAAAL,EAAAC,cAAA,MAAIK,UAAU,OAAOkV,IAAKsB,GACxBzW,EAAAL,EAAAC,cAAA,OAAKK,UAAU,QAAQyL,QAAS,kBAAM/C,EAAKkF,SAAS,CAAE6Q,WAAY,OAChE1e,EAAAL,EAAAC,cAACif,GAAD,uBA5BOne,IAAMC,WA2CjCme,oLAEF,OACE9e,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAACmf,GAAApf,EAAD,CACEqf,MAAM,kKACNC,UAAU,aACVC,oBAAqBC,KACrBC,WAAY,GAEZpf,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAO0f,UAAW,EAAGpf,UAAU,aAC7BD,EAAAL,EAAAC,cAAA,OAAKK,UAAU,kBACbD,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE0R,SAAU,SAA/B,yFACA9Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE0R,SAAU,QAAUrQ,QAAQ,WAAjD,UAEFT,EAAAL,EAAAC,cAAA,OAAKK,UAAU,kBACbD,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE0R,SAAU,SAA/B,+FACA9Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE0R,SAAU,QAAUrQ,QAAQ,WAAjD,oBAjBMC,IAAMC,WA0BX8d,+CCxCAa,ICjCU5e,IAAMC,2LDGpB,IAAAgH,EAAA5B,KAAAgI,EACwChI,KAAKqD,MAA5C8E,EADDH,EACCG,MAAOI,EADRP,EACQO,SAAUlP,EADlB2O,EACkB3O,MAAOmgB,EADzBxR,EACyBwR,WAChC,OACEvf,EAAAL,EAAAC,cAAA,QAAMR,MAAOA,GACXY,EAAAL,EAAAC,cAAA,SAAO2J,IAAK,SAAAA,GAAG,OAAI5B,EAAKwB,SAAWI,GAAK+E,SAAUA,EAAUsC,KAAK,OAAOxR,MAAO,CAAEgB,QAAS,UACzF8N,GACIlO,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAauO,EAAMrN,MACvBqN,GACIlO,EAAAL,EAAAC,cAAA,OACDC,IAAKyH,GAAakY,WAAWtR,EAAMgB,IACnC9P,MAAOmgB,IAEXvf,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAAC6f,GAAA9f,EAAD,CACE+L,QAAS,kBAAM/D,EAAKwB,SAASuW,SAC7BtgB,MAAO,CAAE0R,SAAU,OAAQ/G,OAAQ,WACnCvJ,MAAM,YAEP0N,GACIlO,EAAAL,EAAAC,cAAC4V,GAAA7V,EAAD,CACDP,MAAO,CAAE0R,SAAU,OAAQ/G,OAAQ,WACnCvJ,MAAM,YACNkL,QAAS,kBAAM4C,EAAS,kBAvBb5N,IAAMC,YEQzBgf,eACJ,SAAAA,EAAYvW,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA4Z,IACjBhY,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA4a,GAAA7S,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuE,MAAO,GACPsG,OAAQ,IAGVjQ,EAAKkQ,KAAOlQ,EAAKkQ,KAAKrW,KAAVuD,OAAA+S,GAAA,EAAA/S,QAAA+S,GAAA,EAAA/S,CAAA4C,KAEZA,EAAKoQ,aAAe,SAACC,GAAD,OAAU,SAAC9E,GAC7B,IAAM5B,EAAQ3J,EAAKoF,MAAMuE,MACzBA,EAAM0G,GAAQ9E,EAAE8D,OAAO9I,MACvBvG,EAAKkG,SAAS,CAAEyD,YAGlB3J,EAAKiY,gBAAkB,SAAC1M,GACtB,IAAM5B,EAAQ3J,EAAKoF,MAAMuE,MAEzB,OAAK4B,GAAMA,EAAE8D,OAAO6I,OAAU3M,EAAE8D,OAAO6I,MAAM,GAOtCvY,GACJwY,WAAW5M,EAAE8D,OAAO6I,MAAM,IAC1B3X,KAAK,SAAA6X,GACJzO,EAAM0O,UAAYD,EAClBzO,EAAM2O,YAAcF,EAAK7Q,GACzBvH,EAAKkG,SAAS,CAAEyD,aAXlBA,EAAM0O,UAAY,KAClB1O,EAAM2O,YAAc,UACpBtY,EAAKkG,SAAS,CAAEyD,YArBH3J,mFAoCjB5B,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,mDAGjBjE,GACbA,EAAUiE,OAASvL,KAAKqD,MAAMkI,OAChCvL,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,uCAG/B,IAAA3I,EAAA5C,KACCuL,EAAQvL,KAAKgH,MAAMuE,MACzB,OAAOhK,GACJoG,KADI,gBAAA5N,OACiBwR,EAAMpC,GAAKoC,EAAMpC,GAAK,IAAMoC,GACjDpJ,KAAK,SAAAgL,GAAC,OAAIvK,EAAKS,MAAMkF,SAAS4E,sCAG1B,IAAApF,EAAA/H,KAAAyH,EACmBzH,KAAKgH,MAAvBuE,EADD9D,EACC8D,MADDvD,GAAAP,EACQoK,OAC0B7R,KAAKqD,OAAtCmI,EAFDxD,EAECwD,QAAS/G,EAFVuD,EAEUvD,QAASgH,EAFnBzD,EAEmByD,WAE1B,OACExR,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,MAAM,EACNF,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,YAArC,4IAEFT,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAAC0Y,GAAD,CACEpK,MAAOoD,EAAMzI,OACb8N,SAAS,SACTrI,SAAUvI,KAAKgS,aAAa,YAG9B/X,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUrB,MAAO,CAAE2L,UAAW,UAAlD,4BACA/K,EAAAL,EAAAC,cAACsgB,GAAD,CACEhS,MAAOoD,EAAM0O,UACb1R,SAAUvI,KAAK6Z,gBACfxgB,MAAO,CAAE2L,UAAW,SACpBwU,WAAY,CAAEjE,SAAU,UAG1Btb,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,uEACN+C,MAAOoD,EAAMzQ,KACbsJ,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,wIACN+C,MAAOoD,EAAMiH,KACbC,WAAW,EACXrO,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,WAIhC/X,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAMoC,EAAK+J,SAAxF,kCAGA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,2CArGwB7Q,IAAMC,WAgIzByP,wBAlBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCiN,KCjInCQ,eACJ,SAAAA,EAAY/W,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAoa,IACjBxY,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAob,GAAArT,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuE,MAAO,CACL8O,UAAW,KACXC,QAAS,MAEXzI,OAAQ,IAGVjQ,EAAKkQ,KAAOlQ,EAAKkQ,KAAKrW,KAAVuD,OAAA+S,GAAA,EAAA/S,QAAA+S,GAAA,EAAA/S,CAAA4C,KAEZA,EAAKoQ,aAAe,SAACC,GAAD,OAAU,SAAC9E,GAC7B,IAAM5B,EAAQ3J,EAAKoF,MAAMuE,MACzBA,EAAM0G,GAAQ9E,EAAE8D,OAAO9I,MACvBvG,EAAKkG,SAAS,CAAEyD,YAGlB3J,EAAKsQ,mBAAqB,SAACD,GAAD,OAAU,SAAC9J,GACnC,IAAMoD,EAAQ3J,EAAKoF,MAAMuE,MACzBA,EAAM0G,GAAQ9J,EAEF,cAAR8J,IAEA1G,EAAMgP,aADJpS,EACmBA,EAAMgB,GAEN,MAGzBvH,EAAKkG,SAAS,CAAEyD,YA7BD3J,mFAkCjB5B,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,mDAGjBjE,GACbA,EAAUiE,OAASvL,KAAKqD,MAAMkI,OAChCvL,KAAK8H,SAAS,CAAEyD,MAAOvL,KAAKqD,MAAMkI,uCAG/B,IAAA3I,EAAA5C,KACCuL,EAAQvL,KAAKgH,MAAMuE,MACzB,OAAOhK,GACJoG,KADI,aAAA5N,OACcwR,EAAMpC,GAAKoC,EAAMpC,GAAK,IAAMoC,GAC9CpJ,KAAK,SAAAgL,GAAC,OAAIvK,EAAKS,MAAMkF,SAAS4E,sCAG1B,IAAApF,EAAA/H,KAAAyH,EACmBzH,KAAKgH,MAAvBuE,EADD9D,EACC8D,MADDvD,GAAAP,EACQoK,OAC0B7R,KAAKqD,OAAtCmI,EAFDxD,EAECwD,QAAS/G,EAFVuD,EAEUvD,QAASgH,EAFnBzD,EAEmByD,WAE1B,OACExR,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,MAAM,EACNF,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,YAArC,6IAEFT,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAAC0Y,GAAD,CACEpK,MAAOoD,EAAMzI,OACb8N,SAAS,SACTrI,SAAUvI,KAAKgS,aAAa,YAG9B/X,EAAAL,EAAAC,cAACiS,GAAD,CACE1G,MAAM,2BACN+C,MAAOoD,EAAMiP,WACb5S,MAAM,cACN7B,iBAAkB,iBAAM,sGACxBuC,kBAAmB,SAACW,GAAD,OAAYhP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,QAClD6C,EAAOnO,KACRb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAAYuO,EAAOuJ,QAE1DjK,SAAUvI,KAAKkS,mBAAmB,gBAGpCjY,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,yFACN+C,MAAOoD,EAAMzQ,KACbsJ,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,wIACN+C,MAAOoD,EAAMiH,KACbC,WAAW,EACXrO,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,UAG9B/X,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNjO,MAAM,+FACNkO,UAAW,SAACC,GAAD,OAAUA,EAAO,IAAIxS,KAAKwS,GAAMkH,qBAAuB,IAClE/G,WAAS,EACTtP,WAAW,EACX+D,MAAOoD,EAAM8O,UACb9R,SAAUvI,KAAKkS,mBAAmB,eAGpCjY,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNjO,MAAM,mFACNkO,UAAW,SAACC,GAAD,OAAUA,EAAO,IAAIxS,KAAKwS,GAAMkH,qBAAuB,IAClE/G,WAAS,EACTtP,WAAW,EACX+D,MAAOoD,EAAM+O,QACb/R,SAAUvI,KAAKkS,mBAAmB,cAKtCjY,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAMoC,EAAK+J,SAAxF,kCAGA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,2CA5HqB7Q,IAAMC,WA6JtByP,wBAxBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,SAGXoO,aAAc,CACZpO,MAAO,QACPqO,WAAY,SACZC,SAAU,SACVC,aAAc,cAIHxQ,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCyN,eChH1BU,oLA/CJ,IACCC,EAAa/a,KAAKqD,MAAlB0X,SACR,OACE9gB,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,KACEK,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,iCACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,6CACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,uEAIJK,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KACGmhB,EAASrM,IAAI,SAAA4D,GACZ,OACErY,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAKkD,EAAQnJ,IACrBlP,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQE,WAAY,WACxC+X,EAAQkI,WAAWP,WACfhgB,EAAAL,EAAAC,cAACX,GAAA,EAAD,CAAcE,MAAOkZ,EAAQkI,WAAWP,UAAW5gB,MAAO,CAAEkc,SAAU,OAAQD,YAAa,WAChGrb,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,gBAAAvV,OAAkBuY,EAAQkI,WAAWrR,KAC3ClP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAAS4X,EAAQkI,WAAW1f,SAItDb,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,aAAAvV,OAAeuY,EAAQnJ,KAC7BlP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAAS4X,EAAQxX,QAGzCb,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACG4Z,KAAOlB,EAAQ+H,WAAW5G,OAAO,cADpC,MACsDD,KAAOlB,EAAQgI,SAAS7G,OAAO,2BAhCnE9Y,IAAMC,+BCCzBogB,oLATUhb,KAAKqD,MAAlB0X,SACR,OACE9gB,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,sBAJ2Be,IAAMC,WCIjCsgB,eACJ,SAAAA,EAAY7X,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAkb,IACjBtZ,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAkc,GAAAnU,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXmU,QAAQ,GAGVvZ,EAAK8J,KAAO,SAACyB,GAAD,OAAOvL,EAAKkG,SAAS,CAAEqT,QAAQ,KAC3CvZ,EAAKwZ,MAAQ,SAACjO,GAAD,OAAOvL,EAAKkG,SAAS,CAAEqT,QAAQ,KAP3BvZ,wEAUV,IACCuZ,EAAWnb,KAAKgH,MAAhBmU,OADDnT,EAEqDhI,KAAKqD,MAAzD4V,EAFDjR,EAECiR,MAAOhX,EAFR+F,EAEQ/F,KAAMoZ,EAFdrT,EAEcqT,SAAUzW,EAFxBoD,EAEwBpD,SAAUH,EAFlCuD,EAEkCvD,QAASpL,EAF3C2O,EAE2C3O,MAElD,OACEY,EAAAL,EAAAC,cAAA,QAAMR,MAAOA,GACXY,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CAAQ8R,KAAMyP,EAAQ3P,QAASxL,KAAKob,MAAO3W,QAAS,CAAEM,MAAON,EAAQzJ,OACnEf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KAAcqf,GACdhf,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KAAgBqI,GAChBhI,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS0V,GAA7E,gBAGAphB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS3F,KAAKob,OAAjF,kBAKJnhB,EAAAL,EAAAC,cAAA,QAAM8L,QAAS3F,KAAK0L,MACjB9G,WA9BsBjK,IAAMC,WAuDxByP,wBAlBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CAAmB6Q,QCyCnBI,eAvFb,SAAAA,EAAYjY,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAsb,IACjB1Z,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAsc,GAAAvU,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX+T,SAAU,GACVQ,aAAc,KACdC,gBAAiB,MAGnB5Z,EAAK6Z,gBAAkB,SAACF,GACtB3Z,EAAKkG,SAAS,CAAEyT,kBAGlB3Z,EAAK8Z,oBAAsB,SAACpJ,KAZX1Q,mFAkBjB5B,KAAKuH,0CAGE,IAAA3E,EAAA5C,KACP,OAAOuB,GACJoG,KADI,mBACqB,IACzBxF,KAAK,SAAA4Y,GAAQ,OAAInY,EAAKkF,SAAS,CAAEiT,gDAG7B,ICvC6BxS,EAAUoT,EDuCvC5T,EAAA/H,KAAAyH,EAC6CzH,KAAKgH,MAAjD+T,EADDtT,EACCsT,SAAUQ,EADX9T,EACW8T,aAAcC,EADzB/T,EACyB+T,gBAC1BvG,GCzC8B1M,EDyCAvI,KAAKyb,gBCzCKE,EDyCY3b,KAAK0b,oBCxCjE,SAAAE,GAAA,SAAAC,IAAA,OAAA7c,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6b,GAAA7c,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA6c,GAAAC,MAAA9b,KAAA+b,YAAA,OAAA/c,OAAAgd,EAAA,EAAAhd,CAAA6c,EAAAD,GAAA5c,OAAAid,EAAA,EAAAjd,CAAA6c,EAAA,EAAAzM,IAAA,SAAAjH,MAAA,WACW,IACCmK,EAAYtS,KAAKqD,MAAjBiP,QAER,OACErY,EAAAL,EAAAC,cAAA,YACEI,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQ+L,QAAS4C,EAAS+J,IAA1B,oDAGArY,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQ+L,QAASgW,EAASrJ,IAA1B,+DATRuJ,EAAA,CAAqBlhB,IAAMC,YD0CzB,OACEX,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACZqhB,GACIthB,EAAAL,EAAAC,cAACqiB,GAAD,CACD3Q,MAAOgQ,EACPhT,SAAU,kBAAM7G,QAAQC,IAAI,WAC5B6J,QAAS,kBAAMzD,EAAKD,SAAS,CAAEyT,aAAc,UAGhDC,GACIvhB,EAAAL,EAAAC,cAACsiB,GAAD,CACD5Q,MAAOiQ,EACPjT,SAAU,kBAAMR,EAAKD,SAAS,CAAE0T,gBAAiB,QACjDhQ,QAAS,kBAAMzD,EAAKD,SAAS,CAAE0T,gBAAiB,UAGpDvhB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACLzI,QAAS,kBAAMoC,EAAKD,SAAS,CAAE0T,gBAAiB,CAAE1gB,KAAM,GAAI0X,KAAM,GAAI0H,YAAa,UAJrF,qDASAjgB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEP,MAAO,CAAEqW,WAAY,SACrBhV,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACLzI,QAAS,kBAAMoC,EAAKD,SAAS,CAAEyT,aAAc,CAAEzgB,KAAM,GAAI0X,KAAM,GAAI6H,UAAW,KAAMC,QAAS,UAL/F,2DAUArgB,EAAAL,EAAAC,cAACgU,GAAAjU,EAAD,CAAgByd,iBAAiB,GAC/Bpd,EAAAL,EAAAC,cAACiU,GAAAlU,EAAD,CAAuBmU,WAAY9T,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,OACjCK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YAApB,+CAEFT,EAAAL,EAAAC,cAACoU,GAAArU,EAAD,KAEsB,GAAnBmhB,EAASrT,QAAezN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,gJACxBqgB,EAASrT,OAAS,GAAKzN,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQyiB,QAAM,GACpCpiB,EAAAL,EAAAC,cAACyiB,GAAD,CAAqBvB,SAAUA,EAAU9F,QAASA,KAGnD8F,EAASrT,OAAS,GAAKzN,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GAClCtiB,EAAAL,EAAAC,cAAC2iB,GAAD,CAAoBzB,SAAUA,EAAU9F,QAASA,eA/EpCta,IAAMC,WEI3B6hB,eACJ,SAAAA,EAAYpZ,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAyc,IACjB7a,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAyd,GAAA1V,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXsL,QAAS,CACPkI,WAAY,GACZkC,QAAS,IAEXnB,aAAc,KACd5D,YAAa,MARE/V,mFAajB5B,KAAKiN,4CAGG,IAAArK,EAAA5C,KACRuB,GACG2L,IADH,aAAAnT,OACoBiG,KAAKqD,MAAMgS,MAAMuC,OAAOzO,KACzChH,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CAAEwK,QAASnF,gDAItCnN,KAAK8H,SAAS,CACZ6P,YAAa,CACXrF,QAAStS,KAAKgH,MAAMsL,QACpBiC,UAAWvU,KAAKgH,MAAMsL,QAAQnJ,GAC9B4C,aAAa,EACbiH,WAAW,EACXC,aAAa,EACbd,YAAY,EACZQ,WAAY/V,EAAWE,YACvB6f,eAAe,EACfC,WAAY,KACZC,aAAc,KACd3J,QAAS,GACTC,MAAO,GACPlE,eAAgB,GAChBmD,WAAY,GACZC,cAAe,GACfkB,KAAM,KACNK,kBAAmB,KACnBE,gBAAiB,KACjBC,QAAS,EACTC,QAAS,GACTC,QAAS,uCAKN,IAAAlM,EAAA/H,KAAAyH,EACwCzH,KAAKgH,MAA5CsL,EADD7K,EACC6K,QAASiJ,EADV9T,EACU8T,aAAc5D,EADxBlQ,EACwBkQ,YACvBlT,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACZqhB,GACIthB,EAAAL,EAAAC,cAACqiB,GAAD,CACD3Q,MAAOgQ,EACPhT,SAAU,WACRR,EAAKD,SAAS,CAAEyT,aAAc,OAC9BxT,EAAKkF,WAEPzB,QAAS,kBAAMzD,EAAKD,SAAS,CAAEyT,aAAc,UAGhD5D,GACI1d,EAAAL,EAAAC,cAACie,GAAD,CACDvM,MAAOoM,EACPpP,SAAU,WACRR,EAAKD,SAAS,CAAE6P,YAAa,OAC7B5P,EAAKkF,WAEPzB,QAAS,kBAAMzD,EAAKD,SAAS,CAAE6P,YAAa,UAGhD1d,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,YACpBnQ,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAMoC,EAAK+U,oBAA7E,uEACA7iB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQ/U,MAAO,CAAEqW,WAAY,SAAW/J,QAAS,kBAAMoC,EAAKD,SAAS,CAAEyT,aAAcjJ,MAAtI,8CACArY,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,YAAY2T,KAAK,QAAQ/U,MAAO,CAAEqW,WAAY,UAAhF,2DAEFzV,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,KACEK,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YACjB4X,EAAQxX,MAEXb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAW4X,EAAQE,MAEvCvY,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUrB,MAAO,CAAE2L,UAAW,SAAlD,4BACA/K,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQE,WAAY,WACxC+X,EAAQkI,WAAWP,WACfhgB,EAAAL,EAAAC,cAACX,GAAA,EAAD,CAAcE,MAAOkZ,EAAQkI,WAAWP,UAAW5gB,MAAO,CAAEkc,SAAU,OAAQD,YAAa,WAChGrb,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,gBAAAvV,OAAkBuY,EAAQkI,WAAWrR,KAC3ClP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAAS4X,EAAQkI,WAAW1f,QAIpDb,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQ2K,UAAW,SACxC/K,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUrB,MAAO,CAAEob,aAAc,SAArD,uCAEAxa,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa4Z,KAAOlB,EAAQ+H,WAAW5G,OAAO,gBAG9CxZ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,2BAEAT,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa4Z,KAAOlB,EAAQgI,SAAS7G,OAAO,mBAMlDxZ,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQsY,aACrBzK,EAAQoK,QAAQhO,IAAI,SAAA1B,GACnB,IAAMiI,EAAUhb,EAAAL,EAAAC,cAACge,GAAD,CAAsB7K,OAAQA,EAAQmI,gBAAc,IACpE,OAAOlb,EAAAL,EAAAC,cAACme,GAAD,CACLhL,OAAQA,EACRiI,QAASA,EACTZ,UAAW,CACTna,UAAWuK,EAAQuY,0BAvHTriB,IAAMC,WAiJjByP,wBAjBA,SAAC7B,GAAD,MAAY,CACzBuU,YAAa,CACX1iB,QAAS,OACTkQ,SAAU,OACVjQ,eAAgB,gBAChB0K,UAAW,SAEbgY,YAAYhe,OAAAC,EAAA,EAAAD,CAAA,CACVsN,MAAO,QACPI,aAAc,QACduQ,cAAe,KACdzU,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,WAKEjC,CAAmBoS,IC7InBS,oLAhBX,OACEjjB,EAAAL,EAAAC,cAACse,EAAA,EAAD,KACEle,EAAAL,EAAAC,cAACue,EAAA,EAAD,CACEC,KAAK,gBACLC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAACsjB,GAAgB9Z,MAEtCpJ,EAAAL,EAAAC,cAACue,EAAA,EAAD,CACEgF,OAAK,EACL/E,KAAK,YACLC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAACwjB,GAAiBha,cAXpB1I,IAAMC,mMCI1B,SAAS0iB,GAAUnV,EAAOoV,GAE/B,OADaze,GAAiBye,GAClBpV,GAGCqV,wLAXJ,IAAAxV,EACgChI,KAAKqD,MAApCuB,EADDoD,EACCpD,SAAU2Y,EADXvV,EACWuV,UAAWlkB,EADtB2O,EACsB3O,MAC7B,OAAOY,EAAAL,EAAAC,cAAA,QAAMR,MAAOA,GAAQikB,GAAU1Y,EAAU2Y,WAHjC5iB,IAAMC,WCHlB,SAAS6iB,GAAQC,GACtB,OAAIA,EAAO,GACT,IAAA3jB,OAAW2jB,EAAX,OACG,GAAA3jB,OAAU2jB,EAAV,WCkBDC,eACJ,SAAAA,EAAYta,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2d,IACjB/b,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA2e,GAAA5W,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX4W,YAAa,CACXC,MAAO,GACPhT,KAAM,GACNiT,OAAQ,GACRC,SAAU,GACVC,cAAe,GACfC,SAAU,IAEZpM,OAAQ,IAGVjQ,EAAKoQ,aAAe,SAACC,GAAD,OAAU,SAAC9E,GAC7B,IAAMyQ,EAAchc,EAAKoF,MAAM4W,YAC/BA,EAAY3L,GAAQ9E,EAAE8D,OAAO9I,MACjB,QAAR8J,IACF2L,EAAYK,SAAW,KACvBL,EAAYM,WAAa,KACzBN,EAAYO,aAAe,KAC3BP,EAAYQ,eAAiB,MAG/Bxc,EAAKkG,SAAS,CAAE8V,kBAGlBhc,EAAKsQ,mBAAqB,SAACD,GAAD,OAAU,SAAC9J,GACnC,IAAMyV,EAAchc,EAAKoF,MAAM4W,YAEnB,YAAR3L,IACF2L,EAAYK,SAAW,KACvBL,EAAYM,YAAc/V,GAAS,CAAEgB,GAAI,OAAQA,GACjDyU,EAAYO,aAAe,KAC3BP,EAAYQ,eAAiB,MAGnB,gBAARnM,IACF2L,EAAYO,aAAe,KAC3BP,EAAYQ,gBAAkBjW,GAAS,CAAEgB,GAAI,OAAQA,IAGvDyU,EAAY3L,GAAQ9J,EAEpBvG,EAAKkG,SAAS,CAAE8V,kBAGlBhc,EAAKyc,oBAAsB,SAACpM,EAAMrD,GAAP,OAAiB,SAACzB,GAC3CvL,EAAKoF,MAAM4W,YAAYG,SAASnP,GAAOqD,GAAQ9E,EAAE8D,OAAO9I,MACxDvG,EAAKkG,SAAS,CAAE8V,YAAahc,EAAKoF,MAAM4W,gBAG1Chc,EAAK0c,gCAAkC,SAAC1P,GAAD,OAAW,SAACzG,GACjDvG,EAAKoF,MAAM4W,YAAYG,SAASnP,GAAOuP,aAAehW,EAEpDvG,EAAKoF,MAAM4W,YAAYG,SAASnP,GAAOwP,eADrCjW,EACsDA,EAAMgB,GAEN,KAC1DvH,EAAKkG,SAAS,CAAE8V,YAAahc,EAAKoF,MAAM4W,gBA1DzBhc,mFA8DC,IACVgc,EAAgB5d,KAAKqD,MAArBua,YACR5d,KAAK8H,SAAS,CAAE8V,YAAa/c,KAAKC,MAAMD,KAAKK,UAAU0c,IAAe/L,OAAQ,gDAG7DvK,GAAW,IACpBsW,EAAgB5d,KAAKqD,MAArBua,YACJtW,EAAUsW,aAAeA,GAC3B5d,KAAK8H,SAAS,CAAE8V,YAAa/c,KAAKC,MAAMD,KAAKK,UAAU0c,IAAe/L,OAAQ,sCAGzE,IAAAjP,EAAA5C,KACP,OAAIA,KAAKgH,MAAM4W,YAAYzU,GAClB5H,GACJoG,KADI,0BAAA5N,OAC2BiG,KAAKgH,MAAM4W,YAAYzU,IAAMnJ,KAAKgH,MAAM4W,aACvEzb,KAAK,SAAAoc,GACJ3b,EAAKkF,SAAS,CAAE+J,OAAQ,KACxBjP,EAAKS,MAAMmb,aAEZC,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,MAEjCxB,GACJoG,KADI,yBAC2B3H,KAAKgH,MAAM4W,aAC1Czb,KAAK,SAAAoc,GACJ3b,EAAKkF,SAAS,CAAE+J,OAAQ,KACxBjP,EAAKS,MAAMmb,aAEZC,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,kDAGxB,IAAAgF,EAAA/H,KAClB,OAAOuB,GACJmM,OADI,0BAAA3T,OAC6BiG,KAAKgH,MAAM4W,YAAYzU,GADpD,YAEJhH,KAAK,SAAAoc,GACJxW,EAAKD,SAAS,CAAE+J,OAAQ,KACxB9J,EAAK1E,MAAMmb,aAEZC,MAAM,SAAA1b,GAAG,OAAIgF,EAAKD,SAAS,CAAE+J,OAAQ9O,2CAIxC,IAAM6a,EAAc5d,KAAKgH,MAAM4W,YAC/BA,EAAYG,SAASW,QAAQ,CAC3B7T,KAAM,GACN8T,OAAQ,KACRC,cAAehB,EAAYzU,IAAM,IAEnCnJ,KAAK8H,SAAS,CAAE8V,iDAGT,IAAAnQ,EAAAzN,KAAAgI,EAC8BhI,KAAKqD,MAAlC8X,EADDnT,EACCmT,OAAQ3P,EADTxD,EACSwD,QAAS/G,EADlBuD,EACkBvD,QACjBmZ,EAAgB5d,KAAKgH,MAArB4W,YAER,OACE3jB,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CAAQ8R,KAAMyP,EAAQ3P,QAASA,EAASpH,WAAW,EAAMK,QAAS,CAAEM,MAAON,EAAQzJ,OACjFf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACglB,GAAAjlB,EAAD,CAAmBc,QAAQ,YAA3B,4EAEET,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,UACxBkO,EAAYC,MAAM/iB,QAIzBb,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,sBAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa6jB,GAAQG,EAAYF,MAAjC,MAA2CD,GAAQG,EAAYF,KAAO,KAEvEE,EAAYI,eAAiB/jB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,kFAE5BT,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAagkB,EAAYI,cAAcljB,OAGzCb,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,mFACN+C,MAAOyV,EAAY/S,KACnBzG,WAAW,EACXmE,SAAUvI,KAAKgS,aAAa,QAC5B/B,WAAYhS,EACZiS,SAAS,qBAET0N,EAAY/S,MAAQ5M,EAAgBlC,MAAQ6hB,EAAY/S,MAAQ5M,EAAgBC,eAC7EjE,EAAAL,EAAAC,cAACiS,GAAD,CACD1G,MAAM,+DACN+C,MAAOyV,EAAYK,SACnBrW,MAAM,QACN7B,iBAAkB,iBAAM,gJACxBuC,kBAAmB,SAACW,GAAD,OAAYhP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,QAClD6C,EAAOnO,KACRb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAAWuO,EAAO6V,SAEzDvW,SAAUvI,KAAKkS,mBAAmB,cAGrC0L,EAAY/S,MAAQ5M,EAAgBC,cAAgB0f,EAAYK,UAC5DhkB,EAAAL,EAAAC,cAACiS,GAAD,CACD5D,eAAe,EACf9C,MAAM,yDACN+C,MAAOyV,EAAYO,aACnBvW,MAAM,gBACNL,OAAQ,CACNwX,SAAUnB,EAAYmB,SACtBC,OAAQpB,EAAYM,YAEtBnY,iBAAkB,iBAAM,kKACxBuC,kBAAmB,SAACW,GAAD,OAAYhP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,QAAtB,0DAClBkX,GAAUrU,EAAO4B,KAAM,oBAClC5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,UAAUrB,MAAO,CAAEgB,QAAS,SAAUqV,WAAY,SAAWzG,EAAO6U,OAAOhjB,MAChHb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAAWuO,EAAOgW,eAAvD,gFAEF1W,SAAUvI,KAAKkS,mBAAmB,kBAGtCjY,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,aAAarB,MAAO,CAAE2L,UAAW,OAAQzK,WAAY,SAAUF,QAAS,SAA5F,mDAEEJ,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CACEa,MAAM,UACNkL,QAAS,kBAAM8H,EAAK0R,eAEpBllB,EAAAL,EAAAC,cAACulB,GAAAxlB,EAAD,QAIHgkB,EAAYG,UAAYH,EAAYG,SAASrP,IAAI,SAAC2Q,EAASzQ,GAC1D,OACE3U,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ6a,YAAalQ,IAAKR,GAExC3U,EAAAL,EAAAC,cAAC6Y,GAAD,CACErZ,MAAO,CAAEiT,MAAO,SAChBlH,MAAM,gEACN+C,MAAOkX,EAAQxU,KACftC,SAAUkF,EAAK4Q,oBAAoB,OAAQzP,GAC3CqB,WAAYvS,EACZwS,SAAS,uBAEVmP,EAAQxU,MAAQnN,EAAmBI,MAC/B7D,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACDwL,MAAM,mDACN+C,MAAOkX,EAAQV,OACfta,WAAY,CACVkb,aAActlB,EAAAL,EAAAC,cAAC2lB,GAAA5lB,EAAD,CAAgBqR,SAAS,OAAzB,kBAEhB1C,SAAUkF,EAAK4Q,oBAAoB,SAAUzP,MAG/CyQ,EAAQxU,MAAQnN,EAAmBK,aAAeshB,EAAQxU,MAAQnN,EAAmBM,cAClF4f,EAAYK,UACZhkB,EAAAL,EAAAC,cAACiS,GAAD,CACD5D,eAAe,EACf9C,MAAM,yDACN+C,MAAOkX,EAAQlB,aACfvW,MAAM,gBACNL,OAAQ,CACNwX,SAAUnB,EAAYmB,SACtBC,OAAQpB,EAAYM,WACpBrT,KAAMwU,EAAQxU,KACd4U,eAAe,GAEjB1Z,iBAAkB,iBAAM,+MACxBuC,kBAAmB,SAACW,GAAD,OAAYhP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,QAAtB,0DAClBkX,GAAUrU,EAAO4B,KAAM,oBAClC5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,UAAUrB,MAAO,CAAEgB,QAAS,SAAUqV,WAAY,SAAWzG,EAAO6U,OAAOhjB,MAChHb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAAWuO,EAAOgW,eAAvD,gFAEF1W,SAAUkF,EAAK6Q,gCAAgC1P,KASnD3U,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,mBACpBnQ,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,YAAY2T,KAAK,QACjDzI,QAAS,WACP8H,EAAKzG,MAAM4W,YAAYG,SAAS2B,OAAO9Q,EAAO,GAC9CnB,EAAK3F,SAAS,CAAE8V,YAAanQ,EAAKzG,MAAM4W,gBAH5C,oEAawB,GAA/BA,EAAYG,SAASrW,QAAezN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,sJAErCT,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,6CACN+C,MAAOyV,EAAYpL,KACnBpO,WAAW,EACXqO,WAAW,EACXrI,OAAO,OACP7B,SAAUvI,KAAKgS,aAAa,UAG7BhS,KAAKgH,MAAM6K,QAAU7R,KAAKgH,MAAM6K,OAAOnK,OAAS,GAC5CzN,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,SAAU3P,MAAO,QACvCuF,KAAKgH,MAAM6K,OAAOnD,IAAI,SAAC3L,EAAK6L,GAC3B,OACE3U,EAAAL,EAAAC,cAAA,OAAKuV,IAAKR,GAAO3U,EAAAL,EAAAC,cAAA,UAAK+U,EAAQ,EAAb,KAAkB+Q,GAAW5c,SAMxD9I,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,KACEK,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACNkL,QAAS,kBAAM8H,EAAKmS,WAHtB,0DAOC5f,KAAKgH,MAAM4W,YAAYzU,IAAMlP,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAC5Bc,QAAQ,YACRD,MAAM,YACNkL,QAAS,kBAAM8H,EAAKoS,sBAHQ,8HAO9B5lB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACNkL,QAAS6F,GAHX,2CA/RyB7Q,IAAMC,WA4SnC+kB,GAAa,CACjBG,MAAS,mQACTC,aAAgB,6LAChBC,iBAAoB,iaACpBC,qBAAwB,yUACxBC,0BAA6B,oLAC7BC,4BAA+B,mZAC/BC,0CAA6C,qeAC7CC,mBAAsB,mkBACtBC,qBAAwB,qMAmBXjW,wBAhBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAKgE,OAAAC,EAAA,EAAAD,CAAA,GACFwJ,EAAM+D,YAAYgU,GAAG,MAAQ,CAC5BjU,MAAO,UAGXgT,YAAa,CACXjlB,QAAS,OACToS,cAAe,SACf+T,OAAM,aAAAzmB,OAAeyO,EAAMG,QAAQE,QAAQiH,OAC3ChM,QAAS,OACT4I,aAAc,OACd+E,aAAc,QAIHpH,CAAmBsT,IC7VrB8C,GAAO,CAClB3c,QAAS,QACTiH,SAAU,OACVmL,UAAW,SACXsK,OAAQ,sBACRlU,MAAO,QAGIoU,GAAS,CACpBnP,UAAW,CACToP,QAAS,GACT3c,OAAQ,YCFN4c,eACJ,SAAAA,EAAYvd,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA4gB,IACjBhf,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA4hB,GAAA7Z,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX6Z,OAAO,GAHQjf,wEAOV,IAAAgB,EAAA5C,KAAAgI,EACoChI,KAAKqD,MAAxCua,EADD5V,EACC4V,YAAarV,EADdP,EACcO,SAAU9D,EADxBuD,EACwBvD,QAC3BoG,EAAOpG,EAAQqc,KAOnB,OANIlD,EAAYzU,KACd0B,EAAOpG,EAAQsc,UAEbnD,EAAY/S,MAAQ5M,EAAgBM,UACtCsM,EAAOpG,EAAQuc,aAGf/mB,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CACEkK,QAAQ,OACR5J,UAAW2Q,EACXlF,QAAS,kBAAM/C,EAAKkF,SAAS,CAAE+Y,OAAO,MAErCjD,EAAYK,UAAYhkB,EAAAL,EAAAC,cAAA,YAAO+jB,EAAYK,SAASnjB,OACnD8iB,EAAYK,UAAYhkB,EAAAL,EAAAC,cAAConB,GAAD,CACxB1D,UAAU,mBAETK,EAAY/S,OAIjB5Q,EAAAL,EAAAC,cAACqnB,GAAD,CACEtD,YAAaA,EACbzC,OAAQnb,KAAKgH,MAAM6Z,MACnBrC,SAAU,SAACrR,GACT5E,EAAS4E,GACTvK,EAAKkF,SAAS,CAAE+Y,OAAO,KAEzBrV,QAAS,kBAAM5I,EAAKkF,SAAS,CAAE+Y,OAAO,eAvCjBlmB,IAAMC,WAwEtByP,wBAzBA,SAAC7B,GAAD,MAAY,CACzBsY,KAAK9hB,OAAAuF,GAAA,EAAAvF,CAAA,GACAmiB,GADD,CAEFxW,gBAAiB,OACjBlQ,MAAO+N,EAAMG,QAAQE,QAAQ+G,KAC7B2B,UAAW,CACT5G,gBAAiB,UACjB3G,OAAQ,aAGZ+c,SAAS/hB,OAAAuF,GAAA,EAAAvF,CAAA,GACJmiB,GACAA,GAFG,CAGNxW,gBAAiBnC,EAAMG,QAAQoH,UAAUD,MACzCrV,MAAO+N,EAAMG,QAAQoH,UAAUqR,eAEjCJ,YAAYhiB,OAAAuF,GAAA,EAAAvF,CAAA,GACPmiB,GADM,CAETnd,OAAQ,UACRvJ,MAAO+N,EAAMG,QAAQoH,UAAUH,KAC/BvJ,WAAY,MACZgb,WAAY,4BAIDhX,CAAmBuW,ICnE5BU,eACJ,SAAAA,EAAYje,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAshB,IACjB1f,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAsiB,GAAAva,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX6K,OAAQ,IAHOjQ,iFAMD,IAAAgB,EAAA5C,KAChB,OAAOuB,GACJoG,KADI,yBAC2B3H,KAAKqD,MAAMua,aAC1Czb,KAAK,SAAAoc,GAAC,OAAI3b,EAAKS,MAAMmb,aACrBC,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,kDAGtB,IAAAgF,EAAA/H,KAClB,OAAOuB,GACJmM,OADI,0BAAA3T,OAC6BiG,KAAKqD,MAAMua,YAAYzU,GADpD,YAEJhH,KAAK,SAAAoc,GAAC,OAAIxW,EAAK1E,MAAMmb,aACrBC,MAAM,SAAA1b,GAAG,OAAIgF,EAAKD,SAAS,CAAE+J,OAAQ9O,uCAGjC,IAAA0K,EAAAzN,KAAAgI,EAC2ChI,KAAKqD,MAA/Cua,EADD5V,EACC4V,YAAazC,EADdnT,EACcmT,OAAQ3P,EADtBxD,EACsBwD,QAAS/G,EAD/BuD,EAC+BvD,QAEtC,OACExK,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CAAQ8R,KAAMyP,EAAQ3P,QAASA,GAC7BvR,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACglB,GAAAjlB,EAAD,CAAmBc,QAAQ,YAA3B,4EAEET,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,UACxBkO,EAAYC,MAAM/iB,QAIzBb,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,sBAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa6jB,GAAQG,EAAYF,MAAjC,MAA2CD,GAAQG,EAAYF,KAAO,MAEtEE,EAAYzU,IAAMlP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,moBAInBkjB,EAAYzU,IAAMlP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,88BAMlBsF,KAAKgH,MAAM6K,QAAU7R,KAAKgH,MAAM6K,OAAOnK,OAAS,GAC5CzN,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,SAAU3P,MAAO,QACvCuF,KAAKgH,MAAM6K,OAAOnD,IAAI,SAAC3L,EAAK6L,GAC3B,OACE3U,EAAAL,EAAAC,cAAA,OAAKuV,IAAKR,GAAO3U,EAAAL,EAAAC,cAAA,UAAK+U,EAAQ,EAAb,KAAkB+Q,GAAW5c,UAMtD6a,EAAYzU,IAAMlP,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cACpDjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAM8H,EAAK8T,oBAAxF,sEAGAtnB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,mCAKDoS,EAAYzU,IAAMlP,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cACnDjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,YAAYP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAM8H,EAAKoS,sBAAzF,8HAGA5lB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,YAAYP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA/E,2CAxEyB7Q,IAAMC,WAiFnC+kB,GAAa,CACjBG,MAAS,mQACTO,mBAAsB,mkBACtBC,qBAAwB,qMAkBXjW,wBAfA,SAAC7B,GAAD,MAAY,CACzB0D,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CAAmBiX,IC5G5BE,eACJ,SAAAA,EAAYne,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAwhB,IACjB5f,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAwiB,GAAAza,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX6Z,OAAO,GAHQjf,wEAOV,IAAAgB,EAAA5C,KAAAgI,EACoChI,KAAKqD,MAAxCua,EADD5V,EACC4V,YAAarV,EADdP,EACcO,SAAU9D,EADxBuD,EACwBvD,QAC3BoG,EAAOpG,EAAQqc,KAKnB,OAHIlD,EAAYzU,KACd0B,EAAOpG,EAAQsc,UAGf9mB,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CACEkK,QAAQ,OACR5J,UAAW2Q,EACXlF,QAAS,kBAAM/C,EAAKkF,SAAS,CAAE+Y,OAAO,MAErCjD,EAAYzU,IAAMlP,EAAAL,EAAAC,cAAConB,GAAD,CACjB1D,UAAU,yBAETK,EAAY/S,OAIjB5Q,EAAAL,EAAAC,cAAC4nB,GAAD,CACE7D,YAAaA,EACbzC,OAAQnb,KAAKgH,MAAM6Z,MACnBrC,SAAU,SAACrR,GACT5E,EAAS4E,GACTvK,EAAKkF,SAAS,CAAE+Y,OAAO,KAEzBrV,QAAS,kBAAM5I,EAAKkF,SAAS,CAAE+Y,OAAO,eApClBlmB,IAAMC,WAqErByP,wBAzBA,SAAC7B,GAAD,MAAY,CACzBsY,KAAK9hB,OAAAuF,GAAA,EAAAvF,CAAA,GACAmiB,GADD,CAEFxW,gBAAiB,OACjBlQ,MAAO+N,EAAMG,QAAQE,QAAQ+G,KAC7B2B,UAAW,CACT5G,gBAAiB,UACjB3G,OAAQ,aAGZ+c,SAAS/hB,OAAAuF,GAAA,EAAAvF,CAAA,GACJmiB,GACAA,GAFG,CAGNxW,gBAAiBnC,EAAMG,QAAQE,QAAQiH,MACvCrV,MAAO+N,EAAMG,QAAQE,QAAQuY,eAE/BJ,YAAYhiB,OAAAuF,GAAA,EAAAvF,CAAA,GACPmiB,GADM,CAETE,WAAY,wBACZ9P,UAAW,CACTvN,OAAQ,mBAKCqG,CAAmBmX,ICtE5BE,oLACK,IAAA1Z,EACqChI,KAAKqD,MAAzCua,EADD5V,EACC4V,YAAa+D,EADd3Z,EACc2Z,UAAWld,EADzBuD,EACyBvD,QAC5BoG,EAAOpG,EAAQqc,KAOnB,OANIlD,EAAYzU,KACd0B,EAAOpG,EAAQmd,OAEZD,GAAa/D,EAAY/S,MAAQ5M,EAAgBM,UACpDsM,EAAOpG,EAAQuc,aAGf/mB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAO5J,UAAW2Q,WAXZlQ,IAAMC,WAoCtByP,wBApBA,SAAC7B,GAAD,MAAY,CACzBsY,KAAK9hB,OAAAuF,GAAA,EAAAvF,CAAA,GACAmiB,GADD,CAEFxW,gBAAiB,OACjBlQ,MAAO+N,EAAMG,QAAQE,QAAQ+G,OAE/BgS,MAAM5iB,OAAAuF,GAAA,EAAAvF,CAAA,GACDmiB,GADA,CAEHxW,gBAAiBnC,EAAMG,QAAQoH,UAAUD,MACzCrV,MAAO+N,EAAMG,QAAQoH,UAAUqR,eAEjCJ,YAAYhiB,OAAAuF,GAAA,EAAAvF,CAAA,GACPmiB,GADM,CAETE,WAAY,wBACZ9P,UAAW,CACTvN,OAAQ,mBAKCqG,CAAmBqX,ICEnBG,eApCb,SAAAA,EAAYxe,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6hB,IACjBjgB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA6iB,GAAA9a,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXgY,QAASlf,GAAYY,WAAa,CAAEyI,GAAI,OAAQA,IAHjCvH,kFAOA0F,GACbA,EAAUtF,MAAQhC,KAAKqD,MAAMrB,MAC/BhC,KAAK8H,SAAS,CAAEkX,QAASlf,GAAYY,WAAa,CAAEyI,GAAI,OAAQA,sCAG3D,IAAAnB,EACuBhI,KAAKqD,MAA3Bua,EADD5V,EACC4V,YAAa5b,EADdgG,EACchG,KACf2f,EAAY/D,EAAYF,MAAQE,EAAYC,MAAMiE,gBAAkB,GACrElE,EAAYF,MAAQE,EAAYC,MAAMkE,kBAE3C,OAAKJ,EAGD3f,GAAQnG,EAAgBG,MACnB/B,EAAAL,EAAAC,cAACmoB,GAAqBhiB,KAAKqD,OAEhCrB,GAAQnG,EAAgBC,MACnB7B,EAAAL,EAAAC,cAACooB,GAADjjB,OAAAuE,OAAA,GAAsBvD,KAAKqD,MAA3B,CAAkCse,UAAWA,KAEjD/D,EAAYzU,GAGbyU,EAAYM,YAAcN,EAAYM,YAAcle,KAAKgH,MAAMgY,OAC1D/kB,EAAAL,EAAAC,cAACqoB,GAAoBliB,KAAKqD,OAE5BpJ,EAAAL,EAAAC,cAACooB,GAADjjB,OAAAuE,OAAA,GAAsBvD,KAAKqD,MAA3B,CAAkCse,UAAWA,KAL3C1nB,EAAAL,EAAAC,cAACqoB,GAAoBliB,KAAKqD,OAT1BpJ,EAAAL,EAAAC,cAACooB,GAADjjB,OAAAuE,OAAA,GAAsBvD,KAAKqD,MAA3B,CAAkCse,UAAWA,YAnBhChnB,IAAMC,WCA1BunB,oLAEK,IAAAna,EACgDhI,KAAKqD,MAApDua,EADD5V,EACC4V,YAAawE,EADdpa,EACcoa,QAASC,EADvBra,EACuBqa,SAAUC,EADjCta,EACiCsa,WAClC1T,EAAQ5O,KAAKuiB,UAAU3E,EAAawE,IAE5B,GAAVxT,EACF0T,EAAW1T,GACRyT,EAASzE,qCAGNA,EAAawE,GACrB,OAAOA,EAAQG,UAAU,SAAApV,GAAC,OAAIA,EAAEoG,MAAQqK,EAAYrK,MAAQpG,EAAEuQ,MAAQE,EAAYF,MAAQvQ,EAAEqV,SAAW5E,EAAY4E,2CAG5G,IAAA5gB,EAAA5B,KAAAwW,EACmCxW,KAAKqD,MAAvCua,EADDpH,EACCoH,YAAawE,EADd5L,EACc4L,QAAS3d,EADvB+R,EACuB/R,QAI9B,KAHkBmZ,EAAYF,MAAQE,EAAYC,MAAMiE,gBAAkB,GACrElE,EAAYF,MAAQE,EAAYC,MAAMkE,mBAGzC,OAAO9nB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAO5J,UAAWuK,EAAQuc,cAEtD,IAAInW,EAAOpG,EAAQqc,KAKnB,OAH6C,GAAzC9gB,KAAKuiB,UAAU3E,EAAawE,KAC9BvX,EAAOpG,EAAQ0B,UAEZyX,EAAYzU,IAMb0B,GAAQpG,EAAQqc,OAClBjW,EAAOpG,EAAQmd,OAEbhE,EAAY/S,MAAQ5M,EAAgBlC,MAAQ6hB,EAAY/S,MAAQ5M,EAAgBC,aAEhFjE,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAO5J,UAAW2Q,EAAMlF,QAAS,kBAAM/D,EAAK6gB,WAC5D5X,GAAQpG,EAAQqc,MAAQ7mB,EAAAL,EAAAC,cAAA,YAAO+jB,EAAYK,SAASnjB,OAKzDb,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAO5J,UAAW2Q,EAAMlF,QAAS,kBAAM/D,EAAK6gB,WAC5D5X,GAAQpG,EAAQqc,MACZ7mB,EAAAL,EAAAC,cAAA,YAAOyjB,GAAUM,EAAY/S,KAAM,sBAjBxC5Q,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAO5J,UAAW2Q,EAAMlF,QAAS,kBAAM/D,EAAK6gB,mBA9B7C9nB,IAAMC,WAyFjByP,wBAnCA,SAAC7B,GAAD,MAAY,CACzBsY,KAAK9hB,OAAAuF,GAAA,EAAAvF,CAAA,GACAmiB,GACAA,GAFD,CAGFxW,gBAAiB,OACjBlQ,MAAO+N,EAAMG,QAAQE,QAAQ+G,OAE/BgS,MAAM5iB,OAAAuF,GAAA,EAAAvF,CAAA,GACDmiB,GACAA,GAFA,CAGHxW,gBAAiBnC,EAAMG,QAAQoH,UAAUD,MACzCrV,MAAO+N,EAAMG,QAAQoH,UAAUqR,eAEjCJ,YAAYhiB,OAAAuF,GAAA,EAAAvF,CAAA,GACPmiB,GADM,CAETE,WAAY,wBACZ9P,UAAW,CACTvN,OAAQ,iBAGZ0e,QAAQ1jB,OAAAuF,GAAA,EAAAvF,CAAA,GACHmiB,GACAA,GAFE,CAGL1mB,MAAO+N,EAAMG,QAAQoH,UAAUH,KAC/BvJ,WAAY,MACZgb,WAAY,0BAEdlb,SAASnH,OAAAuF,GAAA,EAAAvF,CAAA,GACJmiB,GACAA,GAFG,CAGNxW,gBAAiBnC,EAAMG,QAAQE,QAAQ+G,KACvCnV,MAAO+N,EAAMG,QAAQE,QAAQuY,iBAIlB/W,CAAmB8X,4CC1F5BQ,eACJ,SAAAA,EAAYtf,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2iB,IACjB/gB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA2jB,GAAA5b,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXb,UAAU,IAAIpF,MAAO6hB,UAAY,EACjCC,iBAAkB,MAEpBjhB,EAAKkhB,SAAW,CAAC,qBAAO,qBAAO,2BAAQ,eAAM,2BAAQ,qBAAO,sBAN3ClhB,mFAUjB5B,KAAK8H,SAAS,CAAE3B,SAAUnG,KAAKqD,MAAM0f,IAAM,+CAG1Bzb,GACbA,EAAU0b,OAAShjB,KAAKqD,MAAM2f,OAAS1b,EAAU2b,MAAQjjB,KAAKqD,MAAM4f,OAClEjjB,KAAKgH,MAAM6b,kBACV7iB,KAAKgH,MAAM6b,iBAAiB3V,IAAI,SAAWlN,KAAKqD,MAAM4f,MACtDjjB,KAAKgH,MAAM6b,iBAAiB3V,IAAI,UAAYlN,KAAKqD,MAAM2f,OAC1DhjB,KAAKqD,MAAMkF,SAASvI,KAAKgH,MAAM6b,kBAC/B7iB,KAAK8H,SAAS,CACZ3B,SAAUnG,KAAKgH,MAAM6b,iBAAiB3V,IAAI,QAAU,EACpD2V,iBAAkB,QAIkB,MAA/B7iB,KAAKgH,MAAM6b,iBAClB7iB,KAAK8H,SAAS,CACZ3B,UAAU,EACV0c,iBAAkBrP,KAAO,CAAEyP,KAAM3b,EAAU2b,KAAMD,MAAO1b,EAAU0b,MAAOzP,KAAMvT,KAAKgH,MAAMb,SAAW,MAGvGnG,KAAK8H,SAAS,CAAE3B,UAAU,sCAIvB4c,GACP,IAAIxP,EAAO,IAAIxS,KAAKf,KAAKqD,MAAM4f,KAAMjjB,KAAKqD,MAAM2f,MAAOD,GAEvD,OACE9oB,EAAAL,EAAAC,cAAA,WACGkpB,EAAM,GAAK,IAAM,GACjBA,EACD9oB,EAAAL,EAAAC,cAAA,WAAMmG,KAAK8iB,SAASvP,EAAK2P,8CAKrB,IAAAlb,EACgBhI,KAAKqD,MAArB4f,EADAjb,EACAib,KAAMD,EADNhb,EACMgb,MASRG,EAPa,CAAC,GACjBF,EAAO,KAAO,GACTA,EAAO,GAAK,GACXA,EAAO,KAAO,EAAU,GAAL,GAC1B,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAGfD,GAEvB,OAAOhkB,OAAAokB,GAAA,EAAApkB,CAAI,IAAIqkB,MAAMF,EAHP,EAGqB,GAAG1S,QAAQ/B,IAAI,SAAA4U,GAAC,OAAIA,EAHzC,uCAMLP,GACT,GAAI/iB,KAAKqD,MAAMrB,MAAQnG,EAAgBG,MACrC,OAAO,EAFK,IAAAwa,EAG+BxW,KAAKqD,MAA1C4f,EAHMzM,EAGNyM,KAAMD,EAHAxM,EAGAwM,MAAOO,EAHP/M,EAGO+M,oBAIfC,EAAa,IAAIziB,KAAKkiB,EAAMD,EAAOD,GACnCU,EAAQ,IAAI1iB,KACZ2iB,EAAOC,KAAKC,OAAOH,EAAQD,GALd,OAMnB,OAAOE,EAAO,GAAKA,GAAQH,kCAGrBR,GAAK,IAAAc,EACa7jB,KAAKqD,MAArB4f,EADGY,EACHZ,KAAMD,EADHa,EACGb,MACRS,EAAQ,IAAI1iB,KAClB,OAAOkiB,GAAQQ,EAAMK,eAAiBd,GAASS,EAAMM,YAAchB,GAAOU,EAAMb,2CAGzE,IAAAhgB,EAAA5C,KAAAgkB,EACoChkB,KAAKqD,MAAxC4f,EADDe,EACCf,KAAMD,EADPgB,EACOhB,MAAOve,EADduf,EACcvf,QAAS8D,EADvByb,EACuBzb,SACxBkb,GAAQ,IAAI1iB,MAAO6hB,UAEzB,OACE3oB,EAAAL,EAAAC,cAACoqB,GAAArqB,EAAD,CACE6K,QAAS,CACPzJ,KAAMyJ,EAAQyf,SACdC,SAAU1f,EAAQ2f,aAClBC,UAAW5f,EAAQ6f,cACnBC,cAAe9f,EAAQ+f,mBAEzBrc,MAAOnI,KAAKgH,MAAMb,SAClBoC,SAAU,SAACgW,EAAGpW,GACZvF,EAAKkF,SAAS,CAAE3B,SAAUgC,IAC1BI,EAASiL,KAAO,CAAEyP,OAAMD,QAAOzP,KAAMpL,EAAQ,MAE/Csc,YAAU,EACVF,cAAc,MACbvkB,KAAK0kB,UAAUhW,IAAI,SAAAqU,GAClB,IAAI4B,EAAYlgB,EAAQmgB,IAIxB,OAHIhiB,EAAKiiB,QAAQ9B,IAAQngB,EAAKoE,MAAMb,UAAasd,EAAQ,IACvDkB,GAAqB,IAAA5qB,OAAO0K,EAAQqgB,WAGpC7qB,EAAAL,EAAAC,cAACkrB,GAAAnrB,EAAD,CACE6K,QAAS,CACPzJ,KAAM2pB,EACNxe,SAAU1B,EAAQugB,YAClB5Y,SAAU3H,EAAQwgB,YAClBC,eAAgBzgB,EAAQygB,gBAE1B9Y,SAAUxJ,EAAKuiB,WAAWpC,GAC1B3T,IAAK2T,EACL3d,MAAOxC,EAAKwiB,SAASrC,eApHPpoB,IAAMC,WA6KnByP,wBAhDA,SAAC7B,GACd,MAAO,CACL0b,SAAU,GAEVgB,eAAgB,CACdphB,QAAS,WAEX8gB,IAAI5lB,OAAAC,EAAA,EAAAD,CAAA,CACF2L,gBAAiB,QACjBlQ,MAAO+N,EAAMG,QAAQE,QAAQwc,MAC5B7c,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BF,MAAO,OACPgZ,SAAU,MACVC,UAAW,MACXlf,WAAY,IACZma,OAAQ,yBAGZwE,YAAa,CACXra,gBAAiBnC,EAAMG,QAAQE,QAAQ+G,KACvCnV,MAAO+N,EAAMG,QAAQE,QAAQuY,aAC7BZ,OAAQ,QAEVsE,SAAU,CACRna,gBAAiBnC,EAAMG,QAAQoH,UAAUH,KACzCnV,MAAO+N,EAAMG,QAAQE,QAAQuY,aAC7BZ,OAAQ,QAEVyE,YAAa,CACXxqB,MAAO,OACP4L,WAAY,IACZsE,gBAAiB,cAEnByZ,aAAaplB,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYgU,GAAG,MAAQ,CAC5B3F,SAAU,WAGd0J,cAAe,CACb3Z,gBAAiBnC,EAAMG,QAAQE,QAAQ+G,MAEzC4U,kBAAmB,CACjB/pB,MAAO+N,EAAMG,QAAQE,QAAQ+G,KAC7BqG,UAAW,UAKF5L,CAAmBsY,ICxJ5B6C,eACJ,SAAAA,EAAYniB,GAAO,IAAAzB,EAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAwlB,GACjB5jB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAwmB,GAAAze,KAAA/G,KAAMqD,IACN,IAAMogB,EAAQjQ,OAASiS,QAAQ,QAFd,OAGjB7jB,EAAKoF,MAAQ,CACXic,KAAMQ,EAAMvW,IAAI,QAChB8V,MAAOS,EAAMvW,IAAI,SACjB6V,IAAKU,EAAMvW,IAAI,QACfqG,KAAMkQ,GAER7hB,EAAK8jB,MAAQ,CAAC,KAAM,KAAM,KAAM,MAChC9jB,EAAK+jB,MAAQ,CAAC,uCAAU,mDAAY,2BAAQ,iCAAS,qBAAO,qBAAO,qBAAO,uCAAU,yDAAa,mDAAY,6CAAW,oDAExH/jB,EAAKoQ,aAAe,SAACC,GAAD,OAAU,SAAC9E,GAC7B,IAAMnG,EAAQpF,EAAKoF,MACnBA,EAAMiL,GAAQ9E,EAAE8D,OAAO9I,MACvBvG,EAAKkG,SAASd,GACVpF,EAAKyB,MAAMuiB,qBACbhkB,EAAKyB,MAAMkF,SAASiL,KAAOxM,EAAMuM,MAAMkD,IAAIxE,EAAMjL,EAAMiL,OAjB1CrQ,mFAsBjB5B,KAAK8H,SAAS,CACZmb,KAAMjjB,KAAKqD,MAAM8E,MAAM+E,IAAI,QAC3B8V,MAAOhjB,KAAKqD,MAAM8E,MAAM+E,IAAI,SAC5B6V,IAAK/iB,KAAKqD,MAAM8E,MAAM+E,IAAI,2CAIrB,IAAAtK,EAAA5C,KAAAgI,EACuBhI,KAAKqD,MAA3BoB,EADDuD,EACCvD,QAAS8D,EADVP,EACUO,SADVd,EAEsBzH,KAAKgH,MAA1Bic,EAFDxb,EAECwb,KAAMD,EAFPvb,EAEOub,MAAOD,EAFdtb,EAEcsb,IAErB,OACE9oB,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEqT,aAAc,SAC1BzS,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQzJ,MACtBf,EAAAL,EAAAC,cAACyW,GAAA1W,EAAD,CAAaM,UAAWuK,EAAQohB,aAC9B5rB,EAAAL,EAAAC,cAAC2W,GAAA5W,EAAD,CACEuO,MAAO6a,EACPza,SAAUvI,KAAKgS,aAAa,UAE3BhS,KAAK2lB,MAAMjX,IAAI,SAACsU,EAAOpU,GACtB,OACE3U,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUwV,IAAKR,EAAOzG,MAAOyG,GAAQoU,OAK7C/oB,EAAAL,EAAAC,cAACyW,GAAA1W,EAAD,CAAaM,UAAWuK,EAAQohB,aAC9B5rB,EAAAL,EAAAC,cAAC2W,GAAA5W,EAAD,CACEuO,MAAO8a,EACP1a,SAAUvI,KAAKgS,aAAa,SAE3BhS,KAAK0lB,MAAMhX,IAAI,SAAAuU,GACd,OACEhpB,EAAAL,EAAAC,cAACoM,GAAArM,EAAD,CAAUwV,IAAK6T,EAAM9a,MAAO8a,GAAOA,QAO7ChpB,EAAAL,EAAAC,cAACgG,GAAYS,oBAAb,KACG,SAAA0B,GAAI,OAAI/H,EAAAL,EAAAC,cAACisB,GAAD,CACP7C,KAAMA,EACND,MAAOA,EACPD,IAAKA,EACLQ,oBAAqB,GACrBvhB,KAAMA,EACNuG,SAAU,SAACgL,GAET,OADA3Q,EAAKkF,SAAS,CAAEyL,SACThL,EAASgL,gBAxEP5Y,IAAMC,WAiFdyP,wBApGA,SAAC7B,GAAD,MAAY,CACzBxN,KAAKgE,OAAAC,EAAA,EAAAD,CAAA,CACH+mB,YAAa,SACbtR,aAAc,SACdpa,QAAS,QACRmO,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BC,cAAe,WAGnBoZ,YAAY7mB,OAAAC,EAAA,EAAAD,CAAA,CACVsN,MAAO,QACPlC,OAAQ,SACP5B,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BpC,OAAQ,QACRkC,MAAO,WAsFEjC,CAAmBmb,IC/E5BQ,oLACK,IACCvhB,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQzJ,MACtBf,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQvB,MACtBjJ,EAAAL,EAAAC,cAAA,YACAI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,2EAEFT,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQvB,MACtBjJ,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQsc,WACxB9mB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,oJAEFT,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQvB,MACtBjJ,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQmd,QACxB3nB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,mDAEFT,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQvB,MACtBjJ,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQwhB,eACxBhsB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,2GApBWC,IAAMC,WA2BZyP,wBArDA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJX,QAAS,cACToS,cAAe,UAEjBvJ,KAAM,CACJ7I,QAAS,OACTE,WAAY,SACZmS,aAAc,QACdwZ,QAAS,CACP5Z,MAAO,QACPlS,OAAQ,OACRomB,OAAQ,wBAGZO,SAAU,CACRpW,gBAAiBnC,EAAMG,QAAQE,QAAQiH,OAEzC8R,MAAO,CACLjX,gBAAiBnC,EAAMG,QAAQoH,UAAUD,OAE3CmW,aAAc,CACZ5E,WAAY,2BA+BDhX,CAAmB2b,IC/B5BG,GAAe,SAAC3d,GAAD,MAAY,CAC/BzE,OAAQ,KACR4G,gBAAiBnC,EAAMG,QAAQE,QAAQ+G,KACvCnV,MAAO+N,EAAMG,QAAQE,QAAQuY,aAC7BnW,SAAU,WACVmb,UAAS,YAAArsB,OAAcyO,EAAMG,QAAQE,QAAQwc,MAC7C5T,aAAc,MACd3N,QAAS,MACTzJ,QAAS,OACTE,WAAY,SACZomB,QAAS,OAyBL0F,eACJ,SAAAA,EAAYhjB,GAAO,IAAAzB,EAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAqmB,IACjBzkB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAqnB,GAAAtf,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXgX,cAAele,GAAYY,UAC3B4lB,QAAS,EACTxI,OAAQ,KACRyI,OAAQ,GACRC,aAAc,GACdjT,KAAMC,OAASiS,QAAQ,QACvBrD,QAAS,MAGX,IAAMqE,EAAUxrB,SAASC,eAAe,QAZvB,OAajBurB,EAAQC,SAAW,WACjB,IAAMC,EAAiBF,EAAQG,aAAe,IACxCC,EAAkBJ,EAAQK,UAAY,KAAOllB,EAAKmlB,SAASC,UAG/DplB,EAAKqlB,gBAAgB5tB,MAAMgB,QADzBssB,GAAkBE,EACiB,QAEA,QApBxBjlB,mFAyBjBL,GACG2L,IADH,oBAIAlN,KAAKiN,QAAQjN,KAAKgH,MAAMuM,sCAGlBA,GAAM,IAAA3Q,EAAA5C,KACZ,OAAOuB,GACJoG,KADI,gCACkC,CAAE4L,KAAMA,EAAKE,OAAO,gBAC1DtR,KAAK,SAAAqkB,GAAY,OAAI5jB,EAAKkF,SAAS,CAAE0e,0DAG3B9I,EAAMG,GAMnB,OADiB7d,KAAKgH,MAAMwf,aAAavP,KAAK,SAAA9J,GAAC,OAJvB,SAACA,GACvB,OAAOA,EAAEqV,SAAW3E,EAAM1U,IAAMgE,EAAEuQ,MAAQA,EAGOwJ,CAAgB/Z,MAC/CnN,KAAKmnB,qBAAqBnnB,KAAKgH,MAAMuM,KAAMmK,EAAMG,qCAG7D,IAAA9V,EAAA/H,KACFoiB,EAAUpiB,KAAKgH,MAAMob,QAC3B,GAAKA,KAAWA,EAAQ1a,OAAS,GAKjC,OAFA1H,KAAK8H,SAAS,CAAEsf,cAAe,OAExB7lB,GACJoG,KAAK,oBAAqBya,GAC1BjgB,KAAK,SAAAoc,GACJxW,EAAKkF,QAAQlF,EAAKf,MAAMuM,MACxBxL,EAAKD,SAAS,CAAEsa,QAAS,SAE1B3D,MAAM,SAAA1b,GAAG,OAAIgF,EAAKD,SAAS,CAAEsf,cAAerkB,8CAGjCG,GAEd,IAAMkf,EAAUpiB,KAAKgH,MAAMob,QAC3BA,EAAQ1D,QAAQxb,GAChBkf,EAAQ1C,OAAO,EAAG,GAClB1f,KAAK8H,SAAS,CAAEsa,sDAGAxT,GAEhB,IAAMwT,EAAUpiB,KAAKgH,MAAMob,QAC3BA,EAAQ1C,OAAO9Q,EAAO,GACtB5O,KAAK8H,SAAS,CAAEsa,yDAGG7O,EAAMmK,EAAMG,GAC/B,MAAO,CACLtK,KAAMA,EAAKE,OAAO,cAClBiK,KAAMA,EACNG,MAAOA,EACP2E,QAAS3E,EAAM1U,GACf2U,OAAQ9d,KAAKgH,MAAM8W,OACnBiB,SAAU/e,KAAKgH,MAAM8W,OAAO3U,GAC5B6U,cAAehe,KAAKgH,MAAMgX,cAC1BxL,KAAM,GACN3H,KAAM,GACNkT,SAAU,mCAIP/b,GACQ,SAATA,IACFhC,KAAK+mB,SAASM,WAAarnB,KAAK+mB,SAASM,WAAa,KAC3C,UAATrlB,IACFhC,KAAK+mB,SAASM,WAAarnB,KAAK+mB,SAASM,WAAa,sCAGjD,IAAA5Z,EAAAzN,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QADDgD,EAE0BzH,KAAKgH,MAA9B8W,EAFDrW,EAECqW,OAAQyI,EAFT9e,EAES8e,OAAQhT,EAFjB9L,EAEiB8L,KAExB,OAAKuK,EAMH7jB,EAAAL,EAAAC,cAACgG,GAAYS,oBAAb,KACG,SAAA0B,GAAI,OAAI/H,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACtBD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAEyK,QAAS,SACvB7J,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,WAAW6sB,cAAc,GAA5D,0CACYhU,EAAKE,OAAO,eAExBxZ,EAAAL,EAAAC,cAAC2tB,GAAD,CACErf,MAAOoL,EACPhL,SAAU,SAAAgL,GACR9F,EAAK3F,SAAS,CAAEyL,OAAM6O,QAAS,OAC/B3U,EAAKR,QAAQsG,MAIjBtZ,EAAAL,EAAAC,cAAC4tB,GAAD,MACAxtB,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,CAAQhtB,QAAQ,WAAWD,MAAM,UAAU2T,KAAK,QAC9C/U,MAAO,CAAEic,YAAa,SACtB3P,QAAS,kBAAM8H,EAAKR,QAAQsG,KAE5BtZ,EAAAL,EAAAC,cAAC8tB,GAAA/tB,EAAD,MACAK,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,UAA3B,2DAGD1N,GAAQnG,EAAgBG,OACpB/B,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACA1B,EAAKzG,MAAMob,SACPnoB,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACDlV,EAAAL,EAAAC,cAAC+tB,GAAD,CACE3O,MAAM,+IACNhX,KAAMhI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,yRACNyhB,SAAU,kBAAM5N,EAAK2U,YAErBnoB,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,CAAQhtB,QAAQ,YAAYD,MAAM,WAAlC,mCAIFR,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,CAAQhtB,QAAQ,WAAWD,MAAM,UAC/BpB,MAAO,CAAEqW,WAAY,SACrB/J,QAAS,kBAAM8H,EAAK3F,SAAS,CAAEsa,QAAS,KAAMgF,cAAe,SAF/D,oCAOF3Z,EAAKzG,MAAMob,SAAWnoB,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,CAAQhtB,QAAQ,WAAWD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAM8H,EAAK3F,SAAS,CAAEsa,QAAS,OACtHnoB,EAAAL,EAAAC,cAACguB,GAAAjuB,EAAD,MADsB,wEAO7B6T,EAAKzG,MAAMogB,eACPntB,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,SAAU3P,MAAO,QACxCR,EAAAL,EAAAC,cAAA,YAAMI,EAAAL,EAAAC,cAAA,UAAK8lB,GAAWlS,EAAKzG,MAAMogB,cAAcU,YAKnD7tB,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE0uB,UAAW,OAAQC,eAAgB,UAAYxkB,IAAK,SAAAA,GAAG,OAAIiK,EAAKsZ,SAAWvjB,IAEvFvJ,EAAAL,EAAAC,cAAA,OAAK2J,IAAK,SAAAA,GAAG,OAAIiK,EAAKwZ,gBAAkBzjB,GAAKnK,MAAO,CAAEgB,QAAS,SAC7DJ,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ4iB,WAAY1hB,QAAS,kBAAM8H,EAAKwa,OAAO,UAC7DhuB,EAAAL,EAAAC,cAACquB,GAAAtuB,EAAD,OAGFK,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQ0jB,YAAaxiB,QAAS,kBAAM8H,EAAKwa,OAAO,WAC9DhuB,EAAAL,EAAAC,cAACuuB,GAAAxuB,EAAD,QAIJK,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,CAAOP,MAAO,CAAEisB,SAAU,UACxBrrB,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OAAOzK,MAAO,CAAE6c,UAAW,WAA9C,gDACCqQ,EAAO7X,IAAI,SAAAmP,GACV,OACE5jB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CACEkK,QAAQ,OACRzK,MAAO,CAAE6c,UAAW,UACpB9G,IAAKyO,EAAM1U,IAEV0U,EAAM/iB,UAMjBb,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,MA+CEyuB,EA9CUvK,EAAOiE,kBA8CVoB,EA9C6BrF,EAAOgE,gBAAkB,EA+CxEuG,GAAUlF,EAERnkB,OAAAokB,GAAA,EAAApkB,CAAI,IAAIqkB,MAAMF,EAAMkF,EAAQ,GAAG5X,QAAQ/B,IAAI,SAAAvB,GAAC,OAAIA,EAAIkb,IADlD,IAhDuE3Z,IAAI,SAAAgP,GAClE,OACEzjB,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAKsO,GACbzjB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWkK,QAAQ,OACjBW,QAAS,CACPzJ,KAAMyJ,EAAQ6jB,QAGf7K,GAAQC,IAGV6I,EAAO7X,IAAI,SAAAmP,GACV,OAAKpQ,EAAKzG,MAAMob,QAYZnoB,EAAAL,EAAAC,cAAC0uB,GAAD,CACEnZ,IAAKyO,EAAM1U,GACXiZ,QAAS3U,EAAKzG,MAAMob,QACpBxE,YAAanQ,EAAK+a,eAAe9K,EAAMG,GACvCwE,SAAU,SAAClV,GAAD,OAAOM,EAAKgb,gBAAgBtb,IACtCmV,WAAY,SAACnV,GAAD,OAAOM,EAAKib,kBAAkBvb,MAf5ClT,EAAAL,EAAAC,cAAC8uB,GAAD,CACE3mB,KAAMA,EACNoN,IAAKyO,EAAM1U,GACX2U,OAAQrQ,EAAKzG,MAAM8W,OACnBF,YAAanQ,EAAK+a,eAAe9K,EAAMG,GACvCtV,SAAU,SAAAgW,GAAC,OAAI9Q,EAAKR,QAAQsG,gBA2B5D,IAAkB8U,EAAOlF,IA3IZlpB,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAEyK,QAAS,QAAU5J,UAAU,aAClDD,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAW4sB,MAAM,SAAS7sB,MAAM,aAApD,kGA3GeE,IAAMC,WA2P7B,IAAM+kB,GAAa,CACjBiJ,QAAW,8MACXC,YAAe,oPAGFxe,wBAtRA,SAAC7B,GAAD,MAAY,CACzB8f,MAAO,CACLhc,MAAO,OACP4J,UAAW,UAEb9J,SAAU,CACRpI,OAAQ,cACR2c,QAAS,IAEX0G,WAAWroB,OAAAuF,GAAA,EAAAvF,CAAA,GACNmnB,GAAa3d,GADR,CAERsgB,IAAK,MACL5d,KAAM,QAERid,YAAYnpB,OAAAuF,GAAA,EAAAvF,CAAA,GACPmnB,GAAa3d,GADP,CAETsgB,IAAK,MACL3d,MAAO,UAqQId,CAAmBgc,wBC5R5B0C,eACJ,SAAAA,EAAY1lB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA+oB,IACjBnnB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA+pB,GAAAhiB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXhF,KAAM,QAHSJ,mFAQZ5B,KAAKqD,MAAMwa,MAAM1U,IACpBnJ,KAAK8H,SAAS,CAAE9F,KAAM,sDAGPsF,GACbA,EAAUuW,OAAS7d,KAAKqD,MAAMwa,QAC3B7d,KAAKqD,MAAMwa,MAAM1U,IACpBnJ,KAAK8H,SAAS,CAAE9F,KAAM,mDAIH,QAAnBhC,KAAKgH,MAAMhF,KACbhC,KAAK8H,SAAS,CAAE9F,KAAM,SACnBhC,KAAKqD,MAAM2lB,kDAGT,IAAApmB,EAAA5C,KACCgC,EAAShC,KAAKgH,MAAdhF,KADDgG,EAEoBhI,KAAKqD,MAAxBoB,EAFDuD,EAECvD,QAASoZ,EAFV7V,EAEU6V,MAEjB,MAAY,QAAR7b,EACK/H,EAAAL,EAAAC,cAACovB,GAAD,CACLjnB,KAAMA,EACN6b,MAAOA,EACPtV,SAAU,SAAAgD,GACR3I,EAAKkF,SAAS,CAAE9F,KAAM,SACtBY,EAAKS,MAAMkF,SAASgD,IAEtB2d,SAAU,kBAAMtmB,EAAKumB,kBAIrBlvB,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAM6K,QAAS,CAAEzJ,KAAMyJ,EAAQ2kB,MAAQ/vB,MAAO,CAAEsnB,QAAS9C,EAAMwL,SAAW,EAAI,KAC5EpvB,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQ6kB,cACpCrvB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,QAAQrB,MAAO,CAAEgB,QAAS,OAAQE,WAAY,WAC/DsjB,EAAM/iB,MACL+iB,EAAMwL,UAAYpvB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,6DAEtBT,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWmjB,EAAMrL,MACrCvY,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,aAAarB,MAAO,CAAEob,aAAc,SAAxD,6EAEExa,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa6jB,GAAQI,EAAMkE,mBAA3B,MAAkDtE,GAAQI,EAAMiE,oBAGpE7nB,EAAAL,EAAAC,cAACkb,GAAAnb,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQ8kB,cACpCtvB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAM/C,EAAKkF,SAAS,CAAE9F,KAAM,WAA9F,uDAtDYrH,IAAMC,WA6DxB4uB,eACJ,SAAAA,EAAYnmB,GAAO,IAAA0E,EAAA,OAAA/I,OAAAe,EAAA,EAAAf,CAAAgB,KAAAwpB,IACjBzhB,EAAA/I,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAwqB,GAAAziB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXmC,GAAI,KACJrO,KAAM,GACN0X,KAAM,GACN6W,UAAU,EACVtH,kBAAmB,GACnBD,gBAAiB,IARF/Z,mFAajB/H,KAAK8H,SAAS9H,KAAKqD,MAAMwa,kDAGRvW,GACbA,EAAUuW,OAAS7d,KAAKqD,MAAMwa,OAChC7d,KAAK8H,SAAS9H,KAAKqD,MAAMwa,wCAI3B7d,KAAK8H,SAAS9H,KAAKqD,MAAMwa,OACzB7d,KAAKqD,MAAM6lB,0CAGN,IAAAzb,EAAAzN,KACL,OAAIA,KAAKgH,MAAMmC,GACN5H,GACJoG,KADI,oBAAA5N,OACqBiG,KAAKgH,MAAMmC,IAAMnJ,KAAKgH,OAC/C7E,KAAK,SAAAgL,GAAC,OAAIM,EAAKpK,MAAMkF,SAAS4E,KAC9BsR,MAAM,SAAA1b,GAAG,OAAIrB,QAAQC,IAAI,OAAQoB,KAE7BxB,GACJoG,KADI,mBACqB3H,KAAKgH,OAC9B7E,KAAK,SAAAgL,GAAC,OAAIM,EAAKpK,MAAMkF,SAAS4E,KAC9BsR,MAAM,SAAA1b,GAAG,OAAIrB,QAAQC,IAAI,OAAQoB,sCAG/B,IAAA4K,EAAA3N,KACCgC,EAAShC,KAAKqD,MAAdrB,KAER,OACE/H,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAE4c,UAAW,QAAS5b,QAAS,OAAQoS,cAAe,SAAU3I,QAAS,SAC5E,UAAR9B,GAAoB/H,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,YAAnC,+CACZ,QAARsH,GAAkB/H,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,YAAnC,oFAGnBT,EAAAL,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,QACE5Y,EAAAL,EAAAC,cAAC4vB,GAAA7vB,EAAD,CACEmZ,QAAS/S,KAAKgH,MAAMqiB,SACpB9gB,SAAU,SAAA4E,GAAC,OAAIQ,EAAK7F,SAAS,CAAEuhB,SAA6B,SAAnBlc,EAAE8D,OAAO9I,SAClDA,MAAOnI,KAAKgH,MAAMqiB,SAAW,QAAU,OACvC5uB,MAAM,YAGV2K,MAAM,+CAGRnL,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,OACH/D,MAAM,2EACN+C,MAAOnI,KAAKgH,MAAMlM,KAClByN,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEhN,KAAMqS,EAAE8D,OAAO9I,WAElDlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,OACH/D,MAAM,+DACNqN,WAAS,EACTiX,QAAQ,IACRvhB,MAAOnI,KAAKgH,MAAMwL,KAClBjK,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAE0K,KAAMrF,EAAE8D,OAAO9I,WAGlDlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,oBACH/D,MAAM,yFACNyF,KAAK,SACL1C,MAAOnI,KAAKgH,MAAM+a,kBAClBxZ,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEia,kBAAmB5U,EAAE8D,OAAO9I,WAG/DlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,kBACH/D,MAAM,yFACNyF,KAAK,SACL1C,MAAOnI,KAAKgH,MAAM8a,gBAClBvZ,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEga,gBAAiB3U,EAAE8D,OAAO9I,WAGzC,UAAnBnI,KAAKqD,MAAMrB,MAAoB/H,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,eACpDnQ,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,mBACjBzE,QAAS,kBAAMgI,EAAKmE,SALtB,0DASA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,eACjBzE,QAAS,kBAAMgI,EAAKgc,WALtB,mCAWkB,QAAnB3pB,KAAKqD,MAAMrB,MAAkB/H,EAAAL,EAAAC,cAAA,WAC5BI,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,mBACjBzE,QAAS,kBAAMgI,EAAKmE,SALtB,kCAUA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,eACjBzE,QAAS,kBAAMgI,EAAKgc,WALtB,2CA5HchvB,IAAMC,WA2IfyP,wBA1NA,iBAAO,CACpB+e,KAAM,CACJ9c,MAAO,QACPlC,OAAQ,OACRtG,QAAS,OACTzJ,QAAS,OACToS,cAAe,SACfnS,eAAgB,iBAElBivB,YAAa,CACXlvB,QAAS,OACTC,eAAgB,cAElBgvB,YAAa,CACXrM,cAAe,OA4MJ5S,CAAmB0e,IC1N5Ba,eACJ,SAAAA,EAAYvmB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA4pB,IACjBhoB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA4qB,GAAA7iB,KAAA/G,KAAMqD,KAED2D,MAAQ,CACXuf,OAAQ,IAJO3kB,mFASjB5B,KAAKiN,4CAGG,IAAArK,EAAA5C,KACR,OAAOuB,GACJ2L,IADI,oBAEJ/K,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CAAEye,OAAQpZ,0CAG3B5B,EAAOqD,GACjB,IAAM2X,EAASvmB,KAAKgH,MAAMuf,OAC1BA,EAAO3X,GAASrD,EAChBvL,KAAK8H,SAAS,CAAEye,8CAIhB,IAAMA,EAASvmB,KAAKgH,MAAMuf,OAC1B,KAAIA,EAAO7e,OAAS,IAAM6e,EAAO,GAAGpd,GAApC,CAWAod,EAAO7H,QATO,CACZlM,KAAM,GACN1X,KAAM,GACNuuB,UAAU,EACVtH,kBAAmB,GACnBD,gBAAiB,KAMnB9hB,KAAK8H,SAAS,CAAEye,OAAQA,yCAGd3X,GACV,IAAM2X,EAASvmB,KAAKgH,MAAMuf,OAC1BA,EAAO7G,OAAO9Q,EAAO,GACrB5O,KAAK8H,SAAS,CAAEye,OAAQA,qCAGjB,IAAAxe,EAAA/H,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAY0T,KAAK,SAAS3T,MAAM,UAAUkL,QAAS,kBAAMoC,EAAK8hB,YAAYxwB,MAAO,CAAEqT,aAAc,UAAjH,iEAGAzS,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQzJ,MACrBgF,KAAKgH,MAAMuf,OAAO7X,IAAI,SAACmP,EAAOjP,GAC7B,OACE3U,EAAAL,EAAAC,cAACiwB,GAAD,CACE1a,IAAKyO,EAAM1U,IAAM,EACjB0U,MAAOA,EACPtV,SAAU,SAAAgD,GAAK,OAAIxD,EAAKgiB,YAAYxe,EAAOqD,IAC3Coa,eAAgB,kBAAMjhB,EAAKiiB,YAAYpb,iBAhElCjU,IAAMC,WA0EZyP,wBAlFA,iBAAO,CACpBrP,KAAM,CACJX,QAAS,OACTkQ,SAAU,OACVjQ,eAAgB,YA8EL+P,CAAmBuf,ICzD5BK,eACJ,SAAAA,EAAY5mB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAiqB,IACjBroB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAirB,GAAAljB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXhF,KAAM,QAHSJ,mFAQZ5B,KAAKqD,MAAMya,OAAO3U,IACrBnJ,KAAK8H,SAAS,CAAE9F,KAAM,sDAGPsF,GACbA,EAAUwW,QAAU9d,KAAKqD,MAAMya,SAC5B9d,KAAKqD,MAAMya,OAAO3U,IACrBnJ,KAAK8H,SAAS,CAAE9F,KAAM,mDAIH,QAAnBhC,KAAKgH,MAAMhF,KACbhC,KAAK8H,SAAS,CAAE9F,KAAM,SACnBhC,KAAKqD,MAAM2lB,kDAGT,IAAApmB,EAAA5C,KACCgC,EAAShC,KAAKgH,MAAdhF,KADDgG,EAEqBhI,KAAKqD,MAAzBoB,EAFDuD,EAECvD,QAASqZ,EAFV9V,EAEU8V,OAEjB,MAAY,QAAR9b,EACK/H,EAAAL,EAAAC,cAACqwB,GAAD,CACLloB,KAAMA,EACN8b,OAAQA,EACRvV,SAAU,SAAAgD,GACR3I,EAAKkF,SAAS,CAAE9F,KAAM,SACtBY,EAAKS,MAAMkF,SAASgD,IAEtB2d,SAAU,kBAAMtmB,EAAKumB,kBAIrBlvB,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAM6K,QAAS,CAAEzJ,KAAMyJ,EAAQ2kB,OAC7BnvB,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQ6kB,cACpCrvB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,QAAQrB,MAAO,CAAEgB,QAAS,OAAQE,WAAY,WAC/DujB,EAAOhjB,MAEVb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWojB,EAAOtL,MACtCvY,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAE+Q,OAAQ,YAC1B,IAAIrJ,KAAK+c,EAAOqM,aAAa1P,qBADhC,MACyD,IAAI1Z,KAAK+c,EAAOsM,WAAW3P,sBAEpFxgB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,aAAarB,MAAO,CAAEob,aAAc,SAAxD,6EAEExa,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa6jB,GAAQK,EAAOiE,mBAA5B,MAAmDtE,GAAQK,EAAOgE,oBAGtE7nB,EAAAL,EAAAC,cAACkb,GAAAnb,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQ8kB,cACpCtvB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAM/C,EAAKkF,SAAS,CAAE9F,KAAM,WAA9F,uDAxDarH,IAAMC,WA+DzByvB,eACJ,SAAAA,EAAYhnB,GAAO,IAAA0E,EAAA,OAAA/I,OAAAe,EAAA,EAAAf,CAAAgB,KAAAqqB,IACjBtiB,EAAA/I,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAqrB,GAAAtjB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXmC,GAAI,KACJrO,KAAM,GACN0X,KAAM,GACN2X,YAAa,KACbC,UAAW,KACXrI,kBAAmB,GACnBD,gBAAiB,GACjBuH,UAAU,GAVKthB,mFAejB/H,KAAK8H,SAAS9H,KAAKqD,MAAMya,mDAGRxW,GACbA,EAAUwW,QAAU9d,KAAKqD,MAAMya,QACjC9d,KAAK8H,SAAS9H,KAAKqD,MAAMya,yCAI3B9d,KAAK8H,SAAS9H,KAAKqD,MAAMya,QACzB9d,KAAKqD,MAAM6lB,0CAGN,IAAAzb,EAAAzN,KACL,OAAIA,KAAKgH,MAAMmC,GACN5H,GACJoG,KADI,qBAAA5N,OACsBiG,KAAKgH,MAAMmC,IAAMnJ,KAAKgH,OAChD7E,KAAK,SAAAgL,GAAC,OAAIM,EAAKpK,MAAMkF,SAAS4E,KAC9BsR,MAAM,SAAA1b,GAAG,OAAIrB,QAAQC,IAAI,OAAQoB,KAE7BxB,GACJoG,KADI,oBACsB3H,KAAKgH,OAC/B7E,KAAK,SAAAgL,GAAC,OAAIM,EAAKpK,MAAMkF,SAAS4E,KAC9BsR,MAAM,SAAA1b,GAAG,OAAIrB,QAAQC,IAAI,OAAQoB,sCAG/B,IAAA4K,EAAA3N,KACCgC,EAAShC,KAAKqD,MAAdrB,KAER,OACE/H,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAE4c,UAAW,QAAS5b,QAAS,OAAQoS,cAAe,SAAU3I,QAAS,SAC5E,UAAR9B,GAAoB/H,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,YAAnC,qDACZ,QAARsH,GAAkB/H,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,YAAnC,0FAEnBT,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,OACH/D,MAAM,2EACN+C,MAAOnI,KAAKgH,MAAMlM,KAClByN,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEhN,KAAMqS,EAAE8D,OAAO9I,WAElDlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,OACH/D,MAAM,+DACNqN,WAAS,EACTiX,QAAQ,IACRvhB,MAAOnI,KAAKgH,MAAMwL,KAClBjK,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAE0K,KAAMrF,EAAE8D,OAAO9I,WAGlDlO,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNjO,MAAM,yFACNkO,UAAW,SAACC,GAAD,OAAUA,EAAO,IAAIxS,KAAKwS,GAAMkH,qBAAuB,IAClE/G,WAAS,EACTtP,WAAW,EACX+D,MAAOnI,KAAKgH,MAAMmjB,YAClB5hB,SAAU,SAAAJ,GAAK,OAAIwF,EAAK7F,SAAS,CAAEqiB,YAAahiB,OAGlDlO,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNjO,MAAM,6EACNkO,UAAW,SAACC,GAAD,OAAUA,EAAO,IAAIxS,KAAKwS,GAAMkH,qBAAuB,IAClE/G,WAAS,EACTtP,WAAW,EACX+D,MAAOnI,KAAKgH,MAAMojB,UAClB7hB,SAAU,SAAAJ,GAAK,OAAIwF,EAAK7F,SAAS,CAAEsiB,UAAWjiB,OAGhDlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,oBACH/D,MAAM,yFACNyF,KAAK,SACL1C,MAAOnI,KAAKgH,MAAM+a,kBAClBxZ,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEia,kBAAmB5U,EAAE8D,OAAO9I,WAG/DlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,kBACH/D,MAAM,yFACNyF,KAAK,SACL1C,MAAOnI,KAAKgH,MAAM8a,gBAClBvZ,SAAU,SAAC4E,GAAD,OAAOQ,EAAK7F,SAAS,CAAEga,gBAAiB3U,EAAE8D,OAAO9I,WAGzC,UAAnBnI,KAAKqD,MAAMrB,MAAoB/H,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,eACpDnQ,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,mBACjBzE,QAAS,kBAAMgI,EAAKmE,SALtB,0DASA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,eACjBzE,QAAS,kBAAMgI,EAAKgc,WALtB,mCAWkB,QAAnB3pB,KAAKqD,MAAMrB,MAAkB/H,EAAAL,EAAAC,cAAA,WAC5BI,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,mBACjBzE,QAAS,kBAAMgI,EAAKmE,SALtB,kCAUA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE+Q,OAAQ,eACjBzE,QAAS,kBAAMgI,EAAKgc,WALtB,2CArIehvB,IAAMC,WAoJhByP,wBArOA,iBAAO,CACpB+e,KAAM,CACJ9c,MAAO,QACPlC,OAAQ,OACRtG,QAAS,OACTzJ,QAAS,OACToS,cAAe,SACfnS,eAAgB,iBAElBivB,YAAa,CACXlvB,QAAS,OACTC,eAAgB,cAElBgvB,YAAa,CACXrM,cAAe,OAuNJ5S,CAAmB4f,ICpO5BK,eACJ,SAAAA,EAAYjnB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAsqB,IACjB1oB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAsrB,GAAAvjB,KAAA/G,KAAMqD,KAED2D,MAAQ,CACXujB,QAAS,IAJM3oB,mFASjB5B,KAAKiN,4CAGG,IAAArK,EAAA5C,KACR,OAAOuB,GACJ2L,IADI,qBAEJ/K,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAAS,CAAEyiB,QAASpd,0CAG5B5B,EAAOqD,GACjB,IAAM2b,EAAUvqB,KAAKgH,MAAMujB,QAC3BA,EAAQ3b,GAASrD,EACjBvL,KAAK8H,SAAS,CAAEyiB,gDAIhB,IAAMA,EAAUvqB,KAAKgH,MAAMujB,QAC3B,KAAIA,EAAQ7iB,OAAS,IAAM6iB,EAAQ,GAAGphB,GAAtC,CAUAohB,EAAQ7L,QAPO,CACblM,KAAM,GACN1X,KAAM,GACNinB,kBAAmB,GACnBD,gBAAiB,KAInB9hB,KAAK8H,SAAS,CAAEyiB,kDAGL3b,GACX,IAAM2b,EAAUvqB,KAAKgH,MAAMujB,QAC3BA,EAAQ7K,OAAO9Q,EAAO,GACtB5O,KAAK8H,SAAS,CAAEyiB,6CAGT,IAAAxiB,EAAA/H,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAY0T,KAAK,SAAS3T,MAAM,UAAUkL,QAAS,kBAAMoC,EAAKyiB,aAAanxB,MAAO,CAAEqT,aAAc,UAAlH,uEAGAzS,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQzJ,MACrBgF,KAAKgH,MAAMujB,QAAQ7b,IAAI,SAACoP,EAAQlP,GAC/B,OACE3U,EAAAL,EAAAC,cAAC4wB,GAAD,CACErb,IAAK0O,EAAO3U,IAAM,EAClB2U,OAAQA,EACRvV,SAAU,SAAAgD,GAAK,OAAIxD,EAAKgiB,YAAYxe,EAAOqD,IAC3Coa,eAAgB,kBAAMjhB,EAAK2iB,aAAa9b,iBA9DlCjU,IAAMC,WAwEbyP,wBAhFA,iBAAO,CACpBrP,KAAM,CACJX,QAAS,OACTkQ,SAAU,OACVjQ,eAAgB,YA4EL+P,CAAmBigB,yBCnFrBK,GAAb,SAAA/O,GACE,SAAA+O,EAAYtnB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2qB,IACjB/oB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA2rB,GAAA5jB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX4jB,QAAQ,EACRC,UAAW,QAGbjpB,EAAKkpB,YAAc,WAAM,IAAArjB,EACK7F,EAAKoF,MAA3B6jB,EADiBpjB,EACjBojB,UAAWD,EADMnjB,EACNmjB,OAEZA,EAGHC,EADqB,SAAdA,EACK,MAEA,OAJZD,GAAS,EAOXhpB,EAAKkG,SAAS,CAAE+iB,YAAWD,WAC3BhpB,EAAKyB,MAAM0nB,aAAaF,IAnBTjpB,EADrB,OAAA5C,OAAAgd,EAAA,EAAAhd,CAAA2rB,EAAA/O,GAAA5c,OAAAid,EAAA,EAAAjd,CAAA2rB,EAAA,EAAAvb,IAAA,SAAAjH,MAAA,WAyBI,OACElO,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAW+L,QAAS3F,KAAK8qB,aACvB7wB,EAAAL,EAAAC,cAACmxB,GAAApxB,EAAD,CACEgxB,OAAQ5qB,KAAKgH,MAAM4jB,OACnBC,UAAW7qB,KAAKgH,MAAM6jB,WAErB7qB,KAAKqD,MAAMuB,eA/BtB+lB,EAAA,CAAuChwB,IAAMC,WAsCtC,SAASqwB,GAAUzxB,EAAM0xB,GACzBA,IAGe,QAAhBA,EAAS,GACX1xB,EAAK2xB,KAAK,SAACvxB,EAAGwxB,GAAJ,OAAUA,EAAEF,EAAS,IAAMtxB,EAAEsxB,EAAS,MAEhD1xB,EAAK2xB,KAAK,SAACvxB,EAAGwxB,GAAJ,OAAUxxB,EAAEsxB,EAAS,IAAME,EAAEF,EAAS,OCtC7C,IAAMG,GAAb,SAAAzP,GACE,SAAAyP,EAAYhoB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAqrB,IACjBzpB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAqsB,GAAAtkB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXskB,MAAO,MAGT1pB,EAAK2pB,YAAc,SAACtZ,GAAD,OAAU,SAAC4Y,GAC5BjpB,EAAKkG,SAAS,CAAEwjB,MAAO,CAACrZ,EAAM4Y,OAPfjpB,EADrB,OAAA5C,OAAAgd,EAAA,EAAAhd,CAAAqsB,EAAAzP,GAAA5c,OAAAid,EAAA,EAAAjd,CAAAqsB,EAAA,EAAAjc,IAAA,SAAAjH,MAAA,WAaI,IAAM3O,ED6EH,SAAoCA,GACzC,IAAMgyB,EAAQ,GAgBd,OAdAhyB,EAAKiyB,QAAQ,SAAAte,GACNA,EAAE+Q,aAGFsN,EAAMre,EAAE+Q,cACXsN,EAAMre,EAAE+Q,YAAc,CACpBD,SAAU9Q,EAAE8Q,SACZyN,WAAY,IAIhBF,EAAMre,EAAE+Q,YAAYwN,gBAGf1sB,OAAOyR,KAAK+a,GAAO9c,IAAI,SAAAU,GAAG,OAAIoc,EAAMpc,KC9F5Buc,CAA2B3rB,KAAKqD,MAAM7J,MAGnD,OAFAyxB,GAAUzxB,EAAMwG,KAAKgH,MAAMskB,OAGzBrxB,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,KACEK,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAEiT,MAAO,QAA3B,gEACArS,EAAAL,EAAAC,cAAC+xB,GAAD,CAAmBb,aAAc/qB,KAAKurB,YAAY,eAAlD,2FAKJtxB,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KACGJ,EAAKkV,IAAI,SAAAvB,GACR,OACElT,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAKjC,EAAE8Q,SAAS9U,IACxBlP,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,KACGva,EAAE8Q,SAASnjB,KACZb,EAAAL,EAAAC,cAAC6tB,GAAA,EAAD,CAAYhtB,QAAQ,WAAWyS,EAAE8Q,SAASa,SAG9C7kB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KAAYuT,EAAEue,eAIpBzxB,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,iCACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KAAYJ,EAAK4d,OAAO,SAACL,EAAKC,GAAN,OAAeD,EAAMC,EAAK0U,YAAY,WA1C1EL,EAAA,CAAqC1wB,IAAMC,WAkD9BixB,GAAb,SAAAC,GACE,SAAAD,EAAYxoB,GAAO,IAAAT,EAAA,OAAA5D,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6rB,IACjBjpB,EAAA5D,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA6sB,GAAA9kB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXskB,MAAO,MAGT1oB,EAAK2oB,YAAc,SAACtZ,GAAD,OAAU,SAAC4Y,GAC5BjoB,EAAKkF,SAAS,CAAEwjB,MAAO,CAACrZ,EAAM4Y,OAPfjoB,EADrB,OAAA5D,OAAAgd,EAAA,EAAAhd,CAAA6sB,EAAAC,GAAA9sB,OAAAid,EAAA,EAAAjd,CAAA6sB,EAAA,EAAAzc,IAAA,SAAAjH,MAAA,WAYW,IAAAH,EACgFhI,KAAKqD,MAApF7J,EADDwO,EACCxO,KAAMuyB,EADP/jB,EACO+jB,WAAYhb,EADnB/I,EACmB+I,YAAaib,EADhChkB,EACgCgkB,OAAQC,EADxCjkB,EACwCikB,OAAQC,EADhDlkB,EACgDkkB,SAAUC,EAD1DnkB,EAC0DmkB,kBAC3DC,ED8CH,SAA+B5yB,EAAMuyB,GAAmC,IAAvBG,EAAuBnQ,UAAArU,OAAA,QAAA2kB,IAAAtQ,UAAA,GAAAA,UAAA,GAAZ,kBAAM,MACjElU,EAAS,GACTykB,EAAc,GAWpB,OATAttB,OAAOyR,KAAKsb,GAAYN,QAAQ,SAAArc,GAC9BvH,EAAOkkB,EAAW3c,IAAQ,IAG5B5V,EAAKiyB,QAAQ,SAAAte,GACXtF,EAAOsF,EAAEtC,QACTyhB,EAAYnf,EAAEtC,MAAQqhB,EAASI,EAAYnf,EAAEtC,MAAOsC,KAG/CnO,OAAOyR,KAAK5I,GAAQ6G,IAAI,SAAAU,GAC7B,MAAO,CACLA,MACAmd,MAAO1kB,EAAOuH,GACdod,OAAQF,EAAYld,MC/DFqd,CAAsBjzB,EAAMuyB,EAAYG,GAAa,kBAAM,OAG/E,OAFAjB,GAAUmB,EAAapsB,KAAKgH,MAAMskB,OAGhCrxB,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,KACEK,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAEiT,MAAO,QAAU0f,GACrC/xB,EAAAL,EAAAC,cAAC+xB,GAAD,CAAmBb,aAAc/qB,KAAKurB,YAAY,UAC/CU,KAIPhyB,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KACGwyB,EAAY1d,IAAI,SAAAvB,GACf,OACElT,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAKjC,EAAEiC,KACfnV,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KAAY0jB,GAAUnQ,EAAEiC,IAAK2B,IAC7B9W,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACGuT,EAAEof,MACFpf,EAAEqf,QAAUvyB,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,UAA3B,IAAwCvC,EAAEqf,OAAQL,EAAlD,SAKrBlyB,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,iCACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KAAYwyB,EAAYhV,OAAO,SAACL,EAAKC,GAAN,OAAeD,EAAMC,EAAKuV,OAAO,WAzC5EV,EAAA,CAA2ClxB,IAAMC,WCkCjD,SAAS8xB,GAAiBlzB,GACxB,OAAOA,EAAK4d,OAAO,SAACL,EAAKC,GAAN,OAAeD,EAAIhd,OAAOid,EAAK+G,WAAW,IAG/D,SAAS4O,GAA0BC,EAASvN,GAC1C,OAAIA,EAAQV,QACFiO,GAAW,GAAKC,WAAWxN,EAAQV,QACjCiO,EAGCE,mBA5Fb,SAAAA,EAAYzpB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA8sB,IACjBlrB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA8tB,GAAA/lB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXuM,KAAMC,OAASiS,QAAQ,QACvB5a,KAAMlM,GAAeC,QACrBpF,KAAM,IAGRoI,EAAKmrB,qBAAuB,SAACxZ,GAC3B3R,EAAKkG,SAAS,CAAEyL,SAChB3R,EAAKqL,QAAQsG,EAAM3R,EAAKoF,MAAM6D,OAGhCjJ,EAAKorB,uBAAyB,SAACzO,EAAGpW,GAChCvG,EAAKkG,SAAS,CAAE+C,KAAM1C,IACtBvG,EAAKqL,QAAQrL,EAAKoF,MAAMuM,KAAMpL,IAffvG,mFAoBjB5B,KAAKiN,QAAQjN,KAAKgH,MAAMuM,KAAMvT,KAAKgH,MAAM6D,sCAGnC0I,EAAM1I,GAAM,IAAAjI,EAAA5C,KAClB,OAAOuB,GACJoG,KAAK,cAAe,CAAE4L,KAAMA,EAAKE,OAAO,cAAe5I,SACvD1I,KAAK,SAAA3I,GAAI,OAAIoJ,EAAKkF,SAAS,CAAEtO,4CAGzB,IAAAiO,EACsBzH,KAAKgH,MAA1BuM,EADD9L,EACC8L,KAAM1I,EADPpD,EACOoD,KAAMrR,EADbiO,EACajO,KAEpB,OACES,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAEyK,QAAS,SACvB7J,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,MACAK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,WAAW6sB,cAAc,GAA5D,8CAGAttB,EAAAL,EAAAC,cAAC2tB,GAAD,CACE5B,qBAAqB,EACrBzd,MAAOoL,EACPhL,SAAUvI,KAAK+sB,uBAGjB9yB,EAAAL,EAAAC,cAACoqB,GAAArqB,EAAD,CAAMuO,MAAO0C,EAAMtC,SAAUvI,KAAKgtB,uBAAwBC,UAAU,WAClEhzB,EAAAL,EAAAC,cAACkrB,GAAAnrB,EAAD,CAAKuO,MAAOxJ,GAAeC,QAASwG,MAAM,+CAC1CnL,EAAAL,EAAAC,cAACkrB,GAAAnrB,EAAD,CAAKuO,MAAOxJ,GAAeE,MAAOuG,MAAM,0CAGzCyF,GAAQlM,GAAeC,SAAW3E,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,WACvDnQ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,cAApB,8HACAT,EAAAL,EAAAC,cAACqzB,GAAD,CAAiB1zB,KAAMA,KAGxBqR,GAAQlM,GAAeC,SAAW3E,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,WACvDnQ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,cAApB,2IACAT,EAAAL,EAAAC,cAACszB,GAAD,CACEnB,OAAO,kFACPC,OAAO,wIACPF,WAAY9tB,EACZ8S,YAAY,kBACZvX,KAAMA,KAGVS,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,WACpBnQ,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,cAApB,qLACAT,EAAAL,EAAAC,cAACszB,GAAD,CACEnB,OAAO,yFACPC,OAAO,4HACPF,WAAYruB,EACZqT,YAAY,qBACZmb,SAAUS,GACVR,kBAAkB,iBAClB3yB,KAAMkzB,GAAiBlzB,eA3ERmB,IAAMC,4JCJ7BwyB,cACJ,SAAAA,EAAY/pB,GAAQrE,OAAAe,EAAA,EAAAf,CAAAgB,KAAAotB,GAClBptB,KAAKqtB,gBAAkBrtB,KAAKqtB,gBAAgB5xB,KAAKuE,MACjDA,KAAKstB,yBAA2BttB,KAAKstB,yBAAyB7xB,KAAKuE,MACnEA,KAAKutB,mBAAqBvtB,KAAKutB,mBAAmB9xB,KAAKuE,MACvDA,KAAKwtB,wBAA0BxtB,KAAKwtB,wBAAwB/xB,KAAKuE,wDAIjE,MAAO,CACL8e,MAAO,GACP2O,SAAU,GACVC,gBAAiB,GACjBC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,OAAQ,GACRC,UAAW,KACXC,eAAgB,GAChBC,UAAW,GACXC,UAAW,GACXC,aAAc,GACdC,gBAAiB,EACjBC,iBAAkB,4CAKpB,MAAO,CACLvP,MAAO,GACP2O,SAAU,GACVC,gBAAiB,GACjBC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,OAAQ,GACRC,UAAW,GACXC,eAAgB,GAChBC,UAAW,GACXC,UAAW,GACXC,aAAc,GACdC,gBAAiB,GACjBC,iBAAkB,0CAIRxc,EAAQ/W,GACpB,OAAI+W,EAAO/W,GAAM4M,OAAS,EACjBzN,EAAAL,EAAAC,cAAA,YACJgY,EAAO/W,GAAM4T,IAAI,SAAC3L,EAAK2N,GACtB,OACEzW,EAAAL,EAAAC,cAAA,QACEuV,IAAKsB,EACLrX,MAAO,CAAEgB,QAAS,UAEjBi0B,GAAIxzB,GAAMiI,OAMZ,6CAGKM,GAAO,IACb5C,EAA2B4C,EAA3B5C,KAAM8H,EAAqBlF,EAArBkF,SAAUsJ,EAAWxO,EAAXwO,OACxB,OACE5X,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,QACH/D,MAAM,QACN+C,MAAO1H,EAAKqe,MACZ3O,UAAU,EACV/L,WAAW,EACXgM,MAAOyB,EAAOiN,MAAMpX,OAAS,EAC7B6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,SACvCtJ,SAAUA,EAAS,YAGnB9H,EAAK0I,IAAMlP,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACXuP,GAAG,WACH/D,MAAM,uCACNyF,KAAK,WACL1C,MAAO1H,EAAKgtB,SACZtd,UAAU,EACV/L,WAAW,EACXgM,MAAOyB,EAAO4b,SAAS/lB,OAAS,EAChC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,YACvCtJ,SAAUA,EAAS,eAGnB9H,EAAK0I,IAAMlP,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACXuP,GAAG,kBACH/D,MAAM,kFACNyF,KAAK,WACL1C,MAAO1H,EAAKitB,gBACZvd,UAAU,EACV/L,WAAW,EACXgM,MAAOyB,EAAO6b,gBAAgBhmB,OAAS,EACvC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,mBACvCtJ,SAAUA,EAAS,uEAMFlF,GAAO,IACtB5C,EAA2B4C,EAA3B5C,KAAM8H,EAAqBlF,EAArBkF,SAAUsJ,EAAWxO,EAAXwO,OACxB,OACE5X,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,kBACH/D,MAAM,qGACNyF,KAAK,SACL1C,MAAO1H,EAAK2tB,gBACZhqB,WAAW,EACXgM,MAAOyB,EAAOuc,gBAAgB1mB,OAAS,EACvC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,mBACvCtJ,SAAUA,EAAS,qBAGrBtO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,kBACH/D,MAAM,2GACNyF,KAAK,SACL1C,MAAO1H,EAAK4tB,iBACZjqB,WAAW,EACXC,WAAY,CACVkb,aAActlB,EAAAL,EAAAC,cAAC2lB,GAAA5lB,EAAD,CAAgBqR,SAAS,OAAzB,kBAEhBmF,MAAOyB,EAAOwc,iBAAiB3mB,OAAS,EACxC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,oBACvCtJ,SAAUA,EAAS,kEAORlF,GAAO,IAChB5C,EAA2B4C,EAA3B5C,KAAM8H,EAAqBlF,EAArBkF,SAAUsJ,EAAWxO,EAAXwO,OACxB,OACE5X,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,qBACN+C,MAAO1H,EAAKktB,UACZxd,UAAU,EACV/L,WAAW,EACXgM,MAAOyB,EAAO8b,UAAUjmB,OAAS,EACjC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,aACvCtJ,SAAUA,EAAS,eAGrBtO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,6CACN+C,MAAO1H,EAAKmtB,SACZzd,UAAU,EACV/L,WAAW,EACXgM,MAAOyB,EAAO+b,SAASlmB,OAAS,EAChC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,YACvCtJ,SAAUA,EAAS,cAGrBtO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,6CACN+K,UAAU,EACV/L,WAAW,EACX+D,MAAO1H,EAAKotB,UACZzd,MAAOyB,EAAOgc,UAAUnmB,OAAS,EACjC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,aACvCtJ,SAAUA,EAAS,gEAMHlF,GAAO,IACrB5C,EAA2B4C,EAA3B5C,KAAM8H,EAAqBlF,EAArBkF,SAAUsJ,EAAWxO,EAAXwO,OACxB,OACE5X,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAACuZ,GAAAxZ,EAAD,CACEyZ,QAAM,EACNob,qBAAmB,EACnBrpB,MAAM,mFACNkO,UAAW,SAACC,GAAD,OAAUA,EAAO,IAAIxS,KAAKwS,GAAMkH,qBAAuB,IAClE/G,WAAS,EACTvD,UAAU,EACV/L,WAAW,EACX+D,MAAO1H,EAAKstB,UACZ3d,MAAOyB,EAAOkc,UAAUrmB,OAAS,EACjC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,aACvCtJ,SAAUA,EAAS,aAAa,KAGlCtO,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,qBACN+C,MAAO1H,EAAKqtB,OACZ3d,UAAU,EACVC,MAAOyB,EAAOic,OAAOpmB,OAAS,EAC9B2I,UAAWrQ,KAAKwuB,cAAc3c,EAAQ,UACtCtJ,SAAUA,EAAS,UACnB0H,WAAY7T,EACZ8T,SAAS,WAEXjW,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,iBACH/D,MAAM,wHACNhB,WAAW,EACX+D,MAAO1H,EAAKutB,eACZ5d,MAAOyB,EAAOmc,eAAetmB,OAAS,EACtC6mB,WAAYvuB,KAAKwuB,cAAc3c,EAAQ,kBACvCtJ,SAAUA,EAAS,kBACnBsC,KAAK,WAGP5Q,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,oDACN+C,MAAO1H,EAAKwtB,UACZ7d,MAAOyB,EAAOoc,UAAUvmB,OAAS,EACjC2I,UAAWrQ,KAAKwuB,cAAc3c,EAAQ,aACtCtJ,SAAUA,EAAS,aACnB0H,WAAY1S,EACZ2S,SAAS,cAEXjW,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,6CACN+C,MAAO1H,EAAK0tB,aACZ/d,MAAOyB,EAAOsc,aAAazmB,OAAS,EACpC2I,UAAWrQ,KAAKwuB,cAAc3c,EAAQ,gBACtCtJ,SAAUA,EAAS,gBACnB0H,WAAY7S,EACZ8S,SAAS,iBAEXjW,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,wFACN+C,MAAO1H,EAAKytB,UACZ9d,MAAOyB,EAAOqc,UAAUxmB,OAAS,EACjC2I,UAAWrQ,KAAKwuB,cAAc3c,EAAQ,aACtCtJ,SAAUA,EAAS,aACnB0H,WAAYlT,EACZmT,SAAS,wBAOboe,GAAM,CACVxP,MAAO,CACL3O,SAAU,oGACVyY,QAAS,wFACT8F,OAAQ,kMAEVjB,SAAU,CACRtd,SAAU,oGACVwe,MAAO,qMAETjB,gBAAiB,CACfvd,SAAU,oGACVye,SAAU,kHAEZjB,UAAW,CACTxd,SAAU,qGAEZyd,SAAU,CACRzd,SAAU,qGAEZ0d,UAAW,CACT1d,SAAU,oGACVyY,QAAS,gJAEXkF,OAAQ,CACN3d,SAAU,oGACVyY,QAAS,6EAEXmF,UAAW,CACTnF,QAAS,0IACTzY,SAAU,qGAEZ6d,eAAgB,CACdpF,QAAS,8FACTiG,OAAQ,qKACRC,MAAO,0OAETb,UAAW,CACTrF,QAAS,mFAEXsF,UAAW,CACTtF,QAAS,mFAEXuF,aAAc,CACZvF,QAAS,oFAIEmG,GAAA,IAAI3B,GC9Rb4B,eACJ,SAAAA,EAAY3rB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAgvB,IACjBptB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAgwB,GAAAjoB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXvG,KAAM2sB,GAAUlgB,MAChB2E,OAAQub,GAAU6B,kBAGpBrtB,EAAKoQ,aAAe,SAACC,GAAD,IAAOua,EAAPzQ,UAAArU,OAAA,QAAA2kB,IAAAtQ,UAAA,IAAAA,UAAA,UAA0B,SAAC5gB,GAC7C,IAAIsF,EAAOmB,EAAKoF,MAAMvG,KACtBA,EAAKwR,GAASua,EAASrxB,EAAQA,EAAM8V,OAAO9I,MAC5CvG,EAAKkG,SAAS,CAAErH,WAVDmB,mFAeb5B,KAAKqD,MAAM5C,MACbT,KAAK8H,SAAS,CAAErH,KAAMT,KAAKqD,MAAM5C,kDAGlB6G,GACbA,EAAU7G,MAAQT,KAAKqD,MAAM5C,MAAQT,KAAKqD,MAAM5C,MAClDT,KAAK8H,SAAS,CAAErH,KAAMT,KAAKqD,MAAM5C,KAAMoR,OAAQub,GAAU6B,kDAGtD,IAAArsB,EAAA5C,KACGS,EAAST,KAAKgH,MAAdvG,KAER,OAAIA,EAAK0I,GACA5H,GACJoG,KADI,UAAA5N,OACW0G,EAAK0I,IAAM1I,GAC1B0B,KAAK,SAAAoc,GAAC,OAAI3b,EAAKS,MAAMkF,aACrBkW,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,MAEjCxB,GACJoG,KADI,SACWlH,GACf0B,KAAK,SAAAoc,GAAC,OAAI3b,EAAKS,MAAMkF,aACrBkW,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,uCAGnC,IAAAgF,EAAA/H,KAAAgI,EAC0ChI,KAAKqD,MAA9C8X,EADDnT,EACCmT,OAAQ3P,EADTxD,EACSwD,QAAS/G,EADlBuD,EACkBvD,QAASgH,EAD3BzD,EAC2ByD,WAD3BhE,EAEkBzH,KAAKgH,MAAtBvG,EAFDgH,EAEChH,KAAMoR,EAFPpK,EAEOoK,OACd,OAAK7R,KAAKqD,MAAM5C,KAIdxG,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,KAAMyP,EACN3P,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACglB,GAAAjlB,EAAD,CAAmBc,QAAQ,YACxB+F,EAAK3F,MAAQ,oFAGlBb,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,QACE5Y,EAAAL,EAAAC,cAAC4vB,GAAA7vB,EAAD,CACEa,MAAM,UACNsY,QAAStS,EAAK4oB,SACd1jB,QAAS,kBAAMoC,EAAKiK,aAAa,YAAY,EAA9BjK,EAAqCtH,EAAK4oB,aAG7DjkB,MAAO3E,EAAK4oB,SAAW,6CAAY,2DAGrCpvB,EAAAL,EAAAC,cAACk1B,GAAU1B,gBAAX,CAA2B5sB,KAAMA,EAAM8H,SAAUvI,KAAKgS,aAAcH,OAAQA,IAC5E5X,EAAAL,EAAAC,cAACk1B,GAAUxB,mBAAX,CAA8B9sB,KAAMA,EAAM8H,SAAUvI,KAAKgS,aAAcH,OAAQA,IAE/E5X,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACEP,MAAO,CAAE+Q,OAAQ,kBACjB1P,QAAQ,aACRD,MAAM,WAHR,2LAIAR,EAAAL,EAAAC,cAACk1B,GAAUzB,yBAAX,CAAoC7sB,KAAMA,EAAM8H,SAAUvI,KAAKgS,aAAcH,OAAQA,KAGvF5X,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAChCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS,kBAAMoC,EAAK+J,SAAxF,kCAGA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAUP,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GAA5E,oCAxCG,YA5CkB7Q,IAAMC,WA+GtByP,wBAlBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,SAETJ,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCqiB,0BCzGnCE,eACJ,SAAAA,EAAY7rB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAkvB,IACjBttB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAkwB,GAAAnoB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXgX,cAAele,GAAYY,UAC3ByuB,cAAe,IAGjBvtB,EAAKoQ,aAAe,SAACpD,GAAD,OAAW,SAACwgB,GAC9B,IAAMD,EAAgBvtB,EAAKoF,MAAMmoB,cACjCA,EAAcvgB,GAASwgB,EACvBxtB,EAAKkG,SAAS,CAAEqnB,kBAChBvtB,EAAKyB,MAAMkF,SAAS4mB,KAGtBvtB,EAAKytB,aAAe,SAACzgB,GAAD,OAAW,WAC7B,IAAMugB,EAAgBvtB,EAAKoF,MAAMmoB,cACjCA,EAAczP,OAAO9Q,EAAO,GAC5BhN,EAAKkG,SAAS,CAAEqnB,kBAChBvtB,EAAKyB,MAAMkF,SAAS4mB,KAlBLvtB,kFAsBA0F,GACbA,EAAU7G,MAAQT,KAAKqD,MAAM5C,MAA2B,MAAnBT,KAAKqD,MAAM5C,MAClDT,KAAKsvB,sCAIPtvB,KAAK8H,SAAS,CACZqnB,cAAetuB,KAAKC,MAAMD,KAAKK,UAAUlB,KAAKqD,MAAM5C,KAAK0uB,4DAI3C,IACRA,EAAkBnvB,KAAKgH,MAAvBmoB,cACJA,EAAcznB,OAAS,IAAMynB,EAAc,GAAGhmB,KAGlDgmB,EAAczQ,QAAQ,CACpBR,WAAYle,KAAKqD,MAAM5C,KAAK0I,GAC5B2U,OAAQ9d,KAAKqD,MAAMya,OACnBiB,SAAU/e,KAAKqD,MAAMya,OAAO3U,GAC5B6U,cAAehe,KAAKgH,MAAMgX,cAC1B0N,WAAY,EACZzM,eAAgB,EAChBpU,KAAM,KAGR7K,KAAK8H,SAASqnB,qCAGP,IAAAvsB,EAAA5C,KAAAgI,EACgDhI,KAAKqD,MAApD8X,EADDnT,EACCmT,OAAQ1a,EADTuH,EACSvH,KAAM+K,EADfxD,EACewD,QAAS/G,EADxBuD,EACwBvD,QAASgH,EADjCzD,EACiCyD,WAChC0jB,EAAkBnvB,KAAKgH,MAAvBmoB,cAER,OAAKnvB,KAAKqD,MAAM5C,KAIdxG,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,KAAMyP,EACN3P,QAASA,EACTC,WAAYA,EACZhH,QAAS,CAAEM,MAAON,EAAQzJ,OAE1Bf,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,KACEK,EAAAL,EAAAC,cAACglB,GAAAjlB,EAAD,CAAmBc,QAAQ,YAA3B,6EACiB+F,EAAK3F,OAGxBb,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAC/C/U,MAAO,CAAEqT,aAAc,QACvB/G,QAAS,kBAAM/C,EAAK2sB,oBAFtB,+FAOCJ,EAAczgB,IAAI,SAAC8gB,EAAK5gB,GAAN,OAAgB3U,EAAAL,EAAAC,cAAC41B,GAAD,CACjCrgB,IAAKogB,EAAIrmB,IAAM,EACfoC,MAAOikB,EACPjnB,SAAU3F,EAAKoP,aAAapD,GAC5BnJ,SAAU7C,EAAKysB,aAAazgB,OAGL,GAAxBugB,EAAcznB,QAAezN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,mKAGhCT,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeM,UAAWuK,EAAQyH,cAIhCjS,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,WAAWD,MAAM,UAAU2T,KAAK,QAAQlU,UAAWuK,EAAQ4H,IAAK1G,QAAS6F,GACvFvR,EAAAL,EAAAC,cAAC61B,GAAA91B,EAAD,MADF,oCApCG,YAzDwBe,IAAMC,WAuGrC+0B,eACJ,SAAAA,EAAYtsB,GAAO,IAAA0E,EAAA,OAAA/I,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2vB,IACjB5nB,EAAA/I,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA2wB,GAAA5oB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXgX,cAAe,GACfF,OAAQ,GACRjT,KAAM,GACN6gB,WAAY,EACZzM,eAAgB,EAChB2Q,YAAY,EACZC,UAAU,GATK9nB,mFAcjB/H,KAAK8H,SAAL9I,OAAAuF,GAAA,EAAAvF,CAAA,GACK6B,KAAKC,MAAMD,KAAKK,UAAUlB,KAAKqD,MAAMkI,QAD1C,CAEEqkB,YAAa5vB,KAAKqD,MAAMkI,MAAMpC,GAC9B0mB,UAAW7vB,KAAKqD,MAAMkI,MAAMpC,qCAIzB,IAAAsE,EAAAzN,KASL,OAPIA,KAAKgH,MAAMmC,GACL5H,GACLoG,KADK,kBAAA5N,OACkBiG,KAAKgH,MAAMmC,IAAMnJ,KAAKgH,OAExCzF,GACLoG,KADK,iBACkB3H,KAAKgH,QAG9B7E,KAAK,SAAAgL,GACJM,EAAKpK,MAAMkF,SAAS4E,GACpBM,EAAK3F,SAAL9I,OAAAuF,GAAA,EAAAvF,CAAA,GAAmBmO,EAAnB,CAAsByiB,YAAY,OAEnCnR,MAAM,SAAA1b,GAAG,OAAI0K,EAAK3F,SAAS,CAAE+J,OAAQ9O,uCAGjC,IAAA4K,EAAA3N,KACP,OAAOuB,GACJmM,OADI,kBAAA3T,OACqBiG,KAAKgH,MAAMmC,KACpChH,KAAK,SAAAoc,GAAC,OAAI5Q,EAAKtK,MAAMoC,aACrBgZ,MAAM,SAAA1b,GAAG,OAAI4K,EAAK7F,SAAS,CAAE+J,OAAQ9O,2CAIxC,OAAK/C,KAAKgH,MAAMmC,GAGPnJ,KAAK8H,SAAL9I,OAAAuF,GAAA,EAAAvF,CAAA,GACF6B,KAAKC,MAAMD,KAAKK,UAAUlB,KAAKqD,MAAMkI,QADnC,CAELqkB,YAAY,KAJP5vB,KAAKqD,MAAMoC,4CAQb,IAAAqqB,EAAA9vB,KACDuL,EAAQvL,KAAKgH,MAEnB,OACE/M,EAAAL,EAAAC,cAACgU,GAAAjU,EAAD,CAAgBi2B,SAAUtkB,EAAMskB,UAC9B51B,EAAAL,EAAAC,cAACiU,GAAAlU,EAAD,CACEmU,WAAY9T,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,MACZ+L,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE+nB,UAAWtkB,EAAMskB,aAEhD51B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYa,MAAM,UAAUpB,MAAO,CAAE4c,UAAW,QAAhD,yDAEEhc,EAAAL,EAAAC,cAAConB,GAAD,CACE5nB,MAAO,CAAEqW,WAAY,SACrB6N,UAAU,oBAEThS,EAAMV,OAGX5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYa,MAAM,iBAAiB8Q,EAAMuS,OAAOhjB,OAElDb,EAAAL,EAAAC,cAACoU,GAAArU,EAAD,CAAuBP,MAAO,CAAEoT,cAAe,WAC7CxS,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,kFAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa2R,EAAMyS,cAAcljB,QAGjCkF,KAAKgH,MAAM4oB,YAAc31B,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACzBlV,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,6EAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KACEK,EAAAL,EAAAC,cAAConB,GAAD,CACE1D,UAAU,oBAEThS,EAAMV,QAKb5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,iEAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa2R,EAAMmgB,aAGrBzxB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,wFAEET,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa2R,EAAM0T,kBAItBjf,KAAKgH,MAAM4oB,YAAc31B,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACxBlV,EAAAL,EAAAC,cAAC6Y,GAAD,CACEtN,MAAM,4EACN+C,MAAOoD,EAAMV,KACbzG,WAAW,EACXmE,SAAU,SAAC4E,GAAD,OAAO2iB,EAAKhoB,SAAS,CAAE+C,KAAMsC,EAAE8D,OAAO9I,SAChD8H,WAAYzR,GACZ0R,SAAS,qBAGXjW,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,gEACNyF,KAAK,SACL1C,MAAOoD,EAAMmgB,WACbnjB,SAAU,SAAC4E,GAAD,OAAO2iB,EAAKhoB,SAAS,CAAE4jB,WAAYve,EAAE8D,OAAO9I,SACtD/D,WAAW,IAGbnK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUrB,MAAO,CAAE2L,UAAW,UAAlD,yOAEE/K,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,KAAa2R,EAAM0T,kBAItBjf,KAAKgH,MAAM4oB,YAAc31B,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE2L,UAAW,UACjD/K,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAEic,YAAa,SACtB3P,QAAS,kBAAMmqB,EAAKhe,SALtB,kCAUA7X,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,WACRD,MAAM,UACN2T,KAAK,QACLzI,QAAS,kBAAMmqB,EAAKC,eAJtB,oCAUA/vB,KAAKgH,MAAM4oB,YAAc31B,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE2L,UAAW,UAClD/K,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAEic,YAAa,SACtB3P,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE8nB,YAAY,MAL7C,oDAUA31B,EAAAL,EAAAC,cAAC+tB,GAAD,CACE3O,MAAM,6HACNhX,KAAMhI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,gQACNyhB,SAAU,kBAAMyU,EAAKE,UACrB32B,MAAO,CAAE2L,UAAW,UAEpB/K,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,YACN2T,KAAK,SAHP,qEAvKazT,IAAMC,WAyMlByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAM,CACJsR,MAAO,QACPxI,QAAS,KAEXoI,aAAalN,OAAAC,EAAA,EAAAD,CAAA,GACVwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BnS,QAAS,OACToS,cAAe,WAGnBJ,IAAIrN,OAAAC,EAAA,EAAAD,CAAA,GACDwJ,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BE,aAAc,QACdJ,MAAO,WAKEjC,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuCuiB,KCrF1Be,eApNb,SAAAA,EAAY5sB,GAAO,IAAAoE,EAAA7F,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAiwB,IACjBruB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAixB,GAAAlpB,KAAA/G,KAAMqD,KACD2D,OAALS,EAAA,CACEyoB,cAAe,KACfC,KAAM,EACNC,YAAa,GACb5E,MAAO,GACP6E,YAAa,IALfrxB,OAAAC,EAAA,EAAAD,CAAAyI,EAAA,OAMQ,GANRzI,OAAAC,EAAA,EAAAD,CAAAyI,EAAA,WAOY,MAPZzI,OAAAC,EAAA,EAAAD,CAAAyI,EAAA,WAQY,MARZA,GAFiB7F,mFAcC,IAAAgB,EAAA5C,KAClBuB,GACG2L,IAAI,oBACJ/K,KAAK,SAAAhJ,GAAA,IAAG2kB,EAAH3kB,EAAG2kB,OAAH,OAAgBlb,EAAKkF,SAAS,CAAEooB,cAAepS,MAEvD9d,KAAKiN,4CAGG,IAAAlF,EAAA/H,KACR,OAAOuB,GACJ2L,IAAI,UACJ/K,KAAK,SAAAgL,GAAC,OAAIpF,EAAKD,SAAS,CAAE0jB,MAAOre,4CAGxB,IAAAM,EAAAzN,KACZ,OAAIA,KAAKgH,MAAMqpB,YAAY3oB,OAAS,EAC3B1H,KAAKgH,MAAMwkB,MAAMjkB,OAAO,SAAA4F,GAAC,OAA+C,GAA3CA,EAAErS,KAAKw1B,QAAQ7iB,EAAKzG,MAAMqpB,eACpDrwB,KAAKgH,MAAMwkB,6CAGV/qB,GACb,IAAM+U,EAAQ/U,EAAK3F,KAAKy1B,MAAM,KAI9B,OAHA9vB,EAAKktB,UAAYnY,EAAM,GACvB/U,EAAKmtB,SAAWpY,EAAM,GACtB/U,EAAKutB,eAAiBwC,SAAS/vB,EAAKutB,iBAAmB,GAChDvtB,8CAGWA,EAAM0uB,GACxB,IAAMvgB,EAAQ5O,KAAKgH,MAAMwkB,MAAMjJ,UAAU,SAAApV,GAAC,OAAIA,EAAEhE,IAAM1I,EAAK0I,KACrDqiB,EAAQxrB,KAAKgH,MAAMwkB,MACzBA,EAAM5c,GAAOugB,cAAgBA,EAC7BnvB,KAAK8H,SAAS,CAAE0jB,QAAOiF,SAAUjF,EAAM5c,oCAGlCA,GAAO,IAAAjB,EAAA3N,KACNwrB,EAAQxrB,KAAKgH,MAAMwkB,MAEzB,OAAOjqB,GACJmM,OADI,UAAA3T,OACayxB,EAAM5c,GAAOzF,KAC9BhH,KAAK,SAAAoc,GACJiN,EAAM9L,OAAO9Q,EAAO,GACpBjB,EAAK7F,SAAS,CAAE0jB,YAEjB/M,MAAM,SAAA1b,GAAG,OAAI,wCAGT,IAAA+sB,EAAA9vB,KAAA0wB,EACoC1wB,KAAKgH,MAAxCqpB,EADDK,EACCL,YAAaF,EADdO,EACcP,KAAMC,EADpBM,EACoBN,YACrB5E,EAAQxrB,KAAK2wB,YAAYN,GAE/B,OACEp2B,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOP,MAAO,CAAEyK,QAAS,SACvB7J,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YAApB,sEACAT,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE8oB,SAAUxD,GAAUlgB,UAA5G,mFAGAjT,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,6EACN+C,MAAOkoB,EACPjsB,WAAW,EACXmE,SAAU,SAAC4E,GAAD,OAAO2iB,EAAKhoB,SAAS,CAAEuoB,YAAaljB,EAAE8D,OAAO9I,WAGzDlO,EAAAL,EAAAC,cAACg3B,GAAD,CACEpwB,KAAMT,KAAKgH,MAAM4pB,SACjBzV,OAA+B,MAAvBnb,KAAKgH,MAAM4pB,SACnBroB,SAAU,WACRunB,EAAKhoB,SAAS,CAAE8oB,SAAU,OAC1Bd,EAAK7iB,WAEPzB,QAAS,kBAAMskB,EAAKhoB,SAAS,CAAE8oB,SAAU,UAG3C32B,EAAAL,EAAAC,cAACi3B,GAAD,CACErwB,KAAMT,KAAKgH,MAAMypB,SACjB3S,OAAQ9d,KAAKgH,MAAMkpB,cACnB/U,OAA+B,MAAvBnb,KAAKgH,MAAMypB,SACnBloB,SAAU,SAAC4mB,GAAD,OAAmBW,EAAKiB,oBAAoBjB,EAAK9oB,MAAMypB,SAAUtB,IAC3E3jB,QAAS,kBAAMskB,EAAKhoB,SAAS,CAAE2oB,SAAU,UAG3Cx2B,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQo3B,QAAM,GACZ/2B,EAAAL,EAAAC,cAACwU,GAAAzU,EAAD,CAAOkK,QAAQ,QACb7J,EAAAL,EAAAC,cAACyU,GAAA1U,EAAD,KACEK,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,KACEK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,2BACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,yDACAK,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAE6c,UAAW,WAA/B,8CACAjc,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAE6c,UAAW,WAA/B,kFACAjc,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,QAGJK,EAAAL,EAAAC,cAAC4U,GAAA7U,EAAD,KACG4xB,EAAMyF,MAAMd,EAAOC,GAAcD,EAAO,GAAKC,GAAa1hB,IAAI,SAACjO,EAAMmO,GACpE,OACE3U,EAAAL,EAAAC,cAAC0U,GAAA3U,EAAD,CAAUwV,IAAK3O,EAAK0I,IAClBlP,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAY0G,EAAK0I,KACvBlP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAAS+F,EAAK3F,OAEpCb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAEuc,UAAW,WAC7BnV,EAAKqe,QAIV7kB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KAAY,IAAImH,KAAKN,EAAKywB,WAAWzW,sBACrCxgB,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAE6c,UAAW,WAAazV,EAAK4oB,UAAYpvB,EAAAL,EAAAC,cAACs3B,GAAAv3B,EAAD,CAAUa,MAAM,YAC7ER,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,CAAWP,MAAO,CAAE6c,UAAW,WAAazV,EAAKE,SAAW1G,EAAAL,EAAAC,cAACs3B,GAAAv3B,EAAD,CAAUa,MAAM,YAC5ER,EAAAL,EAAAC,cAAC2U,GAAA5U,EAAD,KACEK,EAAAL,EAAAC,cAACmf,GAAApf,EAAD,CAASqf,MAAM,mDAAWC,UAAU,YAAYC,oBAAqBC,KAAMC,WAAY,KACrFpf,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE8oB,SAAUd,EAAKsB,eAAe3wB,OAEvFxG,EAAAL,EAAAC,cAACw3B,GAAAz3B,EAAD,QAGJK,EAAAL,EAAAC,cAACmf,GAAApf,EAAD,CAASqf,MAAM,+DAAaC,UAAU,YAAYC,oBAAqBC,KAAMC,WAAY,KACvFpf,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE2oB,SAAUhwB,MACnExG,EAAAL,EAAAC,cAACy3B,GAAA13B,EAAD,QAGJK,EAAAL,EAAAC,cAAC+tB,GAAD,CACE3O,MAAM,mIACNhX,KAAMhI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,mMAAkD6G,EAAK3F,MAC7DugB,SAAU,kBAAMyU,EAAKE,OAAOphB,KAE5B3U,EAAAL,EAAAC,cAACmf,GAAApf,EAAD,CAASqf,MAAM,yDAAYC,UAAU,YAAYC,oBAAqBC,KAAMC,WAAY,KACtFpf,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,aAChBR,EAAAL,EAAAC,cAAC4V,GAAA7V,EAAD,eAUlBK,EAAAL,EAAAC,cAAC03B,GAAA33B,EAAD,CACEwM,UAAU,MACVmmB,MAAOf,EAAM9jB,OACb0oB,YAAaA,EACboB,mBAAoB,CAAC,GAAI,GAAI,IAC7BC,iBAAiB,wCACjBC,mBAAoB,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMtiB,EAATqiB,EAASriB,GAAIid,EAAboF,EAAapF,MAAb,SAAAxyB,OAA4B63B,EAA5B,KAAA73B,OAAoCuV,EAApC,kBAAAvV,OAA6CwyB,IACjE4D,KAAMA,EACN0B,aAAc,SAAC1kB,EAAGgjB,GAAJ,OAAaL,EAAKhoB,SAAS,CAAEqoB,UAC3C2B,oBAAqB,SAAA3kB,GAAC,OAAI2iB,EAAKhoB,SAAS,CAAEsoB,YAAajjB,EAAE8D,OAAO9I,MAAOgoB,KAAM,QAIjFl2B,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQm4B,MAAI,GACV93B,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACG4xB,EAAM9c,IAAI,SAACjO,EAAMmO,GAChB,OACE3U,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,CAAgBC,IAAKR,GACnB3U,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAUP,MAAO,CAAEyK,QAAS,IAAKxJ,eAAgB,kBAC/CL,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAE,UAAAvV,OAAY0G,EAAK0I,KACvBlP,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,SAAS+F,EAAK3F,OAEpCb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYP,MAAO,CAAEuc,UAAW,WAC7BnV,EAAKqe,QAIV7kB,EAAAL,EAAAC,cAAA,WACEI,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE8oB,SAAUd,EAAKsB,eAAe3wB,OACvFxG,EAAAL,EAAAC,cAACo4B,GAAAr4B,EAAD,OAEFK,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAMmqB,EAAKhoB,SAAS,CAAE2oB,SAAUhwB,MACnExG,EAAAL,EAAAC,cAACy3B,GAAA13B,EAAD,OAEFK,EAAAL,EAAAC,cAAC+tB,GAAD,CACE3O,MAAM,mIACNhX,KAAMhI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,mMAAkD6G,EAAK3F,MAC7DugB,SAAU,kBAAMyU,EAAKE,OAAOphB,KAE5B3U,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,aAChBR,EAAAL,EAAAC,cAAC4V,GAAA7V,EAAD,UAKRK,EAAAL,EAAAC,cAACq4B,GAAAt4B,EAAD,oBAxMAe,IAAMC,8OCuEXu3B,eApFb,SAAAA,EAAY9uB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAmyB,IACjBvwB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAmzB,GAAAprB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXorB,YAAY,GAHGxwB,wEAOV,IAAAgB,EAAA5C,KAAAgI,EACmChI,KAAKqD,MAAvCgvB,EADDrqB,EACCqqB,OAAQ5tB,EADTuD,EACSvD,QAAS6tB,EADlBtqB,EACkBsqB,aAEzB,OACEr4B,EAAAL,EAAAC,cAAC04B,GAAA34B,EAAD,CAASM,UAAWuK,EAAQzJ,MAE1Bf,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQyiB,QAAM,GACXgW,EAAO3jB,IAAI,SAAA8jB,GACV,OACEv4B,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAIkjB,EAAMljB,GAAIF,IAAKojB,EAAMrpB,IAC7BlP,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,UAAU2T,KAAK,QAAQ1T,QAAS83B,EAAMrpB,IAAMmpB,EAAe,WAAa,QACnFE,EAAM13B,SAMfb,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,UAAU2T,KAAK,QAAQzI,QAAS,kBAAM9K,EAAc,gBAAlE,6BAMFZ,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GACVtiB,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,MACrEn4B,EAAAL,EAAAC,cAAC44B,GAAA74B,EAAD,QAIJK,EAAAL,EAAAC,cAAC64B,GAAA94B,EAAD,CACE+4B,OAAO,QACPjnB,KAAM1L,KAAKgH,MAAMorB,WACjB5mB,QAAS,kBAAM5I,EAAKkF,SAAS,CAAEsqB,YAAY,MAG3Cn4B,EAAAL,EAAAC,cAAA,OACER,MAAO,CAAEiT,MAAO,SAChBnH,SAAU,EACVytB,KAAK,SACLjtB,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,KAC3CS,UAAW,kBAAMjwB,EAAKkF,SAAS,CAAEsqB,YAAY,MAE7Cn4B,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQC,eAAgB,WAAY0K,UAAW,SACpE/K,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GACVtiB,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAY+L,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,MACrDn4B,EAAAL,EAAAC,cAAC44B,GAAA74B,EAAD,SAKNK,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACGy4B,EAAO3jB,IAAI,SAAA8jB,GACV,OACEv4B,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAIkjB,EAAMljB,GAAIF,IAAKojB,EAAMrpB,IAC7BlP,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAU8mB,QAAM,GACb8R,EAAMM,MAAQ74B,EAAAL,EAAAC,cAACk5B,GAAAn5B,EAAD,KACbK,EAAAL,EAAAC,cAAC24B,EAAMM,KAAP,OAEF74B,EAAAL,EAAAC,cAACm5B,GAAAp5B,EAAD,CAAciP,QAAS2pB,EAAM13B,WAMrCb,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAU8mB,QAAM,GACdzmB,EAAAL,EAAAC,cAACk5B,GAAAn5B,EAAD,KACEK,EAAAL,EAAAC,cAACo5B,GAAAr5B,EAAD,OAEFK,EAAAL,EAAAC,cAACm5B,GAAAp5B,EAAD,CAAciP,QAAQ,2BAAOlD,QAAS,kBAAM9K,EAAc,6BA5EtDF,IAAMC,qDCyGXs4B,eAtGb,SAAAA,EAAY7vB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAkzB,IACjBtxB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAk0B,GAAAnsB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXorB,YAAY,GAHGxwB,wEAOV,IAAAgB,EAAA5C,KAAAgI,EACqDhI,KAAKqD,MAAzDgvB,EADDrqB,EACCqqB,OAAQc,EADTnrB,EACSmrB,iBAAkB1uB,EAD3BuD,EAC2BvD,QAAS6tB,EADpCtqB,EACoCsqB,aAE3C,OACEr4B,EAAAL,EAAAC,cAAC04B,GAAA34B,EAAD,CAASM,UAAWuK,EAAQzJ,MAE1Bf,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQyiB,QAAM,GACXgW,EAAO3jB,IAAI,SAAA8jB,GACV,OACEv4B,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAIkjB,EAAMljB,GAAIF,IAAKojB,EAAMrpB,IAC7BlP,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQa,MAAM,UAAU2T,KAAK,QAAQ1T,QAAS83B,EAAMrpB,IAAMmpB,EAAe,WAAa,QACnFE,EAAM13B,SAKfb,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,MACrEn4B,EAAAL,EAAAC,cAACu5B,GAAAx5B,EAAD,QAKJK,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GACVtiB,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAYa,MAAM,UAAUkL,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,MACrEn4B,EAAAL,EAAAC,cAAC44B,GAAA74B,EAAD,QAIJK,EAAAL,EAAAC,cAAC64B,GAAA94B,EAAD,CACE+4B,OAAO,QACPjnB,KAAM1L,KAAKgH,MAAMorB,WACjB5mB,QAAS,kBAAM5I,EAAKkF,SAAS,CAAEsqB,YAAY,MAG3Cn4B,EAAAL,EAAAC,cAAA,OACEK,UAAWuK,EAAQ4uB,KACnBluB,SAAU,EACVytB,KAAK,SACLjtB,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,KAC3CS,UAAW,kBAAMjwB,EAAKkF,SAAS,CAAEsqB,YAAY,MAE7Cn4B,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQC,eAAgB,WAAY0K,UAAW,SACpE/K,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GACVtiB,EAAAL,EAAAC,cAACqlB,GAAAtlB,EAAD,CAAY+L,QAAS,kBAAM/C,EAAKkF,SAAS,CAAEsqB,YAAY,MACrDn4B,EAAAL,EAAAC,cAAC44B,GAAA74B,EAAD,SAINK,EAAAL,EAAAC,cAACuiB,GAAAxiB,EAAD,CAAQ2iB,MAAI,GACVtiB,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACGy4B,EAAO3jB,IAAI,SAAA8jB,GACV,OACEv4B,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAIkjB,EAAMljB,GAAIF,IAAKojB,EAAMrpB,IAC7BlP,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAU8mB,QAAM,GACb8R,EAAMM,MAAQ74B,EAAAL,EAAAC,cAACk5B,GAAAn5B,EAAD,KACbK,EAAAL,EAAAC,cAAC24B,EAAMM,KAAP,OAEF74B,EAAAL,EAAAC,cAACm5B,GAAAp5B,EAAD,CAAciP,QAAS2pB,EAAM13B,YAMvCb,EAAAL,EAAAC,cAACq4B,GAAAt4B,EAAD,OAGFK,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACGu5B,EAAiBzkB,IAAI,SAAA8jB,GACpB,OACEv4B,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAIkjB,EAAMljB,GAAIF,IAAKojB,EAAMrpB,IAC7BlP,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAU8mB,QAAM,GACb8R,EAAMM,MAAQ74B,EAAAL,EAAAC,cAACk5B,GAAAn5B,EAAD,KACbK,EAAAL,EAAAC,cAAC24B,EAAMM,KAAP,OAEF74B,EAAAL,EAAAC,cAACm5B,GAAAp5B,EAAD,CAAciP,QAAS2pB,EAAM13B,WAKrCb,EAAAL,EAAAC,cAAA,SACEI,EAAAL,EAAAC,cAACm4B,GAAAp4B,EAAD,CAAU8mB,QAAM,EAAC/a,QAAS,kBAAM7F,GAAYwzB,WAC1Cr5B,EAAAL,EAAAC,cAACk5B,GAAAn5B,EAAD,KACEK,EAAAL,EAAAC,cAAC05B,GAAA35B,EAAD,OAEFK,EAAAL,EAAAC,cAACm5B,GAAAp5B,EAAD,CAAciP,QAAQ,gDA5FpBlO,IAAMC,WCNpBmP,GAAS,iBAAO,CACpB/O,KAAM,CACJV,eAAgB,WAChBma,aAAc,GAEhB4e,KAAM,CACJ/mB,MAAO,WAkCJ,SAASknB,GAAWnB,EAAQc,GACjC,OAAO,SAACM,GACN,gBAAA7X,GAAA,SAAAC,IAAA,OAAA7c,OAAAe,EAAA,EAAAf,CAAAgB,KAAA6b,GAAA7c,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA6c,GAAAC,MAAA9b,KAAA+b,YAAA,OAAA/c,OAAAgd,EAAA,EAAAhd,CAAA6c,EAAAD,GAAA5c,OAAAid,EAAA,EAAAjd,CAAA6c,EAAA,EAAAzM,IAAA,SAAAjH,MAAA,WAEI,OAAOlO,EAAAL,EAAAC,cAAC45B,EAADz0B,OAAAuE,OAAA,GAAsBvD,KAAKqD,MAA3B,CAAkCgvB,OAAQA,EAAQc,iBAAkBA,SAF/EtX,EAAA,CAAqBlhB,IAAMC,YAQhB,IAAA84B,GAAA,IAvCb,SAAAC,IAAe30B,OAAAe,EAAA,EAAAf,CAAAgB,KAAA2zB,GACb3zB,KAAKqyB,OAAS,CACZ,CAAElpB,GAAI,EAAGmG,GAAI,YAAaxU,KAAM,uCAAUg4B,KAAMc,MAChD,CAAEzqB,GAAI,EAAGmG,GAAI,YAAaxU,KAAM,+CAGlCkF,KAAK6zB,YAAc,CACjB,CAAE1qB,GAAI,EAAGmG,GAAI,eAAgBxU,KAAM,qEAAeg4B,KAAMgB,MACxD,CAAE3qB,GAAI,EAAGmG,GAAI,iBAAkBxU,KAAM,uCAAUg4B,KAAMiB,MACrD,CAAE5qB,GAAI,EAAGmG,GAAI,gBAAiBxU,KAAM,6CAAWg4B,KAAMkB,MACrD,CAAE7qB,GAAI,EAAGmG,GAAI,oBAAqBxU,KAAM,6CAAWg4B,KAAMmB,OAK3Dj0B,KAAKk0B,WAAa,CAChB,CAAE/qB,GAAI,EAAGmG,GAAI,WAAYxU,KAAM,uCAAUg4B,KAAMgB,OAGjD9zB,KAAKmyB,MAAQqB,GAAWxzB,KAAKqyB,OAAhBmB,CAAwBnpB,qBAAWN,GAAXM,CAAmB8nB,KACxDnyB,KAAKm0B,KAAOX,GAAWxzB,KAAKqyB,OAAQryB,KAAKk0B,WAA7BV,CAAyCnpB,qBAAWN,GAAXM,CAAmB6oB,KACxElzB,KAAKkzB,MAAQM,GAAWxzB,KAAKqyB,OAAQryB,KAAK6zB,YAA7BL,CAA0CnpB,qBAAWN,GAAXM,CAAmB6oB,KArB9D,IAAAjzB,EAuBmBtF,IAAMuF,cAAc,GAA3CC,EAvBIF,EAuBJE,SAAUC,EAvBNH,EAuBMG,SAClBJ,KAAKo0B,gBAAkBj0B,EACvBH,KAAKq0B,iBAAmBj0B,wBClCtBk0B,eACJ,SAAAA,EAAYjxB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAs0B,IACjB1yB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAs1B,GAAAvtB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXutB,aAAcz0B,GAAYY,UAC1BD,KAAM,GACN0uB,cAAe,KACf3I,aAAc,KACdgO,eAAe,EACfC,cAAc,GARC7yB,mFAajB5B,KAAKiN,4CAGG,IAAArK,EAAA5C,KACFmJ,EAAKnJ,KAAKqD,MAAMgS,MAAMuC,OAAOzO,IAAMnJ,KAAKgH,MAAMutB,aAAaprB,GACjE,OAAO5H,GACJ2L,IADI,UAAAnT,OACUoP,IACdhH,KAAK,SAAAgL,GAAC,OAAIvK,EAAKkF,SAASqF,sCAGpB,IAAApF,EAAA/H,KAAAyH,EACoEzH,KAAKgH,MAAxEvG,EADDgH,EACChH,KAAM+lB,EADP/e,EACO+e,aAAc2I,EADrB1nB,EACqB0nB,cAAeqF,EADpC/sB,EACoC+sB,cAAeC,EADnDhtB,EACmDgtB,aADnDzsB,EAEmBhI,KAAKqD,MAAjBoB,GAFPuD,EAEChG,KAFDgG,EAEOvD,SAEd,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAM6K,QAAS,CAAEzJ,KAAMyJ,EAAQiwB,cAC7Bz6B,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQkwB,kBACpC16B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY6K,QAAS,CAAEzJ,KAAMyJ,EAAQmwB,iBAAmBl6B,QAAQ,YAAY+F,EAAK3F,OAMnFb,EAAAL,EAAAC,cAACkb,GAAAnb,EAAD,OAIe,MAAhB4sB,GAAwBvsB,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAM6K,QAAS,CAAEzJ,KAAMyJ,EAAQiwB,cACtDz6B,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQkwB,kBACpC16B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACEc,QAAQ,WACR+J,QAAS,CAAEzJ,KAAMyJ,EAAQmwB,iBACzBjvB,QAAS,kBAAMoC,EAAKD,SAAS,CAAE2sB,cAAeA,MAE9Cx6B,EAAAL,EAAAC,cAAA,4EACAI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,MAAtB,uGACuB3F,EAAK2tB,iBAE3BqG,GAAgBx6B,EAAAL,EAAAC,cAACg7B,GAAAj7B,EAAD,OACf66B,GAAgBx6B,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,OAEnB66B,GACIx6B,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACDlV,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACG4sB,EAAa9X,IAAI,SAAAkP,GAChB,OACE3jB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY6K,QAAS,CAAEzJ,KAAMyJ,EAAQqwB,cAAgB1lB,IAAKwO,EAAYzU,IACnEmU,GAAUM,EAAY/S,KAAM,yBAC7B5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,UAAUrB,MAAO,CAAEgB,QAAS,SAAUqV,WAAY,SAAWkO,EAAYC,MAAM/iB,OAClH8iB,EAAYyL,UAAYpvB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO3L,MAAM,aAAnC,oDAC1BR,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAClCkjB,EAAYE,OAAOhjB,KACpBb,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,SAAW,IAAI3O,KAAK6c,EAAYrK,MAAMkH,sBACjExgB,EAAAL,EAAAC,cAAA,QAAMR,MAAO,CAAEqW,WAAY,SACxB+N,GAAQG,EAAYF,MADvB,MACiCD,GAAQG,EAAYF,KAAO,SAO9C,GAAvB8I,EAAa9e,QAAezN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,sKAKnB,MAAjBy0B,GAAyBl1B,EAAAL,EAAAC,cAACua,GAAAxa,EAAD,CAAM6K,QAAS,CAAEzJ,KAAMyJ,EAAQiwB,cACvDz6B,EAAAL,EAAAC,cAACya,GAAA1a,EAAD,CAAa6K,QAAS,CAAEzJ,KAAMyJ,EAAQkwB,kBACpC16B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACEc,QAAQ,WACR+J,QAAS,CAAEzJ,KAAMyJ,EAAQmwB,iBACzBjvB,QAAS,kBAAMoC,EAAKD,SAAS,CAAE0sB,eAAgBA,MAE/Cv6B,EAAAL,EAAAC,cAAA,4EACAI,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,MAAtB,6GACwB3F,EAAK4tB,iBAD7B,iBAGCmG,GAAiBv6B,EAAAL,EAAAC,cAACg7B,GAAAj7B,EAAD,OAChB46B,GAAiBv6B,EAAAL,EAAAC,cAACmU,GAAApU,EAAD,OAEpB46B,GACIv6B,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACDlV,EAAAL,EAAAC,cAACohB,GAAArhB,EAAD,KACGu1B,EAAczgB,IAAI,SAAAyP,GACjB,OACElkB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY6K,QAAS,CAAEzJ,KAAMyJ,EAAQqwB,cAAgB1lB,IAAK+O,EAAahV,IAAvE,0DACamU,GAAUa,EAAatT,KAAM,oBACxC5Q,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,UAAUrB,MAAO,CAAEgB,QAAS,SAAUqV,WAAY,SAAWyO,EAAaL,OAAOhjB,MACtHb,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYwM,UAAU,OAAO1L,QAAQ,WAAWyjB,EAAac,eAA7D,8FAKiB,GAAxBkQ,EAAcznB,QAAezN,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAApB,8KA5GpBC,IAAMC,WAwIjByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBksB,YAAa,CACXhoB,aAAc,QAEhBioB,gBAAiB,CACfI,eAAgB,IAGlBH,gBAAiB,CACf5wB,OAAQ,UACR3J,QAAS,OACTC,eAAgB,iBAElBw6B,aAAc,CACZhxB,QAAS,UACT+L,aAAc,yBAIHxF,CAAmBiqB,IChJ5BU,eACJ,SAAAA,EAAY3xB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAg1B,IACjBpzB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAg2B,GAAAjuB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXjE,KAAK,EACLkyB,SAAS,EACTC,MAAO,GAETtzB,EAAKuzB,SAAW,KAPCvzB,mFAUC,IAAAgB,EAAA5C,KACZY,EAAQZ,KAAKqD,MAAML,SAASoyB,OAAO7E,MAAM,WAAW,GAC1D,OAAOhvB,GACJ2L,IADI,2BAAAnT,OAC2B6G,IAC/BuB,KAAK,SAAAoc,GACJ3b,EAAKkF,SAAS,CAAEmtB,SAAS,EAAMlyB,KAAK,IACpCH,EAAKuyB,SAAWE,YAAY,WACD,IAArBzyB,EAAKoE,MAAMkuB,OACbI,cAAc1yB,EAAKuyB,UACnBvyB,EAAKS,MAAMkyB,QAAQtyB,QAAQ,MAE3BL,EAAKkF,SAAS,CAAEotB,MAAOtyB,EAAKoE,MAAMkuB,MAAQ,KAE3C,OAEJzW,MAAM,SAAAF,GAAC,OAAI3b,EAAKkF,SAAS,CAAE/E,KAAK,EAAMkyB,SAAS,uCAG3C,IACCxwB,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACbD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAOM,UAAWuK,EAAQzJ,MACxBf,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,YAAnC,sGACCsF,KAAKgH,MAAMiuB,SAAWh7B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,aAAaD,MAAM,UAAUP,UAAWuK,EAAQwwB,SAAnF,kOAItBj1B,KAAKgH,MAAMiuB,SAAWh7B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,WAAWrB,MAAO,CAAEgN,WAAY,IAAK0E,SAAU,UAAY/K,KAAKgH,MAAMkuB,OAE/Hl1B,KAAKgH,MAAMjE,KAAO9I,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAY0tB,MAAM,SAAS5sB,QAAQ,aAAaD,MAAM,YAAYP,UAAWuK,EAAQ2L,OAArF,+NA1CGzV,IAAMC,WAsEvByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAKgE,OAAAC,EAAA,EAAAD,CAAA,CACH8E,QAAS,QACR0E,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BpS,OAAQ,UAGZ66B,QAAS,CACPjwB,UAAW,OACXvK,MAAO+N,EAAMG,QAAQE,QAAQwc,KAC7Bhf,WAAY,OAEd+J,MAAO,CACLpL,UAAW,OACXvK,MAAO+N,EAAMG,QAAQoH,UAAUsV,KAC/Bhf,WAAY,SAIDgE,CAAmB2qB,ICpE5BQ,eACJ,SAAAA,EAAYnyB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAw1B,IACjB5zB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAw2B,GAAAzuB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX8X,MAAO,GACP1O,MAAO,KACP6kB,SAAS,GALMrzB,mFASC,IAAAgB,EAAA5C,KAElB,OADAA,KAAK8H,SAAS,CAAEsI,MAAO,KAAM6kB,SAAS,IAC/B1zB,GACJ2L,IADI,+BAAAnT,OAC+BiG,KAAKgH,MAAM8X,QAC9C3c,KAAK,SAAAoc,GACJ3b,EAAKkF,SAAS,CAAEmtB,SAAS,IACzBQ,WAAW,kBAAM7yB,EAAKS,MAAMkyB,QAAQtyB,QAAQ,MAAM,OAEnDwb,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAEsI,MAAOrN,uCAGhC,IAAAgF,EAAA/H,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QAER,OAAOxK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACpBD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAO0f,UAAW,EAAGpf,UAAWuK,EAAQzJ,MACtCf,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YAApB,iMACAT,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,QACH/D,MAAM,SACNyF,KAAK,OACL1C,MAAOnI,KAAKgH,MAAM8X,MAClB1a,WAAW,EACXgM,MAAOpQ,KAAKgH,MAAMoJ,MAClB7H,SAAU,SAAA4E,GAAC,OAAIpF,EAAKD,SAAS,CAAEgX,MAAO3R,EAAE8D,OAAO9I,WAGhDnI,KAAKgH,MAAMiuB,SAAWh7B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACrBc,QAAQ,aACRD,MAAM,UACNP,UAAWuK,EAAQwwB,SAHE,uVAOtBj1B,KAAKgH,MAAMoJ,OAASnW,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACnBc,QAAQ,aACRD,MAAM,YACNP,UAAWuK,EAAQ2L,OAClBpQ,KAAKgH,MAAMoJ,MAAM0X,SAGpB7tB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE2L,UAAW,OAAQlB,QAAS,UACrC6B,QAAS,kBAAMoC,EAAK2tB,sBALtB,uDAnDoB/6B,IAAMC,WAoFnByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAKgE,OAAAC,EAAA,EAAAD,CAAA,CACH8E,QAAS,QACR0E,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BpS,OAAQ,UAGZ66B,QAAS,CACPjwB,UAAW,OACXvK,MAAO+N,EAAMG,QAAQE,QAAQwc,KAC7Bhf,WAAY,OAEd+J,MAAO,CACLpL,UAAW,OACXvK,MAAO+N,EAAMG,QAAQoH,UAAUsV,KAC/Bhf,WAAY,SAIDgE,CAAmBmrB,ICpF5BG,eACJ,SAAAA,EAAYtyB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA21B,IACjB/zB,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA22B,GAAA5uB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXpG,MAAO,GACP6sB,SAAU,GACVC,gBAAiB,GACjBtd,MAAO,KACP6kB,SAAS,GAPMrzB,mFAYjB5B,KAAK8H,SAAS,CAAElH,MAAOZ,KAAKqD,MAAML,SAASoyB,OAAO7E,MAAM,WAAW,uCAG3D,IAAA3tB,EAAA5C,KAER,OADAA,KAAK8H,SAAS,CAAEsI,MAAO,KAAM6kB,SAAS,IAC/B1zB,GACJoG,KADI,wBAC0B,CAAE/G,MAAOZ,KAAKgH,MAAMpG,MAAO6sB,SAAUztB,KAAKgH,MAAMymB,SAAUC,gBAAiB1tB,KAAKgH,MAAM0mB,kBACpHvrB,KAAK,SAAAoc,GACJ3b,EAAKkF,SAAS,CAAEmtB,SAAS,IACzBQ,WAAW,kBAAM7yB,EAAKS,MAAMkyB,QAAQtyB,QAAQ,MAAM,OAEnDwb,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAEsI,MAAOrN,uCAGhC,IAAAgF,EAAA/H,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QAER,OAAOxK,EAAAL,EAAAC,cAAA,OAAKK,UAAU,aACpBD,EAAAL,EAAAC,cAACM,EAAAP,EAAD,CAAO0f,UAAW,EAAGpf,UAAWuK,EAAQzJ,MACtCf,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,YAApB,iMAEAT,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,WACH/D,MAAM,uCACNyF,KAAK,WACL1C,MAAOnI,KAAKgH,MAAMymB,SAClBrpB,WAAW,EACXgM,MAAOpQ,KAAKgH,MAAMoJ,MAClB7H,SAAU,SAAA4E,GAAC,OAAIpF,EAAKD,SAAS,CAAE2lB,SAAUtgB,EAAE8D,OAAO9I,WAGpDlO,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEuP,GAAG,kBACH/D,MAAM,kFACNyF,KAAK,WACL1C,MAAOnI,KAAKgH,MAAM0mB,gBAClBtpB,WAAW,EACXgM,MAAOpQ,KAAKgH,MAAMoJ,MAClB7H,SAAU,SAAA4E,GAAC,OAAIpF,EAAKD,SAAS,CAAE4lB,gBAAiBvgB,EAAE8D,OAAO9I,WAG1DnI,KAAKgH,MAAMiuB,SAAWh7B,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACrBc,QAAQ,aACRD,MAAM,UACNP,UAAWuK,EAAQwwB,SAHE,8LAOtBj1B,KAAKgH,MAAMoJ,OAASnW,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CACnBc,QAAQ,aACRD,MAAM,YACNP,UAAWuK,EAAQ2L,OAClBpQ,KAAKgH,MAAMoJ,MAAM0X,SAGpB7tB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CACEc,QAAQ,YACRD,MAAM,UACN2T,KAAK,QACL/U,MAAO,CAAE2L,UAAW,OAAQlB,QAAS,UACrC6B,QAAS,kBAAMoC,EAAK6tB,YALtB,2FApEoBj7B,IAAMC,WAqGnByP,wBAnBA,SAAC7B,GAAD,MAAY,CACzBxN,KAAKgE,OAAAC,EAAA,EAAAD,CAAA,CACH8E,QAAS,QACR0E,EAAM+D,YAAYC,KAAK,MAAQ,CAC9BpS,OAAQ,UAGZ66B,QAAS,CACPjwB,UAAW,OACXvK,MAAO+N,EAAMG,QAAQE,QAAQwc,KAC7Bhf,WAAY,OAEd+J,MAAO,CACLpL,UAAW,OACXvK,MAAO+N,EAAMG,QAAQoH,UAAUsV,KAC/Bhf,WAAY,SAIDgE,CAAmBsrB,IC1F5BE,GAAe,CACnBC,YAAazP,GACb0P,WAAY/7B,EACZg8B,gBAAiBpM,GACjBqM,iBAAkB3L,GAClB4L,eAAgBjG,GAChBkG,oBAAqBC,GACrBC,WAAY/B,IA8CCgC,GA3CI,kBACjBr8B,EAAAL,EAAAC,cAACgG,GAAYS,oBAAb,KACG,SAAA0B,GAAI,OAAI/H,EAAAL,EAAAC,cAACse,EAAA,EAAD,KAGPle,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,YAAYjS,UAAW8W,KACnCjjB,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,WAAWjS,UAAW8R,KAClCje,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,2BAA2BjS,UAAWsS,KAEjDib,GAAgBtB,OAAO3jB,IAAI,SAAA8jB,GAC1B,OACEv4B,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOhJ,IAAKojB,EAAMrpB,GAAIkP,KAAMma,EAAMljB,GAAIlJ,UAAWyvB,GAAarD,EAAMljB,IAAKtN,KAAMA,MAIlFA,GAAQnG,EAAgBG,OAAS23B,GAAgBE,YAAYnlB,IAAI,SAAA8jB,GAChE,OACEv4B,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOhJ,IAAKojB,EAAMrpB,GAAIkP,KAAMma,EAAMljB,GAAIlJ,UAAWyvB,GAAarD,EAAMljB,IAAKtN,KAAMA,MAIlFA,GAAQnG,EAAgBE,MAAQ43B,GAAgBO,WAAWxlB,IAAI,SAAA8jB,GAC9D,OACEv4B,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOhJ,IAAKojB,EAAMrpB,GAAIkP,KAAMma,EAAMljB,GAAIlJ,UAAWyvB,GAAarD,EAAMljB,IAAKtN,KAAMA,OAIjFA,GAAQnG,EAAgBE,MAAQiG,GAAQnG,EAAgBG,QACrD/B,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,aAAaC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAAC08B,GAADv3B,OAAAuE,OAAA,GAAiBF,EAAjB,CAAwBrB,KAAMA,QAE/E/H,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,QAAQjS,UAAWpM,IAC/BC,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,sBAAsBC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAAC28B,GAAsBnzB,MAC5EpJ,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,kBAAkBC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAAC48B,GAAkBpzB,MACpEpJ,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOC,KAAK,kBAAkBC,OAAQ,SAACjV,GAAD,OAAWpJ,EAAAL,EAAAC,cAAC68B,GAAkBrzB,MACpEpJ,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOgF,OAAK,EAAC/E,KAAK,KAChBpe,EAAAL,EAAAC,cAAC88B,EAAA,EAAD,CAAUrnB,GAAG,eAEfrV,EAAAL,EAAAC,cAACue,EAAA,EAAD,CAAOhS,UAAWpM,6BCvClB48B,eACJ,SAAAA,EAAYvzB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA42B,IACjBh1B,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA43B,GAAA7vB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX8X,MAAO,GACP2O,SAAU,GACVoJ,UAAU,GAGZj1B,EAAKoQ,aAAe,SAAClX,GAAD,OAAU,SAACK,GAC7ByG,EAAKkG,SAAL9I,OAAAC,EAAA,EAAAD,CAAA,GACGlE,EAAOK,EAAM8V,OAAO9I,UAVRvG,uEAeX,IAAAgB,EAAA5C,KACNuB,GACGoG,KADH,SACkB3H,KAAKgH,OACpB7E,KAAK,SAAAhJ,GAAe,IAAZyH,EAAYzH,EAAZyH,MACPd,GAAYg3B,MAAMl2B,GAClBgC,EAAKS,MAAMmI,YAEZiT,MAAM,WACL7b,EAAKkF,SAAS,CAAE+uB,UAAU,uCAKvB,IAAA9uB,EAAA/H,KACCyE,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAAA,QAAMK,UAAWuK,EAAQsyB,KAAMlE,UAAW,SAAA1lB,GAAC,MAAc,UAAVA,EAAEiC,IAAkBrH,EAAK+uB,QAAU,OAChF78B,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,QACNhB,WAAW,EACX+D,MAAOnI,KAAKgH,MAAM8X,MAClBvW,SAAUvI,KAAKgS,aAAa,WAG9B/X,EAAAL,EAAAC,cAACsK,GAAAvK,EAAD,CACEwL,MAAM,uCACNhB,WAAW,EACXyG,KAAK,WACL1C,MAAOnI,KAAKgH,MAAMymB,SAClBllB,SAAUvI,KAAKgS,aAAa,cAG9B/X,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAEgB,QAAS,OAAQC,eAAgB,WAC7CL,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAAQ/U,MAAO,CAAE2L,UAAW,OAAQlB,QAAS,UAC5F6B,QAAS,kBAAMoC,EAAK+uB,UADtB,6BAMD92B,KAAKgH,MAAM6vB,UAAY58B,EAAAL,EAAAC,cAAA,MAAIR,MAAO,CAAEoB,MAAO,MAAOuK,UAAW,UAAtC,kRACxB/K,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE2L,UAAW,QAAS3K,QAAS,OAAQC,eAAgB,WACjEL,EAAAL,EAAAC,cAACwV,GAAA,EAAD,CAAMC,GAAG,kBAAkBpV,UAAWuK,EAAQuyB,KAAMrxB,QAAS3F,KAAKqD,MAAMmI,SAAxE,yGA1DU7Q,IAAMC,WAmEXyP,wBArFA,SAAC7B,GAAD,MAAY,CACzBuuB,KAAM,CACJ18B,QAAS,OACToS,cAAe,UAIjBuqB,KAAM,CACJv8B,MAAO+N,EAAMG,QAAQE,QAAQ+G,KAC7B9L,QAAS,UACTyN,UAAW,CACT9W,MAAO+N,EAAMG,QAAQE,QAAQwc,KAC7BxV,aAAc,YACdonB,YAAazuB,EAAMG,QAAQE,QAAQ+G,SAwE1BvF,CAAmBusB,ICxE5BM,eACJ,SAAAA,EAAY7zB,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAk3B,IACjBt1B,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAk4B,GAAAnwB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACXmwB,WAAY,EACZC,UAAW,EAAC,GAAO,GAAO,GAC1B32B,KAAM2sB,GAAUlgB,MAChB2E,OAAQub,GAAU6B,kBAGpBrtB,EAAKoQ,aAAe,SAACC,GAAD,IAAOua,EAAPzQ,UAAArU,OAAA,QAAA2kB,IAAAtQ,UAAA,IAAAA,UAAA,UAA0B,SAAC5gB,GAC7C,IAAIsF,EAAOmB,EAAKoF,MAAMvG,KACtBA,EAAKwR,GAASua,EAASrxB,EAAQA,EAAM8V,OAAO9I,MAC5CvG,EAAKkG,SAAS,CACZrH,KAAMA,MAIVmB,EAAKy1B,WAAa,SAAClvB,GAAD,OAAW,WAC3B,IAAIivB,EAAYx1B,EAAKoF,MAAMowB,UAC3BA,EAAUx1B,EAAKoF,MAAMmwB,aAAc,EACnCv1B,EAAKkG,SAAS,CAAEqvB,WAAYhvB,EAAOivB,UAAWA,MApB/Bx1B,0EAwBR,IAAAgB,EAAA5C,KAET,OADAA,KAAK8H,SAAS,CAAE+J,OAAQub,GAAU6B,mBAC3B1tB,GACJoG,KADI,SACW3H,KAAKgH,MAAMvG,MAC1B0B,KAAK,SAAAoc,GAAC,OAAI3b,EAAKS,MAAMi0B,cACrB7Y,MAAM,SAAA1b,GAAG,OAAIH,EAAKkF,SAAS,CAAE+J,OAAQ9O,uCAGjC,IAAAgF,EAAA/H,KAAAyH,EACyCzH,KAAKgH,MAA7CvG,EADDgH,EACChH,KAA6BoR,GAD9BpK,EACO0vB,WADP1vB,EACmB2vB,UADnB3vB,EAC8BoK,QAC7BpN,EAAYzE,KAAKqD,MAAjBoB,QAER,OACExK,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KAEElV,EAAAL,EAAAC,cAACk1B,GAAU1B,gBAAX,CACE5sB,KAAMA,EACNoR,OAAQA,EACRtJ,SAAUvI,KAAKgS,eAEjB/X,EAAAL,EAAAC,cAACk1B,GAAUxB,mBAAX,CACE9sB,KAAMA,EACNoR,OAAQA,EACRtJ,SAAUvI,KAAKgS,eAOjB/X,EAAAL,EAAAC,cAAA,OAAKR,MAAO,CAAE+Q,OAAQ,WACpBnQ,EAAAL,EAAAC,cAAA,+pBAIAI,EAAAL,EAAAC,cAAA,OAAKK,UAAWuK,EAAQmb,QACtB3lB,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQP,MAAO,CAAEic,YAAa,QAASxR,QAAS,UAAYpJ,QAAQ,YAAY0T,KAAK,QAAQ3T,MAAM,UAAUkL,QAAS,kBAAMoC,EAAKwvB,aAAjI,gFA7DsB58B,IAAMC,WAsGzByP,IA/BW1P,IAAMC,UA+BjByP,qBAlHA,SAAC7B,GAAD,MAAY,CACzBoX,OAAQ,CACN5a,UAAW,OACX3K,QAAS,OACTC,eAAgB,UAElBk9B,QAAS,CACPxyB,UAAW,QACXvK,MAAO,YA0GI4P,CAAmB6sB,KCvF5BO,eACJ,SAAAA,EAAYp0B,GAAO,IAAAzB,EAAA,OAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAAy3B,IACjB71B,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAAy4B,GAAA1wB,KAAA/G,KAAMqD,KACD2D,MAAQ,CACX4H,MAAO,EACPlD,MAAM,EACNgsB,wBAAwB,GAG1B91B,EAAK+1B,gBAAkB,SAACx8B,EAAOyT,GAC7BhN,EAAKkG,SAAS,CAAE8G,WAGlBhN,EAAKg2B,mBAAqB,WACxBh2B,EAAKkG,SAAS,CAAE4vB,wBAAwB,EAAMhsB,MAAM,IACpD+pB,WAAW,kBAAM7zB,EAAKkG,SAAS,CAAE4vB,wBAAwB,KAAU,MAdpD91B,oFAkBE,IAAAgB,EAAA5C,KACnB63B,EAAav8B,WAAW,aAAc,kBAAMsH,EAAKkF,SAAS,CAAE4D,MAAM,uCAG3D,IAAA3D,EAAA/H,KAAAyH,EACyCzH,KAAKgH,MAA7C4H,EADDnH,EACCmH,MAAOlD,EADRjE,EACQiE,KAAMgsB,EADdjwB,EACciwB,uBADd1vB,EAEyBhI,KAAKqD,MAA7BoB,EAFDuD,EAECvD,QAASgH,EAFVzD,EAEUyD,WAEjB,OACExR,EAAAL,EAAAC,cAACI,EAAAL,EAAMuV,SAAP,KACElV,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,KAAMA,EACND,WAAYA,EACZD,QAAS,kBAAMzD,EAAKD,SAAS,CAAE4D,MAAM,EAAOkD,MAAO,KACnDkpB,kBAAgB,gBAEhB79B,EAAAL,EAAAC,cAAC+R,GAAAhS,EAAD,CAAauP,GAAG,eACdjP,UAAWuK,EAAQszB,UAEnB99B,EAAAL,EAAAC,cAACoqB,GAAArqB,EAAD,CACEM,UAAWuK,EAAQuzB,eACnBD,UAAU,EACV5vB,MAAOyG,EACPrG,SAAUvI,KAAK23B,gBACfM,eAAe,UACfhL,UAAU,WAEVhzB,EAAAL,EAAAC,cAACkrB,GAAAnrB,EAAD,CAAKwL,MAAM,2BAAOgK,IAAI,MACtBnV,EAAAL,EAAAC,cAACkrB,GAAAnrB,EAAD,CAAKwL,MAAM,qEAAcgK,IAAI,OAE/BnV,EAAAL,EAAAC,cAAA,QAAMK,UAAWuK,EAAQyzB,SAAUvyB,QAAS,kBAAMoC,EAAKD,SAAS,CAAE4D,MAAM,EAAOkD,MAAO,MACpF3U,EAAAL,EAAAC,cAACoK,GAAArK,EAAD,QAGJK,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,CACEM,UAAWuK,EAAQszB,UACnB99B,EAAAL,EAAAC,cAACs+B,GAAAv+B,EAAD,CACEM,UAAWuK,EAAQuzB,eACnBppB,MAAOA,EACPwpB,cAAe,SAACxpB,GAAD,OAAW7G,EAAK4vB,gBAAgB,KAAM/oB,KAErD3U,EAAAL,EAAAC,cAACw+B,GAAD,CAAO7sB,QAAS,kBAAMzD,EAAKD,SAAS,CAAE4D,MAAM,EAAOkD,MAAO,OAC1D3U,EAAAL,EAAAC,cAACy+B,GAAD,CAAchB,UAAWt3B,KAAK43B,uBAGlC39B,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,OAKFK,EAAAL,EAAAC,cAAC8R,GAAA/R,EAAD,CACE8R,KAAMgsB,EACNjsB,WAAYA,EACZD,QAAS,kBAAMzD,EAAKD,SAAS,CAAE4vB,wBAAwB,KACvDI,kBAAgB,2BAEhB79B,EAAAL,EAAAC,cAACgS,GAAAjS,EAAD,KACEK,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,WAAWD,MAAM,UAAU6sB,MAAM,UAArD,oKAGArtB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,aAAa4sB,MAAM,UAAvC,sdAEArtB,EAAAL,EAAAC,cAACW,EAAAZ,EAAD,CAAYc,QAAQ,UAAUD,MAAM,YAAY6sB,MAAM,UAAtD,srBAKFrtB,EAAAL,EAAAC,cAACoS,GAAArS,EAAD,CAAeP,MAAO,CAAEiB,eAAgB,WACtCL,EAAAL,EAAAC,cAACsS,EAAAvS,EAAD,CAAQc,QAAQ,YAAYD,MAAM,UAAU2T,KAAK,QAC/CzI,QAAS,kBAAMoC,EAAKD,SAAS,CAAE4vB,wBAAwB,MADzD,4CAvFS/8B,IAAMC,WAmGZyP,wBAvHA,SAAC7B,GAAD,MAAY,CACzBuvB,SAAU,CACR19B,QAAS,OACTC,eAAgB,UAElB09B,eAAgB,CACd1rB,MAAO,KAET4rB,SAAU,CACRjtB,SAAU,WACVxQ,MAAO+N,EAAMG,QAAQE,QAAQ+G,KAC7BkZ,IAAK,MACL3d,MAAO,MACPnH,OAAQ,UACRuN,UAAW,CACT9W,MAAO+N,EAAMG,QAAQE,QAAQwc,SAwGpBhb,CACbsC,KAAiB,CAAEC,WAAY,MAA/BD,CAAuC8qB,KCnH1Bc,oLAfX,OACEt+B,EAAAL,EAAAC,cAACgG,GAAYS,oBAAb,KACG,SAAA0B,GAAI,OAAI/H,EAAAL,EAAAC,cAAC65B,GAAgBW,iBAAjB,KACN,SAAA/B,GAAY,OAAIr4B,EAAAL,EAAAC,cAAA,OAAKK,UAAU,YAAYb,MAAO,CAAEgB,QAAS,OAAQC,eAAgB,gBAAiBoS,aAAc,SAAUnS,WAAY,WACzIN,EAAAL,EAAAC,cAAA,OAAKC,IAAI,qBACRkI,GAAQnG,EAAgBC,OAAS7B,EAAAL,EAAAC,cAAC65B,GAAgBvB,MAAjB,CAAuBG,aAAcA,IACtEtwB,GAAQnG,EAAgBE,MAAQ9B,EAAAL,EAAAC,cAAC65B,GAAgBS,KAAjB,CAAsB7B,aAAcA,IACpEtwB,GAAQnG,EAAgBG,OAAS/B,EAAAL,EAAAC,cAAC65B,GAAgBR,MAAjB,CAAuBZ,aAAcA,gBAT1D33B,IAAMC,WCJhB49B,4BAAe,CAC5B7vB,QAAS,CACPE,QAAS,CACP+G,KAAM,UAENwR,aAAc,QAEhBrR,UAAW,CAETH,KAAM,UACNwR,aAAc,SAGlBqX,UAAW,CACTC,eAAgB,CACd19B,KAAM,CACJgK,UAAW,UAGf2zB,cAAe,CACbC,QAAS,CACPhjB,UAAW,UAEbijB,MAAO,CACLp+B,MAAO,YAGXq+B,UAAW,CACTjY,MAAO,CACL9c,OAAQ,UCfVg1B,uBACJ,SAAAA,EAAY11B,GAAO,IAAAzB,EAAA5C,OAAAe,EAAA,EAAAf,CAAAgB,KAAA+4B,GACjBn3B,EAAA5C,OAAA6H,EAAA,EAAA7H,CAAAgB,KAAAhB,OAAA8H,EAAA,EAAA9H,CAAA+5B,GAAAhyB,KAAA/G,KAAMqD,IACN,IAAM5C,EAAOX,GAAYY,UAFR,OAGjBkB,EAAKoF,MAAQ,CACXgyB,gBAAkBv4B,EAChBA,EAAKE,QAAU9E,EAAgBG,MAAQH,EAAgBE,KACrDF,EAAgBC,MACpBw2B,aAAc,GAGhB1wB,EAAKq3B,eAAiB,SAAC99B,EAAOyT,GAC5BhN,EAAKkG,SAAS,CAAE8G,WAXDhN,mFAeC,IAAAgB,EAAA5C,KAClB/E,SAASgH,KAAKi3B,UAAU/qB,IAAI,cAC5B7S,EAAW,YAAa,kBAAMsH,EAAKS,MAAMkyB,QAAQtyB,QAAQ,WACzD3H,EAAW,QAAS,kBAAMsH,EAAKkF,SAAS,CACtCkxB,gBAAiBl5B,GAAYa,UAAY9E,EAAgBG,MAAQH,EAAgBE,SAEnFT,EAAW,SAAU,WACnBsH,EAAKkF,SAAS,CACZkxB,gBAAiBn9B,EAAgBC,QAEnC8G,EAAKS,MAAMkyB,QAAQtyB,QAAQ,OAE7BjD,KAAKm5B,eAAen5B,KAAKqD,MAAML,qDAGdsE,GACbtH,KAAKqD,MAAML,SAASo2B,WAAa9xB,EAAUtE,SAASo2B,UACtDp5B,KAAKm5B,eAAen5B,KAAKqD,MAAML,iDAIpBA,GACb,IAAIwvB,EAASmB,GAAgBtB,OAC1Bpb,KAAK,SAAAub,GAAK,OAA4C,GAAxCxvB,EAASo2B,SAAS9I,QAAQkC,EAAMljB,OAC5CqkB,GAAgBE,YAChB5c,KAAK,SAAAub,GAAK,OAA4C,GAAxCxvB,EAASo2B,SAAS9I,QAAQkC,EAAMljB,MAC/CkjB,GACFxyB,KAAK8H,SAAS,CAAEwqB,aAAcE,EAAMrpB,sCAItC,OACElP,EAAAL,EAAAC,cAACw/B,EAAAz/B,EAAD,CAAyB0/B,MAAOC,KAC9Bt/B,EAAAL,EAAAC,cAAC2/B,EAAA,iBAAD,CAAkBhxB,MAAOA,IACvBvO,EAAAL,EAAAC,cAACgG,GAAYQ,mBAAb,CAAgC8H,MAAOnI,KAAKgH,MAAMgyB,iBAChD/+B,EAAAL,EAAAC,cAAC65B,GAAgBU,gBAAjB,CAAiCjsB,MAAOnI,KAAKgH,MAAMsrB,cACjDr4B,EAAAL,EAAAC,cAAA,OAAKK,UAAU,WACbD,EAAAL,EAAAC,cAAC4/B,GAAD,MAEAx/B,EAAAL,EAAAC,cAAC6/B,GAAD,MACAz/B,EAAAL,EAAAC,cAAC8/B,GAAD,kBAxDEh/B,IAAMC,YAkETg/B,eAAWb,IC9E1Bc,IAASvhB,OACPre,EAAAL,EAAAC,cCDa,WACb,OACEI,EAAAL,EAAAC,cAACigC,EAAA,EAAD,KACE7/B,EAAAL,EAAAC,cAACkgC,GAAD,QDFJ,MACA9+B,SAASC,eAAe","file":"static/js/main.3068255f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst DisplayImage = ({ image, style }) => {\r\n  const buffer = image.content.data;\r\n  const b64 = new Buffer(buffer).toString('base64')\r\n  const mimeType = image.mimeType;\r\n\r\n  return <img src={`data:${mimeType};base64,${b64}`} style={style} />\r\n};\r\n\r\nexport default DisplayImage;","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass NotFoundPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ height: '300px', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n          <Typography color=\"secondary\" variant=\"headline\">\r\n            Страницата която търсите вече не съществува :(\r\n      </Typography>\r\n        </Paper>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFoundPage;","export function dispatchEvent(name, options) {\r\n  const root = document.getElementById('root');\r\n  const event = new CustomEvent(name, { detail: options });\r\n  root.dispatchEvent(event);\r\n}\r\n\r\nexport function catchEvent(name, cb) {\r\n  const root = document.getElementById('root');\r\n  const listener = customEventListener.bind(null, cb);\r\n  root.removeEventListener(name, listener);\r\n  root.addEventListener(name, listener);\r\n}\r\n\r\nfunction customEventListener(cb, event) {\r\n  return cb(event.detail);\r\n}\r\n\r\nexport default {\r\n  dispatchEvent,\r\n  catchEvent\r\n};","export const ApplicationMode = {\r\n  GUEST: 'guest',\r\n  USER: 'user',\r\n  ADMIN: 'admin'\r\n};\r\n\r\nexport const RouteTypeEnum = {\r\n  PUBLIC: 'public',\r\n  PROTECTED: 'protected',\r\n  ADMIN: 'admin'\r\n};\r\n\r\nexport const Gender = {\r\n  MALE: 'male',\r\n  FEMALE: 'female'\r\n};\r\n\r\nexport const Status = {\r\n  DRAFT: 'draft',\r\n  PUBLISHED: 'published',\r\n  FINALIZED: 'finalized',\r\n  INACTIVE: 'inactive'\r\n};\r\n\r\nexport const SchemeType = {\r\n  GROUP: 'round-robin',\r\n  ELIMINATION: 'elimination'\r\n};\r\n\r\nexport const CourtType = {\r\n  CLAY: 'clay',\r\n  HARD: 'hard',\r\n  GRASS: 'grass',\r\n  INDOOR: 'indoor'\r\n};\r\n\r\nexport const BackhandType = {\r\n  ONE: '1h',\r\n  TWO: '2h'\r\n};\r\n\r\nexport const PlayStyle = {\r\n  LEFT: 'left-handed',\r\n  RIGHT: 'right-handed'\r\n};\r\n\r\nexport const ReservationPayment = {\r\n  SODEXO: 'sodexo',\r\n  MULTISPORT: 'multisport',\r\n  ABK: 'abk',\r\n  CASH: 'cash',\r\n  SUBS_ZONE_1: 'zone1',\r\n  SUBS_ZONE_2: 'zone2'\r\n}\r\n\r\nexport const ReservationType = {\r\n  GUEST: 'guest',\r\n  USER: 'user',\r\n  SUBSCRIPTION: 'subscription',\r\n  COMPETITOR: 'competitor',\r\n  ELDER_GROUP: 'elder',\r\n  TENNIS_SCHOOL: 'school',\r\n  TOURNAMENT: 'tournament',\r\n  SERVICE: 'service',\r\n};\r\n\r\nexport const SubscriptionType = {\r\n  ZONE_1: 'zone1',\r\n  ZONE_2: 'zone2'\r\n};\r\n\r\nexport const StatisticsType = {\r\n  MONTHLY: 'month',\r\n  DAILY: 'day'\r\n};\r\n\r\nexport const EnumLocalization = {\r\n  'SchemeType': {\r\n    [SchemeType.ELIMINATION]: 'Елиминации',\r\n    [SchemeType.GROUP]: 'Групи'\r\n  },\r\n  'StatisticsType': {\r\n    [StatisticsType.MONTHLY]: 'Месечна',\r\n    [StatisticsType.DAILY]: 'Дневна'\r\n  },\r\n  'ReservationPayment': {\r\n    [ReservationPayment.CASH]: 'В брой',\r\n    [ReservationPayment.SODEXO]: 'Карта \"Содексо\"',\r\n    [ReservationPayment.MULTISPORT]: 'Карта \"Мултиспорт\"',\r\n    [ReservationPayment.ABK]: 'Абонаментна карта (АБК)',\r\n    [ReservationPayment.SUBS_ZONE_1]: 'Отиграване на абонамент \"ЗОНА 1\"',\r\n    [ReservationPayment.SUBS_ZONE_2]: 'Отиграване на абонамент \"ЗОНА 2\"'\r\n  },\r\n  'ReservationType': {\r\n    [ReservationType.GUEST]: 'Гост',\r\n    [ReservationType.USER]: 'Потребител',\r\n    [ReservationType.SUBSCRIPTION]: 'Абонат',\r\n    [ReservationType.COMPETITOR]: 'Съзтезатели',\r\n    [ReservationType.TENNIS_SCHOOL]: 'Тенис училище',\r\n    [ReservationType.ELDER_GROUP]: 'Група за възрастни',\r\n    [ReservationType.TOURNAMENT]: 'Турнир',\r\n    [ReservationType.SERVICE]: 'Неработещо игрище',\r\n  },\r\n  'CustomReservationType': {\r\n    [ReservationType.USER]: 'Резервация',\r\n    [ReservationType.SUBSCRIPTION]: 'Абонамент'\r\n  },\r\n  'SubscriptionType': {\r\n    [SubscriptionType.ZONE_1]: 'ЗОНА 1',\r\n    [SubscriptionType.ZONE_2]: 'ЗОНА 2'\r\n  },\r\n  'Status': {\r\n    [Status.DRAFT]: 'чернова',\r\n    [Status.PUBLISHED]: 'публикувано',\r\n    [Status.FINALIZED]: 'приключено',\r\n    [Status.INACTIVE]: 'неактивно'\r\n  },\r\n  'Gender': {\r\n    [Gender.MALE]: 'Мъж',\r\n    [Gender.FEMALE]: 'Жена'\r\n  },\r\n  'CourtType': {\r\n    [CourtType.CLAY]: 'клей',\r\n    [CourtType.HARD]: 'твърда настилка',\r\n    [CourtType.GRASS]: 'трева',\r\n    [CourtType.INDOOR]: 'на закрито'\r\n  },\r\n  'BackhandType': {\r\n    [BackhandType.ONE]: 'с една ръка',\r\n    [BackhandType.TWO]: 'с две ръце'\r\n  },\r\n  'PlayStyle': {\r\n    [PlayStyle.LEFT]: 'лява ръка',\r\n    [PlayStyle.RIGHT]: 'дясна ръка'\r\n  }\r\n};","import React from 'react';\r\nimport { dispatchEvent } from './events.service';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nclass UserService {\r\n  constructor() {\r\n    const { Provider, Consumer } = React.createContext(ApplicationMode.GUEST);\r\n    this.SetApplicationMode = Provider;\r\n    this.WithApplicationMode = Consumer;\r\n  }\r\n\r\n  isLogged() {\r\n    return localStorage.getItem('token') != null;\r\n  }\r\n\r\n  isAdmin() {\r\n    const user = this.getUser();\r\n    if (user && user.isAdmin)\r\n      return true;\r\n    else return false;\r\n  }\r\n\r\n  getUser() {\r\n    let token = JSON.parse(localStorage.getItem('token'))\r\n    let user = (token || { user: null }).user;\r\n    if (user && new Date(token.expires) > new Date())\r\n      return user;\r\n    else return null;\r\n  }\r\n\r\n  login(token) {\r\n    localStorage.setItem('token', JSON.stringify(token));\r\n    dispatchEvent('login');\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    dispatchEvent('logout');\r\n  }\r\n}\r\n\r\nexport default new UserService();","export default {\r\n  backend: 'http://localhost:4000/api'\r\n}","import { dispatchEvent } from './events.service';\r\nimport Configuration from '../configuration';\r\n\r\nclass QueryService {\r\n  constructor() {\r\n    this.backend = (window.configuration || Configuration).backend;\r\n\r\n    console.log(this.backend);\r\n  }\r\n\r\n  uploadFile(content) {\r\n    let data = new FormData();\r\n    data.append('file', content);\r\n\r\n    let options = {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: data\r\n    }\r\n\r\n    return fetch(this.backend + '/files', options)\r\n      .then(res => this.errorHandling(res))\r\n      .then(res => res.json());\r\n  }\r\n\r\n  getFileUrl(fileId) {\r\n    return `${this.backend}/files/${fileId}`;\r\n  }\r\n\r\n  get(resource) {\r\n    let options = {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    return this\r\n      .request(resource, options);\r\n    //.then(this.notFoundHandling);\r\n  }\r\n\r\n  post(resource, body) {\r\n    let options = {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(body)\r\n    };\r\n\r\n    return this.request(resource, options);\r\n  }\r\n\r\n  delete(resource) {\r\n    let options = {\r\n      method: 'DELETE',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    return this.request(resource, options);\r\n  }\r\n\r\n  request(resource, options) {\r\n    let tokenInfo = JSON.parse(window.localStorage.getItem('token'));\r\n    if (tokenInfo)\r\n      options.headers['Authorization'] = 'Bearer ' + tokenInfo.token;\r\n\r\n    return fetch(this.backend + resource, options)\r\n      .then(res => this.errorHandling(res))\r\n      .then(res => res.json());\r\n  }\r\n\r\n  errorHandling(res) {\r\n    if (res.status === 404) {\r\n      dispatchEvent('not-found');\r\n      throw null;\r\n    }\r\n    if (res.status === 422)\r\n      return res\r\n        .json()\r\n        .then(err => { throw err; });\r\n    if (res.status === 500)\r\n      throw null;\r\n    if (res.status === 401) {\r\n      window.localStorage.setItem('token', null);\r\n      window.location.replace('/');\r\n    }\r\n    else return res;\r\n  }\r\n\r\n  notFoundHandling(item) {\r\n    if (item == null) {\r\n      dispatchEvent('not-found');\r\n      throw null;\r\n    }\r\n    else return item;\r\n  }\r\n}\r\n\r\nexport default new QueryService();","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nfunction ClearIndicator(props) {\r\n  const { innerProps: { ref, ...restInnerProps } } = props;\r\n  return (\r\n    <div {...restInnerProps} ref={ref}>\r\n      <div style={{ padding: '0px 5px', zIndex: 2, cursor: 'pointer' }}>\r\n        <Typography><ClearIcon color=\"action\" /></Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\n// export function Placeholder(props) {\r\n//   return (\r\n//     <Typography\r\n//       color=\"textSecondary\"\r\n//       className={props.selectProps.classes.placeholder}\r\n//       {...props.innerProps}\r\n//     >\r\n//       {props.children}\r\n//     </Typography>\r\n//   );\r\n// }\r\n\r\nexport const Placeholder = () => null;\r\n\r\nexport function SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nexport function ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nexport function MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Menu(props) {\r\n  return (\r\n    <Paper className={props.selectProps.classes.paper} {...props.innerProps} style={{ marginTop: '0' }}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default {\r\n  ClearIndicator,\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};","import React from 'react';\r\nimport Select from 'react-select';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SelectComponents from './components';\r\nimport styles from './styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\n\r\nclass AsyncSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchTerm: '',\r\n      limit: 25,\r\n      defaultLimit: 25,\r\n      options: [],\r\n      totalCount: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.load();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.filter != this.props.filter)\r\n      this.load();\r\n  }\r\n\r\n  load(loadMore) {\r\n    const { options, totalCount, searchTerm, defaultLimit } = this.state;\r\n    let limit = this.state.limit;\r\n\r\n    if (loadMore)\r\n      limit += defaultLimit;\r\n\r\n    if (loadMore && options.length == totalCount)\r\n      return;\r\n\r\n    QueryService\r\n      .post(`/select/${this.props.query}`, {\r\n        ...this.props.filter,\r\n        searchTerm,\r\n        limit\r\n      })\r\n      .then(result => this.setState({ ...result, limit }));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      disableClear,\r\n      disableSearch,\r\n      label,\r\n      value,\r\n      query,\r\n      filter,\r\n      getOptionLabel,\r\n      getOptionValue,\r\n      formatOptionLabel,\r\n      noOptionsMessage,\r\n      onChange,\r\n\r\n      classes, theme\r\n    } = this.props;\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    let _getOptionLabel = getOptionLabel || ((option) => option.name);\r\n    let _getOptionValue = getOptionValue || ((option) => option.id);\r\n    let _noOptionsMessage = noOptionsMessage || (() => \"Няма елементи в колекцията\");\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {/* <pre>item   count: {this.state.options.length}</pre>\r\n        <pre>total  count: {this.state.totalCount}</pre>\r\n        <pre>limit       : {this.state.limit}</pre> */}\r\n        <NoSsr>\r\n          <Select\r\n            isClearable={!disableClear}\r\n            isSearchable={!disableSearch}\r\n            textFieldProps={{\r\n              label,\r\n              InputLabelProps: {\r\n                shrink: Boolean(value) || Boolean(this.state.searchTerm)\r\n              }\r\n            }}\r\n            value={value}\r\n            options={this.state.options}\r\n            getOptionLabel={_getOptionLabel}\r\n            getOptionValue={_getOptionValue}\r\n            formatOptionLabel={formatOptionLabel}\r\n            noOptionsMessage={_noOptionsMessage}\r\n            onChange={onChange}\r\n            onInputChange={value => {\r\n              this.setState({ searchTerm: value.trim() });\r\n              this.load();\r\n            }}\r\n            onMenuScrollToBottom={() => this.load(true)}\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            menuPlacement=\"auto\"\r\n            components={SelectComponents}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst customStyles = {\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nconst augmentedStyles = (theme) => {\r\n  const original = styles(theme);\r\n  const result = { ...original, ...customStyles };\r\n  return result;\r\n}\r\n\r\nexport default withStyles(augmentedStyles, { withTheme: true })(AsyncSelect);","\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\nexport default theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: '1rem'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  divider: {\r\n    height: theme.spacing.unit * 2,\r\n  },\r\n});","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport AsyncSelect from '../../components/select/AsyncSelect';\r\n\r\nclass SelectTeamModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      model: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { onClose, onChange, classes, fullScreen, open } = this.props;\r\n    const { model } = this.state;\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <Typography component=\"span\" variant=\"headline\">Избор на играч/двойка</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <AsyncSelect\r\n            value={model}\r\n            label=\"Избор на играч/двойка\"\r\n            query=\"teams\"\r\n            filter={{\r\n              singleTeams: true\r\n            }}\r\n            formatOptionLabel={(option) => {\r\n              return (\r\n                <Typography>{option.user1.name}</Typography>\r\n              );\r\n            }}\r\n            onChange={model => this.setState({ model })} />\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button disabled={!model} variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => onChange(model)}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px',\r\n    height: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(SelectTeamModal)\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport SelectTeamModal from './SelectTeamModal';\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\n\r\nclass EnrollmentsComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openTeamModal: false,\r\n      enrolled: [],\r\n      isAdmin: true\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.scheme != this.props.scheme)\r\n      this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { scheme } = this.props;\r\n\r\n    QueryService\r\n      .get(`/schemes/${scheme.id}/enrollments`)\r\n      .then(e => this.setState({ enrolled: e }));\r\n  }\r\n\r\n  add(team) {\r\n    const { scheme } = this.props;\r\n    return QueryService\r\n      .post(`/schemes/${scheme.id}/enrollments`, {\r\n        teamId: team.id,\r\n        schemeId: scheme.id,\r\n        user1Id: team.user1Id,\r\n        user2Id: team.user2Id\r\n      })\r\n      .then(e => {\r\n        this.setState({ openTeamModal: false });\r\n        this.getData();\r\n      });\r\n  }\r\n\r\n  removeEnrollment(id) {\r\n    const { scheme } = this.props;\r\n\r\n    return QueryService\r\n      .delete(`/schemes/${scheme.id}/enrollments/${id}`)\r\n      .then(() => this.getData());\r\n  }\r\n\r\n  render() {\r\n    const { enrolled, queued, isAdmin, openTeamModal } = this.state;\r\n    const { scheme, classes } = this.props;\r\n\r\n    return (\r\n      <ExpansionPanel style={{ marginTop: '1rem' }}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant=\"title\">Играчи</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n\r\n          <div>\r\n            <SelectTeamModal\r\n              open={openTeamModal}\r\n              onChange={(team) => this.add(team)}\r\n              onClose={() => this.setState({ openTeamModal: false })}\r\n            />\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"small\"\r\n              onClick={() => this.setState({ openTeamModal: true })}\r\n            >\r\n              Добави\r\n            </Button>\r\n          </div>\r\n\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell padding=\"none\">№</TableCell>\r\n\r\n                <TableCell>Отбор</TableCell>\r\n                <TableCell padding=\"dense\">Точки</TableCell>\r\n                {isAdmin && <TableCell padding=\"none\"></TableCell>}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n\r\n              {enrolled.map((enrollment, index) => {\r\n                let borderClass = classes.default;\r\n                if (index < scheme.seed)\r\n                  borderClass = classes.seed;\r\n                if (index + 1 == scheme.seed)\r\n                  borderClass = classes.seedDivider;\r\n                if (index + 1 == scheme.maxPlayerCount)\r\n                  borderClass = classes.enrolledDivider;\r\n                if (index + 1 > scheme.maxPlayerCount)\r\n                  borderClass = classes.enrolled;\r\n\r\n                return (\r\n                  <React.Fragment key={enrollment.id}>\r\n                    <TableRow className={borderClass}>\r\n                      <TableCell padding=\"none\">{index + 1}</TableCell>\r\n                      <TableCell>\r\n                        <Link to={`/teams/${enrollment.team.user1.id}`} >\r\n                          <Typography variant=\"body2\">{enrollment.team.user1.name}</Typography>\r\n                        </Link>\r\n                        {enrollment.team.user2 &&\r\n                          <Link to={`/teams/${enrollment.team.user2.id}`} >\r\n                            <Typography variant=\"body2\">{enrollment.team.user2.name}</Typography>\r\n                          </Link>}\r\n                      </TableCell>\r\n                      <TableCell padding=\"dense\">\r\n                        <Typography variant=\"caption\">няма</Typography>\r\n                      </TableCell>\r\n                      {/* {enrollment.team.rankings && enrollment.team.rankings[0] &&\r\n                        <TableCell>{enrollment.team.rankings[0].points}</TableCell>}\r\n                      {(!enrollment.team.rankings || !enrollment.team.rankings[0]) &&\r\n                        <TableCell><Typography variant=\"caption\">няма</Typography></TableCell>} */}\r\n                      {isAdmin && <TableCell padding=\"none\">\r\n                        <Button variant=\"text\" color=\"secondary\" size=\"small\"\r\n                          onClick={() => this.removeEnrollment(enrollment.id)}\r\n                        >\r\n                          <DeleteForeverIcon />\r\n                        </Button>\r\n                      </TableCell>}\r\n                    </TableRow>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = (theme) => {\r\n  console.log(theme);\r\n  return ({\r\n    root: {\r\n      marginLeft: 0\r\n    },\r\n    seedDivider: {\r\n      backgroundColor: lighten(theme.palette.primary.main, .9),\r\n      borderBottom: `2px solid ${theme.palette.primary.light}`\r\n    },\r\n    enrolledDivider: {\r\n      borderBottom: `2px solid ${theme.palette.secondary.light}`\r\n    },\r\n    seed: {\r\n      backgroundColor: lighten(theme.palette.primary.main, .9)\r\n    },\r\n    enrolled: {\r\n      backgroundColor: lighten(theme.palette.secondary.main, .9),\r\n    }\r\n  });\r\n}\r\n\r\nexport default withStyles(styles)(EnrollmentsComponent);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { EnumLocalization } from '../enums';\r\n\r\nclass EnumSelect extends React.Component {\r\n  render() {\r\n    const {\r\n      value,\r\n      onChange,\r\n      EnumValues,\r\n      EnumName,\r\n      label,\r\n      required,\r\n      error,\r\n      errorText\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormControl fullWidth={true} error={error}>\r\n        <InputLabel required={required}>\r\n          {label}\r\n        </InputLabel>\r\n        <Select\r\n          value={value}\r\n          onChange={onChange}\r\n        >\r\n          <MenuItem value=\"\" disabled={true}>\r\n            <em>{label}</em>\r\n          </MenuItem>\r\n          {Object.keys(EnumValues).map((key, i) => {\r\n            return (\r\n              <MenuItem key={i} value={EnumValues[key]}>\r\n                {EnumLocalization[EnumName][EnumValues[key]]}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n        <Typography style={{ color: 'red', fontSize: '.8rem' }}>{errorText}</Typography>\r\n      </FormControl>\r\n    );\r\n  }\r\n}\r\n\r\n// EnumSelect.propTypes = {\r\n//   value: PropTypes.string.isRequired,\r\n//   label: PropTypes.string.isRequired,\r\n//   EnumValues: PropTypes.object.isRequired,\r\n//   EnumName: PropTypes.string.isRequired,\r\n//   onChange: PropTypes.func.isRequired\r\n// };\r\n\r\nexport default EnumSelect;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport * as Enums from '../enums';\r\n\r\nclass EnumSelectToggle extends React.Component {\r\n  render() {\r\n    const { style, enumName, value, onChange, classes } = this.props;\r\n    const values = Enums[enumName];\r\n    const translation = Enums.EnumLocalization[enumName];\r\n\r\n    return (\r\n      <div style={style} className={classes.root}>\r\n        {Object.keys(values).map((key, index) => {\r\n          let btnClass = classes.btn;\r\n          if (index == 0)\r\n            btnClass = classes.leftRounded;\r\n\r\n          return (\r\n            <Button\r\n              className={classes.btn}\r\n              key={key}\r\n              variant={values[key] === value ? 'contained' : 'outlined'}\r\n              color=\"primary\" size=\"small\" onClick={e => {\r\n                e.target.value = values[key];\r\n                return onChange(e);\r\n              }}>\r\n              {translation[values[key]]}\r\n            </Button>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  leftRounded: {\r\n    borderTopLeftRadius: '3px',\r\n    borderBottomLeftRadius: '3px',\r\n    borderTopRightRadius: '0',\r\n    borderBottomRightRadius: '0',\r\n    borderRight: 'none',\r\n    '&:hover': {\r\n      borderRight: 'none'\r\n    }\r\n  },\r\n  rightRounded: {\r\n    borderRadius: '5px',\r\n    borderLeft: 'none'\r\n  },\r\n  btn: {\r\n    borderRadius: '0',\r\n    boxSizing: 'border-box'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(EnumSelectToggle);","import React from 'react';\r\nimport moment from 'moment';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport DateTimePicker from 'material-ui-pickers/DateTimePicker';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { SchemeType } from '../enums';\r\nimport EnumSelect from '../components/EnumSelect';\r\nimport EnumSelectToggle from '../components/EnumSelectToggle';\r\nimport QueryService from '../services/query.service';\r\n\r\n\r\nclass SchemeFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      model: {\r\n        // edition: null,\r\n        // singleTeams: true,\r\n        // maleTeams: false,\r\n        // femaleTeams: false,\r\n        // mixedTeams: false, \r\n        // ageFrom: '',\r\n        // ageTo: '',\r\n        // date: null,\r\n        // registrationStartDate: null,\r\n        // registrationEndDate: null\r\n      },\r\n      errors: []\r\n    }\r\n\r\n    this.save = this.save.bind(this);\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const model = this.state.model;\r\n      model[prop] = e.target.value;\r\n      this.setState({ model });\r\n    }\r\n\r\n    this.handleCustomChange = (prop) => (value) => {\r\n      const model = this.state.model;\r\n      if (prop === 'singleTeams')\r\n        model.mixedTeams = false;\r\n\r\n      if (prop === 'schemeType') {\r\n        model.maxPlayerCount = '';\r\n        model.groupCount = '';\r\n        model.teamsPerGroup = '';\r\n      }\r\n\r\n      model[prop] = value;\r\n      console.log(value);\r\n      this.setState({ model });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ model: this.props.model });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.model != this.props.model)\r\n      this.setState({ model: this.props.model });\r\n  }\r\n\r\n  save() {\r\n    const model = Object.assign({}, this.state.model, { edition: null });\r\n    return QueryService\r\n      .post(`/schemes/${model.id ? model.id : ''}`, model)\r\n      .then(e => this.props.onChange(e));\r\n  }\r\n\r\n  render() {\r\n    const { model, errors } = this.state;\r\n    const { onClose, classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <Typography component=\"span\" variant=\"headline\">Форма за промяна/създаване на схема</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <EnumSelectToggle\r\n            value={model.status}\r\n            enumName=\"Status\"\r\n            onChange={this.handleChange('status')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Име на схемата\"\r\n            value={model.name}\r\n            required\r\n            fullWidth={true}\r\n            onChange={this.handleChange('name')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Допълнителна информация\"\r\n            value={model.info}\r\n            multiline={true}\r\n            fullWidth={true}\r\n            onChange={this.handleChange('info')}\r\n          />\r\n\r\n          <EnumSelect\r\n            label=\"Тип схема\"\r\n            value={model.schemeType}\r\n            required\r\n            fullWidth={true}\r\n            onChange={e => this.handleCustomChange('schemeType')(e.target.value)}\r\n            EnumValues={SchemeType}\r\n            EnumName=\"SchemeType\"\r\n          />\r\n\r\n          <Typography variant=\"headline\" style={{ marginTop: '2rem' }}>Параметри</Typography>\r\n\r\n          <FormControl fullWidth={true} required>\r\n            <InputLabel>Формат</InputLabel>\r\n            <Select\r\n              onChange={e => this.handleCustomChange('singleTeams')(e.target.value)}\r\n              value={model.singleTeams}\r\n            >\r\n              <MenuItem value={true}>Сингъл</MenuItem>\r\n              <MenuItem value={false}>Двойки</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={model.maleTeams}\r\n                onChange={e => this.handleCustomChange('maleTeams')(e.target.value === 'true')}\r\n                value={!model.maleTeams + ''}\r\n              />\r\n            }\r\n            label=\"Мъже\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={model.femaleTeams}\r\n                onChange={e => this.handleCustomChange('femaleTeams')(e.target.value === 'true')}\r\n                value={!model.femaleTeams + ''} />\r\n            }\r\n            label=\"Жени\"\r\n          />\r\n\r\n          {!model.singleTeams && <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={model.mixedTeams}\r\n                onChange={e => this.handleCustomChange('mixedTeams')(e.target.value === 'true')}\r\n                value={!model.mixedTeams + ''}\r\n              />\r\n            }\r\n            label=\"Микс\"\r\n          />}\r\n\r\n          {model.schemeType == SchemeType.ELIMINATION\r\n            && <TextField\r\n              label=\"Брой играчи\"\r\n              value={model.maxPlayerCount}\r\n              type=\"number\"\r\n              required={true}\r\n              fullWidth={true}\r\n              onChange={this.handleChange('maxPlayerCount')}\r\n            />}\r\n\r\n          {model.schemeType == SchemeType.GROUP\r\n            && <TextField\r\n              label=\"Брой групи\"\r\n              value={model.groupCount}\r\n              type=\"number\"\r\n              required={true}\r\n              fullWidth={true}\r\n              onChange={this.handleChange('groupCount')}\r\n            />}\r\n\r\n          {model.schemeType == SchemeType.GROUP\r\n            && <TextField\r\n              label=\"Брой играчи в група\"\r\n              value={model.teamsPerGroup}\r\n              type=\"number\"\r\n              required={true}\r\n              fullWidth={true}\r\n              onChange={this.handleChange('teamsPerGroup')}\r\n            />}\r\n\r\n          <TextField\r\n            label=\"Брой поставени играчи\"\r\n            value={model.seed}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('seed')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Възраст От\"\r\n            value={model.ageFrom}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('ageFrom')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Възраст До\"\r\n            value={model.ageTo}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('ageTo')}\r\n          />\r\n\r\n\r\n          <Typography variant=\"headline\" style={{ marginTop: '2rem' }}>Дати</Typography>\r\n\r\n          <DatePicker\r\n            autoOk\r\n            label=\"Дата на схемата\"\r\n            labelFunc={(date) => date ? moment(model.date).format('DD.MM.YYYY') : ''}\r\n            clearable\r\n            required={true}\r\n            fullWidth={true}\r\n            value={model.date}\r\n            onChange={this.handleCustomChange('date')}\r\n          />\r\n\r\n          <DateTimePicker\r\n            label=\"Начало на регистрациите\"\r\n            labelFunc={(date) => date ? moment(model.registrationStart).format('DD.MM.YYYY  HH:mm') : ''}\r\n            clearable\r\n            ampm={false}\r\n            required={true}\r\n            fullWidth={true}\r\n            value={model.registrationStart}\r\n            onChange={this.handleCustomChange('registrationStart')}\r\n          />\r\n\r\n          <DateTimePicker\r\n            label=\"Край на регистрациите\"\r\n            labelFunc={(date) => date ? moment(model.registrationEnd).format('DD.MM.YYYY  HH:mm') : ''}\r\n            clearable\r\n            ampm={false}\r\n            required={true}\r\n            fullWidth={true}\r\n            value={model.registrationEnd}\r\n            onChange={this.handleCustomChange('registrationEnd')}\r\n          />\r\n\r\n\r\n          <Typography variant=\"headline\" style={{ marginTop: '2rem' }}>Точки</Typography>\r\n\r\n          <TextField\r\n            label=\"Точки за участие\"\r\n            value={model.pPoints}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('pPoints')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Точки за победа\"\r\n            value={model.wPoints}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('wPoints')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Точки за шампион\"\r\n            value={model.cPoints}\r\n            type=\"number\"\r\n            fullWidth={true}\r\n            onChange={this.handleChange('cPoints')}\r\n          />\r\n\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(SchemeFormModal)\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport { SchemeType } from '../../enums';\r\nclass SchemeDetails extends React.Component {\r\n  render() {\r\n    const { scheme, enableEditionLink } = this.props;\r\n\r\n    return (\r\n      <Card {...this.props.CardProps}>\r\n        <CardContent>\r\n          <Typography variant=\"headline\">{scheme.name}</Typography>\r\n          <Typography variant=\"caption\">{scheme.info}</Typography>\r\n\r\n          {enableEditionLink && <Typography variant=\"caption\" style={{ marginTop: '.5rem' }}>\r\n            Турнир\r\n            <Link to={`/editions/${scheme.editionId}`}>\r\n              <Typography variant=\"body2\">\r\n                <ReplyIcon style={{ fontSize: '14px' }} />\r\n                {scheme.edition.name}\r\n              </Typography>\r\n            </Link>\r\n          </Typography>}\r\n\r\n          <div style={{ display: 'flex', flexWrap: 'wrap', margin: '.5rem 0' }}>\r\n            <Typography\r\n              variant=\"caption\"\r\n              style={{ paddingRight: '1rem' }}\r\n            >\r\n              Регистрация от\r\n              <Typography>\r\n                {moment(scheme.registrationStart).format('DD.MM.YYYY / HH:mm')}\r\n              </Typography>\r\n            </Typography>\r\n            <Typography\r\n              variant=\"caption\"\r\n              style={{ paddingRight: '1rem' }}\r\n            >\r\n              Регистрация до\r\n              <Typography>\r\n                {moment(scheme.registrationEnd).format('DD.MM.YYYY / HH:mm')}\r\n              </Typography>\r\n            </Typography>\r\n          </div>\r\n\r\n          <Typography variant=\"caption\">\r\n            Описание\r\n            <Typography>\r\n              {getSchemeTraits(scheme)}\r\n            </Typography>\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions disableActionSpacing={true}>\r\n          {this.props.actions}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getSchemeTraits(scheme) {\r\n  const traits = [];\r\n  if (scheme.schemeType == SchemeType.ELIMINATION)\r\n    traits.push('Елиминация');\r\n  else\r\n    traits.push('Групи');\r\n\r\n  if (scheme.singleTeams)\r\n    traits.push('сингъл');\r\n  else\r\n    traits.push('двойки');\r\n\r\n  if (scheme.maleTeams)\r\n    traits.push('мъже');\r\n\r\n  if (scheme.femaleTeams)\r\n    traits.push('жени');\r\n\r\n  if (scheme.mixedTeams)\r\n    traits.push('микс');\r\n\r\n  if (scheme.ageFrom || scheme.ageTo) {\r\n    const ageTrait = [];\r\n    if (scheme.ageFrom)\r\n      ageTrait.push(`от ${scheme.ageFrom}`);\r\n\r\n    if (scheme.ageTo)\r\n      ageTrait.push(`до ${scheme.ageTo}`);\r\n\r\n    ageTrait.push('години');\r\n    traits.push(ageTrait.join(' '));\r\n  }\r\n\r\n  return traits.join(', ');\r\n}\r\n\r\nexport default SchemeDetails;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass SchemeDetailsActions extends React.Component {\r\n  render() {\r\n    const { scheme, enableViewLink } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        {enableViewLink &&\r\n          <Link to={`/schemes/${scheme.id}`}>\r\n            <Button color=\"primary\">Преглед</Button>\r\n          </Link>}\r\n        <Link to={`/schemes/${scheme.id}/elimination`}>\r\n          <Button color=\"primary\">Схема</Button>\r\n        </Link>\r\n        <Button color=\"primary\">Записване</Button>\r\n        <Button color=\"secondary\">Отписване</Button>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemeDetailsActions;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  names: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'row'\r\n    }\r\n  }\r\n});\r\n\r\nclass MatchDetailsEdit extends React.Component {\r\n  render() {\r\n    const { classes, match } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <TextField label=\"Отбор 1\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n          <TextField label=\"Отбор 2\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n          <TextField label=\"Отказал се\" fullWidth={true} style={{ marginRight: '1rem' }} />\r\n        </div>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"dense\">Сет №</TableCell>\r\n              <TableCell padding=\"none\">Отбор 1</TableCell>\r\n              <TableCell padding=\"none\">Отбор 2</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {[1, 2, 3, 4, 5].map(index => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell padding=\"dense\">{index}</TableCell>\r\n                  <TableCell padding=\"none\">\r\n                    <input type=\"text\" style={{ maxWidth: '40px' }} />\r\n                  </TableCell>\r\n                  <TableCell padding=\"none\">\r\n                    <input type=\"text\" style={{ maxWidth: '40px' }} />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n\r\n            {/* <TableRow>\r\n              <TableCell padding=\"none\">\r\n                <TextField label=\"Отбор 2\" />\r\n              </TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>\r\n                <TextField type=\"numeric\" />\r\n              </TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>II</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>III</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>IV</TableCell>\r\n              <TableCell padding=\"none\" numeric={true}>V</TableCell>\r\n            </TableRow> */}\r\n          </TableBody>\r\n        </Table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MatchDetailsEdit);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\nimport MatchDetailsEdit from './MatchDetailsEdit';\r\n\r\nconst styles = (theme) => {\r\n  //console.log(theme);\r\n  return ({\r\n    cardRoot: {\r\n      width: '100%',\r\n      marginBottom: '1rem',\r\n      // backgroundColor: '#F5E9DF'\r\n    },\r\n    vsRoot: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      marginBottom: '1rem',\r\n      [theme.breakpoints.down('sm')]: {\r\n        flexDirection: 'column'\r\n      }\r\n    },\r\n    vs: {\r\n      flexGrow: '1',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      fontStyle: 'italic',\r\n      color: theme.palette.text.secondary,\r\n      [theme.breakpoints.down('sm')]: {\r\n        margin: '.5rem 0',\r\n        fontSize: '.8em',\r\n        color: theme.palette.text.primary\r\n      }\r\n    },\r\n    score: {\r\n      color: theme.palette.text.secondary,\r\n      [theme.breakpoints.down('sm')]: {\r\n        fontSize: '1em',\r\n        color: theme.palette.text.primary\r\n      }\r\n    },\r\n    vsTeam: {\r\n      fontSize: '1.3rem'\r\n    }\r\n  });\r\n}\r\n\r\nclass MatchDetails extends React.Component {\r\n  render() {\r\n    const { match, classes } = this.props;\r\n\r\n    return (\r\n      <Card className={classes.cardRoot}>\r\n        <CardContent>\r\n          <div className={classes.vsRoot}>\r\n            {match.team1 &&\r\n              <Link to={`/users/${match.team1.id}`} style={{ flexBasis: '33%' }}>\r\n                <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                  {match.team1.user1.name}\r\n                </Typography>\r\n                {match.team1.user2 &&\r\n                  <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                    {match.team1.user2.name}\r\n                  </Typography>}\r\n              </Link>}\r\n\r\n            {!match.team1 && <Typography style={{ textAlign: 'center' }}>BYE</Typography>}\r\n\r\n            <StyledScore sets={match.sets} />\r\n\r\n            {match.team2 && <Link to={`/users/${match.team1.user2Id}`} style={{ flexBasis: '33%' }}>\r\n              <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                {match.team2 ? match.team2.user1.name : 'BYE'}\r\n              </Typography>\r\n              {/* {match.team2 && match.team2.user2 &&\r\n                <Typography variant=\"body2\" className={classes.vsTeam}>\r\n                  {match.team2.user2.name}\r\n                </Typography>} */}\r\n            </Link>}\r\n\r\n            {!match.team2 && <Typography style={{ flexBasis: '33%' }}>BYE</Typography>}\r\n\r\n          </div>\r\n          <Typography variant=\"subheading\">\r\n            <span style={{ color: '#8AC230', fontWeight: '700' }}>Победител:</span>\r\n            {match.team1 && <span style={{ fontStyle: 'italic', marginLeft: '.3rem' }}>{match.team1.user1.name}</span>}\r\n          </Typography>\r\n          <Typography variant=\"subheading\">\r\n            <span style={{ color: '#D67D2A', fontWeight: '700' }}>Отказал се:</span>\r\n            {match.team2 && <span style={{ fontStyle: 'italic', marginLeft: '.3rem' }}>{match.team2.user1.name}</span>}\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\">Промяна</Button>\r\n\r\n          <div>\r\n            <MatchDetailsEdit match={match} />\r\n          </div>\r\n\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nclass Score extends React.Component {\r\n  render() {\r\n    const { sets, classes } = this.props;\r\n\r\n    if (sets.length == 0) {\r\n      return (\r\n        <Typography variant=\"headline\" className={classes.vs}>\r\n          VS\r\n        </Typography>\r\n      );\r\n    }\r\n\r\n    else\r\n      return (\r\n        <div className={classes.vs}>\r\n          {sets.map(set => {\r\n            return (\r\n              <div key={set.id} style={{ display: 'flex', marginRight: '.3rem' }}>\r\n                <Typography variant=\"headline\" className={classes.score}>\r\n                  {set.team1}\r\n                </Typography>\r\n                <Typography variant=\"headline\" className={classes.score}>\r\n                  {set.team2}\r\n                </Typography>\r\n                {set.tiebreaker && <sup>\r\n                  <Typography variant=\"headline\" style={{ fontSize: '1em' }} className={classes.score}>\r\n                    ({set.tiebreaker})\r\n                  </Typography>\r\n                </sup>}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nconst StyledScore = withStyles(styles)(Score);\r\n\r\nexport default withStyles(styles)(MatchDetails);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport UserService from '../../services/user.service';\r\nimport MatchDetails from './MatchDetails';\r\n\r\nconst styles = (theme) => ({\r\n  roundMarker: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '.5rem'\r\n  },\r\n  roundMarkerStrip: {\r\n    flexGrow: 1,\r\n    backgroundColor: '#c9c9c9',\r\n    height: '2px',\r\n    borderRadius: '2px'\r\n  },\r\n  roundMarkerLabel: {\r\n    color: theme.palette.text.secondary,\r\n    fontStyle: 'italic',\r\n    margin: '0 .5rem'\r\n  }\r\n});\r\n\r\nclass MatchesList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      matches: [],\r\n      teams: [],\r\n      isAdmin: UserService.isAdmin()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.schemeId != this.props.schemeId)\r\n      this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { schemeId } = this.props;\r\n    const uniqueTeam = (acc, curr) => {\r\n      if (acc.find(e => e.id == curr.id)) return acc;\r\n      else return acc.concat([curr]);\r\n    };\r\n\r\n    QueryService\r\n      .get(`/schemes/${schemeId}/matches`)\r\n      .then(e => this.setState({\r\n        matches: e,\r\n        teams: e.map(m => m.team1)\r\n          .concat(e.map(m => m.team2))\r\n          .filter(t => t != null)\r\n          .reduce(uniqueTeam, [])\r\n      }));\r\n  }\r\n\r\n  render() {\r\n    const { matches, teams } = this.state;\r\n    const { classes } = this.props;\r\n    const match = matches[0];\r\n\r\n    return (\r\n      <ExpansionPanel defaultExpanded={true}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant=\"title\">Мачове</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n          <div className={classes.roundMarker}>\r\n            <div className={classes.roundMarkerStrip}></div>\r\n            <Typography variant=\"headline\" className={classes.roundMarkerLabel}>\r\n              R64\r\n            </Typography>\r\n            <div className={classes.roundMarkerStrip}></div>\r\n          </div>\r\n          {matches.map(match => {\r\n            return (\r\n              <MatchDetails key={match.id} match={match} />\r\n            );\r\n          })}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MatchesList);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport UserService from '../services/user.service';\r\nimport QueryService from '../services/query.service';\r\nimport EnrollmentsComponent from './components/Enrollments';\r\nimport SchemeFormModal from './SchemeFormModal';\r\nimport SchemeDetails from './components/SchemeDetails';\r\nimport SchemeDetailsActions from './components/SchemeDetailsActions';\r\nimport MatchesList from './components/MatchesList';\r\n\r\nclass SchemeView extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scheme: {\r\n        edition: {}\r\n      },\r\n      schemeModel: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const { id } = this.props.match.params;\r\n    return QueryService\r\n      .get(`/schemes/${id}`)\r\n      .then(e => this.setState({ scheme: e }));\r\n  }\r\n\r\n  deleteScheme() {\r\n    return QueryService.delete(`/schemes/${this.state.scheme.id}`)\r\n      .then()\r\n  }\r\n\r\n  drawBracket() {\r\n    return QueryService.get(`/schemes/${this.state.scheme.id}/drawBracket`)\r\n      .then();\r\n  }\r\n\r\n  render() {\r\n    const { scheme, schemeModel } = this.state;\r\n    const actions = <SchemeDetailsActions scheme={scheme} />\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {schemeModel\r\n          && <SchemeFormModal\r\n            model={schemeModel}\r\n            onChange={() => {\r\n              this.setState({ schemeModel: null });\r\n              this.getData();\r\n            }}\r\n            onClose={() => this.setState({ schemeModel: null })}\r\n          />}\r\n\r\n        <div style={{ margin: '.5rem 0' }}>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ schemeModel: scheme })}>Промяна</Button>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.drawBracket()} style={{ marginLeft: '.3rem' }}>Изтегляне</Button>\r\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\" style={{ marginLeft: '.3rem' }}>Изтриване</Button>\r\n        </div>\r\n\r\n        <SchemeDetails scheme={scheme} actions={actions} enableEditionLink />\r\n        <EnrollmentsComponent scheme={scheme} style={{ marginTop: '1rem' }} />\r\n\r\n        {/* <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"title\">Групова фаза</Typography>\r\n          </ExpansionPanelSummary>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"title\">Елиминация</Typography>\r\n          </ExpansionPanelSummary>\r\n        </ExpansionPanel> */}\r\n\r\n        {/*\r\n        <MatchesList schemeId={scheme.id} /> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemeView;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SchemeView from './SchemeView';\r\n\r\nclass SchemesRoot extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route\r\n          path=\"/schemes/:id\"\r\n          render={(props) => <SchemeView {...props} />}\r\n        />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchemesRoot;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\n\r\nclass MatchFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      model: {},\r\n      errors: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ model: this.props.model });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.model != this.props.model)\r\n      this.setState({ model: this.props.model });\r\n  }\r\n\r\n  save() {\r\n    const model = this.state.model;\r\n    return QueryService\r\n      .post(`/tournaments/${model.id ? model.id : ''}`, model)\r\n      .then(e => this.props.onChange(e));\r\n  }\r\n\r\n  render() {\r\n    const { model, errors } = this.state;\r\n    const { onClose, classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <Typography component=\"span\" variant=\"headline\">Въвеждане/промяна на резултат</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            <Typography variant=\"caption\">Играч 1</Typography>\r\n            Панайот Давидов\r\n          </Typography>\r\n\r\n          <Typography>\r\n            <Typography variant=\"caption\">Играч 2</Typography>\r\n            Виктория Петрова\r\n          </Typography>\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(MatchFormModal)\r\n);","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport './styles.scss';\r\n\r\nimport MatchFormModal from '../components/MatchFormModal';\r\nconst rounds = [[1, 2, 3, 4, 5, 6, 7, 8], [1, 2, 3, 4], [1, 2], [1]];\r\n\r\nclass EliminationBracket extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      matchModel: null\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { matchModel } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        {matchModel\r\n          && <MatchFormModal\r\n            model={matchModel}\r\n            onChange={() => this.setState({ matchModel: null })}\r\n            onClose={() => this.setState({ matchModel: null })}\r\n          />}\r\n\r\n        <div className=\"bracket\">\r\n          {rounds.map((round, index) => {\r\n            return (\r\n              <div key={index} className=\"round\">\r\n                <ul className=\"list\">\r\n                  {round.map((match, i) => {\r\n                    return (\r\n                      <li className=\"item\" key={i}>\r\n                        <div className=\"match\" onClick={() => this.setState({ matchModel: {} })} >\r\n                          <Match />\r\n                        </div>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass Match extends React.Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Tooltip\r\n          title=\"Въвеждане/промяна на резултат\"\r\n          placement=\"top-center\"\r\n          TransitionComponent={Zoom}\r\n          enterDelay={0}\r\n        >\r\n          <Paper elevation={4} className=\"match-box\">\r\n            <div className=\"match-box-team\">\r\n              <Typography style={{ fontSize: '.8em' }} >Панайот Давидов</Typography>\r\n              <Typography style={{ fontSize: '.8em' }} variant=\"caption\">6 3 6</Typography>\r\n            </div>\r\n            <div className=\"match-box-team\">\r\n              <Typography style={{ fontSize: '.8em' }}>Виктория Петрова</Typography>\r\n              <Typography style={{ fontSize: '.8em' }} variant=\"caption\">3 6 4</Typography>\r\n            </div>\r\n          </Paper>\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EliminationBracket;","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\n\r\nimport FileUpload from './FileUpload';\r\nimport QueryService from '../services/query.service';\r\n\r\nclass ImageField extends React.Component {\r\n  render() {\r\n    const { value, onChange, style, imageStyle } = this.props;\r\n    return (\r\n      <span style={style}>\r\n        <input ref={ref => this.inputRef = ref} onChange={onChange} type=\"file\" style={{ display: 'none' }} />\r\n        {value\r\n          && <Typography>{value.name}</Typography>}\r\n        {value\r\n          && <img\r\n            src={QueryService.getFileUrl(value.id)}\r\n            style={imageStyle}\r\n          />}\r\n        <div>\r\n          <PhotoIcon\r\n            onClick={() => this.inputRef.click()}\r\n            style={{ fontSize: '2rem', cursor: 'pointer' }}\r\n            color=\"primary\"\r\n          />\r\n          {value\r\n            && <DeleteForeverIcon\r\n              style={{ fontSize: '2rem', cursor: 'pointer' }}\r\n              color=\"secondary\"\r\n              onClick={() => onChange(null)}\r\n            />}\r\n        </div>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageField;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport PhotoIcon from '@material-ui/icons/Photo';\r\n\r\nclass FileUpload extends React.Component {\r\n  render() {\r\n    const { value, onChange, style } = this.props;\r\n\r\n    return (\r\n      <span onClick={e => this.inputRef.click()} style={style}>\r\n        <input ref={ref => this.inputRef = ref} onChange={onChange} type=\"file\" style={{ display: 'none' }} />\r\n        {this.props.children}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileUpload","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport ImageField from '../components/ImageField';\r\nimport EnumSelectToggle from '../components/EnumSelectToggle';\r\nimport QueryService from '../services/query.service';\r\n\r\nclass TournamentFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      model: {},\r\n      errors: []\r\n    }\r\n\r\n    this.save = this.save.bind(this);\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const model = this.state.model;\r\n      model[prop] = e.target.value;\r\n      this.setState({ model });\r\n    }\r\n\r\n    this.handleThumbnail = (e) => {\r\n      const model = this.state.model;\r\n\r\n      if (!e || !e.target.files || !e.target.files[0]) {\r\n        model.thumbnail = null;\r\n        model.thumbnailId = null;\r\n        this.setState({ model });\r\n        return;\r\n      }\r\n\r\n      return QueryService\r\n        .uploadFile(e.target.files[0])\r\n        .then(file => {\r\n          model.thumbnail = file;\r\n          model.thumbnailId = file.id;\r\n          this.setState({ model });\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ model: this.props.model });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.model != this.props.model)\r\n      this.setState({ model: this.props.model });\r\n  }\r\n\r\n  save() {\r\n    const model = this.state.model;\r\n    return QueryService\r\n      .post(`/tournaments/${model.id ? model.id : ''}`, model)\r\n      .then(e => this.props.onChange(e));\r\n  }\r\n\r\n  render() {\r\n    const { model, errors } = this.state;\r\n    const { onClose, classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <Typography component=\"span\" variant=\"headline\">Създаване/промяна на лига</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <EnumSelectToggle\r\n            value={model.status}\r\n            enumName=\"Status\"\r\n            onChange={this.handleChange('status')}\r\n          />\r\n\r\n          <Typography variant=\"caption\" style={{ marginTop: '.5rem' }}>Лого</Typography>\r\n          <ImageField\r\n            value={model.thumbnail}\r\n            onChange={this.handleThumbnail}\r\n            style={{ marginTop: '.5rem' }}\r\n            imageStyle={{ maxWidth: '50px' }}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Име на лигата\"\r\n            value={model.name}\r\n            fullWidth={true}\r\n            onChange={this.handleChange('name')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Допълнителна информация\"\r\n            value={model.info}\r\n            multiline={true}\r\n            fullWidth={true}\r\n            onChange={this.handleChange('info')}\r\n          />\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(TournamentFormModal)\r\n);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport AsyncSelect from '../../components/select/AsyncSelect';\r\nimport EnumSelectToggle from '../../components/EnumSelectToggle';\r\n\r\nclass EditionFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      model: {\r\n        startDate: null,\r\n        endDate: null\r\n      },\r\n      errors: []\r\n    }\r\n\r\n    this.save = this.save.bind(this);\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const model = this.state.model;\r\n      model[prop] = e.target.value;\r\n      this.setState({ model });\r\n    }\r\n\r\n    this.handleCustomChange = (prop) => (value) => {\r\n      const model = this.state.model;\r\n      model[prop] = value;\r\n\r\n      if (prop == 'tournament') {\r\n        if (value)\r\n          model.tournamentId = value.id;\r\n        else\r\n          model.tournamentId = null;\r\n      }\r\n\r\n      this.setState({ model });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ model: this.props.model });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.model != this.props.model)\r\n      this.setState({ model: this.props.model });\r\n  }\r\n\r\n  save() {\r\n    const model = this.state.model;\r\n    return QueryService\r\n      .post(`/editions/${model.id ? model.id : ''}`, model)\r\n      .then(e => this.props.onChange(e));\r\n  }\r\n\r\n  render() {\r\n    const { model, errors } = this.state;\r\n    const { onClose, classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <Typography component=\"span\" variant=\"headline\">Форма за издание на турнир</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <EnumSelectToggle\r\n            value={model.status}\r\n            enumName=\"Status\"\r\n            onChange={this.handleChange('status')}\r\n          />\r\n\r\n          <AsyncSelect\r\n            label=\"Лига\"\r\n            value={model.tournament}\r\n            query=\"tournaments\"\r\n            noOptionsMessage={() => 'Няма намерени лиги'}\r\n            formatOptionLabel={(option) => <Typography component=\"span\">\r\n              {option.name}\r\n              <Typography component=\"span\" variant=\"caption\" >{option.info}</Typography>\r\n            </Typography>}\r\n            onChange={this.handleCustomChange('tournament')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Име на изданието\"\r\n            value={model.name}\r\n            fullWidth={true}\r\n            onChange={this.handleChange('name')}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Допълнителна информация\"\r\n            value={model.info}\r\n            multiline={true}\r\n            fullWidth={true}\r\n            onChange={this.handleChange('info')}\r\n          />\r\n\r\n          <DatePicker\r\n            autoOk\r\n            label=\"Начало на турнира\"\r\n            labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n            clearable\r\n            fullWidth={true}\r\n            value={model.startDate}\r\n            onChange={this.handleCustomChange('startDate')}\r\n          />\r\n\r\n          <DatePicker\r\n            autoOk\r\n            label=\"Край на турнира\"\r\n            labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n            clearable\r\n            fullWidth={true}\r\n            value={model.endDate}\r\n            onChange={this.handleCustomChange('endDate')}\r\n          />\r\n\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  },\r\n  truncateInfo: {\r\n    width: '100px',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(EditionFormModal)\r\n);","import React from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport DisplayImage from '../../components/DisplayImage';\r\nimport QueryService from '../../services/query.service';\r\n\r\nclass EditionsDesktopView extends React.Component {\r\n  render() {\r\n    const { editions } = this.props;\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Лига</TableCell>\r\n            <TableCell>Турнир</TableCell>\r\n            <TableCell>Провеждане</TableCell>\r\n            {/* <TableCell padding=\"none\"></TableCell> */}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {editions.map(edition => {\r\n            return (\r\n              <TableRow key={edition.id}>\r\n                <TableCell >\r\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    {edition.tournament.thumbnail\r\n                      && <DisplayImage image={edition.tournament.thumbnail} style={{ maxWidth: '50px', marginRight: '.5rem' }} />}\r\n                    <Link to={`/tournaments/${edition.tournament.id}`}>\r\n                      <Typography variant=\"body2\">{edition.tournament.name}</Typography>\r\n                    </Link>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Link to={`/editions/${edition.id}`}>\r\n                    <Typography variant=\"body2\">{edition.name}</Typography>\r\n                  </Link>\r\n                </TableCell>\r\n                <TableCell>\r\n                  {moment(edition.startDate).format('DD.MM.YYYY')} - {moment(edition.endDate).format('DD.MM.YYYY')}\r\n                </TableCell>\r\n                {/* <TableCell>\r\n                  <Link to={`/editions/${edition.id}`}>\r\n                    <Button variant=\"text\" color=\"primary\">Преглед</Button>\r\n                  </Link>\r\n                </TableCell> */}\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionsDesktopView;","import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nclass EditionsMobileView extends React.Component {\r\n  render() {\r\n    const { editions } = this.props;\r\n    return (\r\n      <List>\r\n        waddup\r\n      </List>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionsMobileView;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass ConfirmationDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n\r\n    this.open = (e) => this.setState({ isOpen: true });\r\n    this.close = (e) => this.setState({ isOpen: false });\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { title, body, onAccept, children, classes, style } = this.props;\r\n\r\n    return (\r\n      <span style={style}>\r\n        <Dialog open={isOpen} onClose={this.close} classes={{ paper: classes.root }}>\r\n          <DialogTitle>{title}</DialogTitle>\r\n          <DialogContent>{body}</DialogContent>\r\n          <DialogActions className={classes.btnContainer}>\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={onAccept}>\r\n              Да\r\n          </Button>\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={this.close}>\r\n              Не\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <span onClick={this.open}>\r\n          {children}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ConfirmationDialog);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport TournamentFormModal from '../../tournaments/TournamentFormModal';\r\nimport EditionFormModal from './EditionFormModal';\r\nimport EditionsDesktopView from './EditionsDesktopView';\r\nimport EditionsMobileView from './EditionsMobileView';\r\nimport editionsViewActions from './EditionsViewActions';\r\nimport QueryService from '../../services/query.service';\r\n\r\nclass EditionsList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editions: [],\r\n      editionModel: null,\r\n      tournamentModel: null\r\n    }\r\n\r\n    this.handleOpenModal = (editionModel) => {\r\n      this.setState({ editionModel });\r\n    }\r\n\r\n    this.handleRemoveEdition = (edition) => {\r\n\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.filter();\r\n  }\r\n\r\n  filter() {\r\n    return QueryService\r\n      .post(`/editions/filter`, {})\r\n      .then(editions => this.setState({ editions }));\r\n  }\r\n\r\n  render() {\r\n    const { editions, editionModel, tournamentModel } = this.state;\r\n    const actions = editionsViewActions(this.handleOpenModal, this.handleRemoveEdition);\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {editionModel\r\n          && <EditionFormModal\r\n            model={editionModel}\r\n            onChange={() => console.log('change')}\r\n            onClose={() => this.setState({ editionModel: null })}\r\n          />}\r\n\r\n        {tournamentModel\r\n          && <TournamentFormModal\r\n            model={tournamentModel}\r\n            onChange={() => this.setState({ tournamentModel: null })}\r\n            onClose={() => this.setState({ tournamentModel: null })}\r\n          />}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          onClick={() => this.setState({ tournamentModel: { name: '', info: '', thumbnailId: null } })}\r\n        >\r\n          Нова Лига\r\n        </Button>\r\n\r\n        <Button\r\n          style={{ marginLeft: '.3rem' }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          onClick={() => this.setState({ editionModel: { name: '', info: '', startDate: null, endDate: null } })}\r\n        >\r\n          Нов Турнир\r\n        </Button>\r\n\r\n        <ExpansionPanel defaultExpanded={true}>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"headline\">Турнири</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n\r\n            {editions.length == 0 && <Typography variant=\"caption\">Няма регистрирани турнири</Typography>}\r\n            {editions.length > 0 && <Hidden smDown>\r\n              <EditionsDesktopView editions={editions} actions={actions} />\r\n            </Hidden>}\r\n\r\n            {editions.length > 0 && <Hidden mdUp>\r\n              <EditionsMobileView editions={editions} actions={actions} />\r\n            </Hidden>}\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionsList;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport ConfirmationDialog from '../../components/ConfirmationDialog';\r\n\r\nexport default function generateActions(onChange, onRemove) {\r\n  return class extends React.Component {\r\n    render() {\r\n      const { edition } = this.props;\r\n\r\n      return (\r\n        <span>\r\n          <Button onClick={onChange(edition)}>\r\n            Редакция\r\n        </Button>\r\n          <Button onClick={onRemove(edition)}>\r\n            Изтриване\r\n        </Button>\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n}","import React from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { SchemeType } from '../../enums';\r\nimport EditionFormModal from './EditionFormModal';\r\nimport SchemeFormModal from '../../schemes/SchemeFormModal';\r\nimport SchemeDetails from '../../schemes/components/SchemeDetails';\r\nimport SchemeDetailsActions from '../../schemes/components/SchemeDetailsActions';\r\nimport DisplayImage from '../../components/DisplayImage';\r\nimport QueryService from '../../services/query.service';\r\n\r\nclass EditionView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      edition: {\r\n        tournament: {},\r\n        schemes: []\r\n      },\r\n      editionModel: null,\r\n      schemeModel: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    QueryService\r\n      .get(`/editions/${this.props.match.params.id}`)\r\n      .then(e => this.setState({ edition: e }));\r\n  }\r\n\r\n  initSchemeModel() {\r\n    this.setState({\r\n      schemeModel: {\r\n        edition: this.state.edition,\r\n        editionId: this.state.edition.id,\r\n        singleTeams: true,\r\n        maleTeams: false,\r\n        femaleTeams: false,\r\n        mixedTeams: false,\r\n        schemeType: SchemeType.ELIMINATION,\r\n        hasGroupPhase: false,\r\n        groupPhase: null,\r\n        groupPhaseId: null,\r\n        ageFrom: '',\r\n        ageTo: '',\r\n        maxPlayerCount: '',\r\n        groupCount: '',\r\n        teamsPerGroup: '',\r\n        date: null,\r\n        registrationStart: null,\r\n        registrationEnd: null,\r\n        pPoints: 1,\r\n        wPoints: 15,\r\n        cPoints: 20\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { edition, editionModel, schemeModel } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {editionModel\r\n          && <EditionFormModal\r\n            model={editionModel}\r\n            onChange={() => {\r\n              this.setState({ editionModel: null });\r\n              this.getData();\r\n            }}\r\n            onClose={() => this.setState({ editionModel: null })}\r\n          />}\r\n\r\n        {schemeModel\r\n          && <SchemeFormModal\r\n            model={schemeModel}\r\n            onChange={() => {\r\n              this.setState({ schemeModel: null });\r\n              this.getData();\r\n            }}\r\n            onClose={() => this.setState({ schemeModel: null })}\r\n          />}\r\n\r\n        <div style={{ margin: '.5rem 0' }}>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.initSchemeModel()}>Добави схема</Button>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginLeft: '.3rem' }} onClick={() => this.setState({ editionModel: edition })}>Промяна</Button>\r\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\" style={{ marginLeft: '.3rem' }}>Изтриване</Button>\r\n        </div>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"headline\">\r\n              {edition.name}\r\n            </Typography>\r\n            <Typography variant=\"caption\">{edition.info}</Typography>\r\n\r\n            <Typography variant=\"caption\" style={{ marginTop: '1rem' }}>Лига</Typography>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              {edition.tournament.thumbnail\r\n                && <DisplayImage image={edition.tournament.thumbnail} style={{ maxWidth: '50px', marginRight: '.5rem' }} />}\r\n              <Link to={`/tournaments/${edition.tournament.id}`}>\r\n                <Typography variant=\"body2\">{edition.tournament.name}</Typography>\r\n              </Link>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', marginTop: '1rem' }}>\r\n              <Typography variant=\"caption\" style={{ paddingRight: '1rem' }}>\r\n                Начало\r\n              <Typography>{moment(edition.startDate).format('DD.MM.YYYY')}</Typography>\r\n              </Typography>\r\n\r\n              <Typography variant=\"caption\">\r\n                Край\r\n              <Typography>{moment(edition.endDate).format('DD.MM.YYYY')}</Typography>\r\n              </Typography>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <div className={classes.schemesRoot}>\r\n          {edition.schemes.map(scheme => {\r\n            const actions = <SchemeDetailsActions scheme={scheme} enableViewLink />;\r\n            return <SchemeDetails\r\n              scheme={scheme}\r\n              actions={actions}\r\n              CardProps={{\r\n                className: classes.schemesItem\r\n              }} />\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  schemesRoot: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n    marginTop: '.3rem'\r\n  },\r\n  schemesItem: {\r\n    width: '49.5%',\r\n    marginBottom: '.3rem',\r\n    paddingBottom: '0',\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(EditionView);","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport EditionsList from './EditionsList';\r\nimport EditionView from './EditionView';\r\n\r\nclass EditionsRoot extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route\r\n          path=\"/editions/:id\"\r\n          render={(props) => <EditionView {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/editions\"\r\n          render={(props) => <EditionsList {...props} />}\r\n        />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditionsRoot;","import React from 'react';\r\nimport { EnumLocalization } from '../enums';\r\n\r\nclass L10n extends React.Component {\r\n  render() {\r\n    const { children, translate, style } = this.props;\r\n    return <span style={style}>{l10n_text(children, translate)}</span>\r\n  }\r\n}\r\n\r\nexport function l10n_text(value, translate) {\r\n  const l10n = EnumLocalization[translate];\r\n  return l10n[value];\r\n}\r\n\r\nexport default L10n;","export function getHour(hour) {\r\n  if (hour < 10)\r\n    return `0${hour}:00`;\r\n  else return `${hour}:00`;\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport EnumSelect from '../../components/EnumSelect';\r\nimport AsyncSelect from '../../components/select/AsyncSelect';\r\nimport { ReservationPayment, ReservationType } from '../../enums';\r\nimport { l10n_text } from '../../components/L10n';\r\nimport { getHour } from '../../utils';\r\n\r\nclass EditReservationModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reservation: {\r\n        court: {},\r\n        type: '',\r\n        season: {},\r\n        payments: [],\r\n        administrator: {},\r\n        customer: {}\r\n      },\r\n      errors: []\r\n    }\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const reservation = this.state.reservation;\r\n      reservation[prop] = e.target.value;\r\n      if (prop == 'type') {\r\n        reservation.customer = null;\r\n        reservation.customerId = null;\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = null;\r\n      }\r\n\r\n      this.setState({ reservation });\r\n    };\r\n\r\n    this.handleCustomChange = (prop) => (value) => {\r\n      const reservation = this.state.reservation;\r\n\r\n      if (prop == 'customer') {\r\n        reservation.customer = null;\r\n        reservation.customerId = (value || { id: null }).id;\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = null;\r\n      }\r\n\r\n      if (prop == 'subscription') {\r\n        reservation.subscription = null;\r\n        reservation.subscriptionId = (value || { id: null }).id;\r\n      }\r\n\r\n      reservation[prop] = value;\r\n\r\n      this.setState({ reservation });\r\n    };\r\n\r\n    this.handlePaymentChange = (prop, index) => (e) => {\r\n      this.state.reservation.payments[index][prop] = e.target.value;\r\n      this.setState({ reservation: this.state.reservation });\r\n    };\r\n\r\n    this.handlePaymentSubscriptionChange = (index) => (value) => {\r\n      this.state.reservation.payments[index].subscription = value;\r\n      if (value)\r\n        this.state.reservation.payments[index].subscriptionId = value.id;\r\n      else\r\n        this.state.reservation.payments[index].subscriptionId = null;\r\n      this.setState({ reservation: this.state.reservation });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { reservation } = this.props;\r\n    this.setState({ reservation: JSON.parse(JSON.stringify(reservation)), errors: [] });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { reservation } = this.props;\r\n    if (prevProps.reservation != reservation)\r\n      this.setState({ reservation: JSON.parse(JSON.stringify(reservation)), errors: [] });\r\n  }\r\n\r\n  action() {\r\n    if (this.state.reservation.id)\r\n      return QueryService\r\n        .post(`/schedule/reservations/${this.state.reservation.id}`, this.state.reservation)\r\n        .then(_ => {\r\n          this.setState({ errors: [] });\r\n          this.props.onAction()\r\n        })\r\n        .catch(err => this.setState({ errors: err }));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/reservations`, this.state.reservation)\r\n        .then(_ => {\r\n          this.setState({ errors: [] });\r\n          this.props.onAction()\r\n        })\r\n        .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelReservation() {\r\n    return QueryService\r\n      .delete(`/schedule/reservations/${this.state.reservation.id}/cancel`)\r\n      .then(_ => {\r\n        this.setState({ errors: [] });\r\n        this.props.onAction()\r\n      })\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  addPayment() {\r\n    const reservation = this.state.reservation;\r\n    reservation.payments.unshift({\r\n      type: \"\",\r\n      amount: null,\r\n      reservationId: reservation.id || 0\r\n    });\r\n    this.setState({ reservation });\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, onClose, classes } = this.props;\r\n    const { reservation } = this.state;\r\n\r\n    return (\r\n      <Dialog open={isOpen} onClose={onClose} fullWidth={true} classes={{ paper: classes.root }}>\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Резервация на\r\n            <span style={{ marginLeft: '.5rem' }}>\r\n              {reservation.court.name}\r\n            </span>\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"caption\">\r\n            Час:\r\n            <Typography>{getHour(reservation.hour)} - {getHour(reservation.hour + 1)}</Typography>\r\n          </Typography>\r\n          {reservation.administrator && <Typography variant=\"caption\">\r\n            Администрирал:\r\n            <Typography>{reservation.administrator.name}</Typography>\r\n          </Typography>}\r\n\r\n          <EnumSelect\r\n            label=\"Вид резервация:\"\r\n            value={reservation.type}\r\n            fullWidth={false}\r\n            onChange={this.handleChange('type')}\r\n            EnumValues={ReservationType}\r\n            EnumName=\"ReservationType\" />\r\n\r\n          {(reservation.type == ReservationType.USER || reservation.type == ReservationType.SUBSCRIPTION)\r\n            && <AsyncSelect\r\n              label=\"Потребител\"\r\n              value={reservation.customer}\r\n              query=\"users\"\r\n              noOptionsMessage={() => 'Няма намерени потребители'}\r\n              formatOptionLabel={(option) => <Typography component=\"span\">\r\n                {option.name}\r\n                <Typography component=\"span\" variant=\"caption\">{option.email}</Typography>\r\n              </Typography>}\r\n              onChange={this.handleCustomChange('customer')}\r\n            />}\r\n\r\n          {reservation.type == ReservationType.SUBSCRIPTION && reservation.customer\r\n            && <AsyncSelect\r\n              disableSearch={true}\r\n              label=\"Абонамент\"\r\n              value={reservation.subscription}\r\n              query=\"subscriptions\"\r\n              filter={{\r\n                seasonId: reservation.seasonId,\r\n                userId: reservation.customerId\r\n              }}\r\n              noOptionsMessage={() => 'Няма регистрирани абонаменти'}\r\n              formatOptionLabel={(option) => <Typography component=\"span\">\r\n                Абонамент {l10n_text(option.type, \"SubscriptionType\")}\r\n                <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{option.season.name}</Typography>\r\n                <Typography component=\"span\" variant=\"caption\">{option.remainingHours} оставащи часа</Typography>\r\n              </Typography>}\r\n              onChange={this.handleCustomChange('subscription')}\r\n            />}\r\n\r\n          <Typography variant=\"subheading\" style={{ marginTop: '1rem', alignItems: 'center', display: 'flex' }}>\r\n            Плащания\r\n            <IconButton\r\n              color=\"primary\"\r\n              onClick={() => this.addPayment()}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Typography>\r\n\r\n          {reservation.payments && reservation.payments.map((payment, index) => {\r\n            return (\r\n              <div className={classes.paymentCell} key={index}>\r\n\r\n                <EnumSelect\r\n                  style={{ width: '100px' }}\r\n                  label=\"Вид плащане\"\r\n                  value={payment.type}\r\n                  onChange={this.handlePaymentChange('type', index)}\r\n                  EnumValues={ReservationPayment}\r\n                  EnumName=\"ReservationPayment\" />\r\n\r\n                {payment.type == ReservationPayment.CASH\r\n                  && <TextField\r\n                    label=\"Стойност\"\r\n                    value={payment.amount}\r\n                    InputProps={{\r\n                      endAdornment: <InputAdornment position=\"end\">Лв.</InputAdornment>\r\n                    }}\r\n                    onChange={this.handlePaymentChange('amount', index)}\r\n                  />}\r\n\r\n                {(payment.type == ReservationPayment.SUBS_ZONE_1 || payment.type == ReservationPayment.SUBS_ZONE_2)\r\n                  && reservation.customer\r\n                  && <AsyncSelect\r\n                    disableSearch={true}\r\n                    label=\"Абонамент\"\r\n                    value={payment.subscription}\r\n                    query=\"subscriptions\"\r\n                    filter={{\r\n                      seasonId: reservation.seasonId,\r\n                      userId: reservation.customerId,\r\n                      type: payment.type,\r\n                      onlyAvailable: true\r\n                    }}\r\n                    noOptionsMessage={() => 'Няма абонаменти с часове за отиграване'}\r\n                    formatOptionLabel={(option) => <Typography component=\"span\">\r\n                      Абонамент {l10n_text(option.type, \"SubscriptionType\")}\r\n                      <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{option.season.name}</Typography>\r\n                      <Typography component=\"span\" variant=\"caption\">{option.remainingHours} оставащи часа</Typography>\r\n                    </Typography>}\r\n                    onChange={this.handlePaymentSubscriptionChange(index)}\r\n                  />}\r\n\r\n                {/* <span style={{ cursor: 'pointer' }} onClick={() => {\r\n                  this.state.reservation.payments.splice(index, 1);\r\n                  this.setState({ reservation: this.state.reservation });\r\n                }}>\r\n                  <ClearIcon style={{ color: 'darkred' }} />\r\n                </span> */}\r\n                <div style={{ margin: '1rem 0 .3rem 0' }}>\r\n                  <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    onClick={() => {\r\n                      this.state.reservation.payments.splice(index, 1);\r\n                      this.setState({ reservation: this.state.reservation });\r\n                    }}\r\n                  >\r\n                    Премахване\r\n                </Button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          {reservation.payments.length == 0 && <Typography variant=\"caption\">Няма регистрирани плащания</Typography>}\r\n\r\n          <TextField\r\n            label=\"Бележка\"\r\n            value={reservation.info}\r\n            fullWidth={true}\r\n            multiline={true}\r\n            margin=\"none\"\r\n            onChange={this.handleChange('info')}\r\n          />\r\n\r\n          {this.state.errors && this.state.errors.length > 0\r\n            && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n              {this.state.errors.map((err, index) => {\r\n                return (\r\n                  <div key={index}><em>{index + 1}. {ErrorTexts[err]}</em></div>\r\n                );\r\n              })}\r\n            </div>}\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => this.action()}\r\n          >\r\n            Запазване\r\n          </Button>\r\n          {this.state.reservation.id && <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={() => this.cancelReservation()}\r\n          >\r\n            Отмяна на резервацията\r\n          </Button>}\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={onClose}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog >\r\n    );\r\n  }\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'exist': 'Резервация за този ден, час и корт вече съществува.',\r\n  'typeRequired': '\"Вид резервация\" е задължително поле',\r\n  'customerRequired': '\"Потребител\" е задължително поле, когато вид резервация е \"Абонат\" или \"Потребител\".',\r\n  'subscriptionRequired': '\"Абонамент\" е задължително поле, когато вид резервация е \"Абонат\".',\r\n  'usedHoursExceedTotalHours': 'Абонаментът няма оставащи часове',\r\n  'paymentSubscriptionRequired': '\"Абонамент\" е задължително поле, когато вид плащане е \"Отиграване на абонамент\".',\r\n  'typeSubscriptionAndHasPaymentSubscription': 'Не може едновременно вид резервация да е \"Абонат\" и да има вид плащане \"Отиграване на абонамент\".',\r\n  'maxAllowedTimeDiff': 'Резервацията не може да бъде отказана, защото остават по-малко часове от минимално допустимите часове за отказ.',\r\n  'reservationInThePast': 'Часът за тази резервация вече е минал.'\r\n};\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '800px'\r\n    }\r\n  },\r\n  paymentCell: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    border: `1px solid ${theme.palette.primary.light}`,\r\n    padding: '1rem',\r\n    marginBottom: '1rem',\r\n    borderRadius: '5%'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(EditReservationModal);","export const cell = {\r\n  padding: '.3rem',\r\n  fontSize: '.8em',\r\n  textAlign: 'center',\r\n  border: '1px solid lightgrey',\r\n  width: '50px',\r\n};\r\n\r\nexport const button = {\r\n  '&:hover': {\r\n    opacity: .8,\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nexport const disabled = {\r\n  '&:hover': {\r\n    cursor: 'not-allowed'\r\n  }\r\n};","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport EditReservationModal from './EditReservationModal';\r\nimport * as ReservationStyles from './styles';\r\nimport { ReservationType } from '../../enums';\r\nimport L10n from '../../components/L10n';\r\n\r\nclass AdminReservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { reservation, onChange, classes } = this.props;\r\n    let type = classes.free;\r\n    if (reservation.id)\r\n      type = classes.reserved;\r\n\r\n    if (reservation.type == ReservationType.SERVICE)\r\n      type = classes.unavaliable;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <TableCell\r\n          padding=\"none\"\r\n          className={type}\r\n          onClick={() => this.setState({ modal: true })}\r\n        >\r\n          {reservation.customer && <span>{reservation.customer.name}</span>}\r\n          {!reservation.customer && <L10n\r\n            translate=\"ReservationType\"\r\n          >\r\n            {reservation.type}\r\n          </L10n>}\r\n        </TableCell>\r\n\r\n        <EditReservationModal\r\n          reservation={reservation}\r\n          isOpen={this.state.modal}\r\n          onAction={(e) => {\r\n            onChange(e);\r\n            this.setState({ modal: false });\r\n          }}\r\n          onClose={() => this.setState({ modal: false })}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      backgroundColor: '#F3FBF0',\r\n      cursor: 'pointer',\r\n    }\r\n  },\r\n  reserved: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    cursor: 'pointer',\r\n    color: theme.palette.secondary.main,\r\n    fontWeight: '700',\r\n    background: 'url(assets/empty.png)'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(AdminReservation);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../../services/query.service';\r\nimport { getHour } from '../../utils';\r\n\r\n\r\nclass ViewReservationModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      errors: []\r\n    }\r\n  }\r\n  makeReservation() {\r\n    return QueryService\r\n      .post(`/schedule/reservations`, this.props.reservation)\r\n      .then(_ => this.props.onAction())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelReservation() {\r\n    return QueryService\r\n      .delete(`/schedule/reservations/${this.props.reservation.id}/cancel`)\r\n      .then(_ => this.props.onAction())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { reservation, isOpen, onClose, classes } = this.props;\r\n\r\n    return (\r\n      <Dialog open={isOpen} onClose={onClose}>\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Резервация на\r\n            <span style={{ marginLeft: '.5rem' }}>\r\n              {reservation.court.name}\r\n            </span>\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"caption\">\r\n            Час:\r\n            <Typography>{getHour(reservation.hour)} - {getHour(reservation.hour + 1)}</Typography>\r\n          </Typography>\r\n          {!reservation.id && <Typography variant=\"caption\">\r\n            Поради възможността от възникване на премествания, запазването на\r\n            корт не ви гарантира на 100%, че ще играете точно на този корт.\r\n          </Typography>}\r\n          {reservation.id && <Typography variant=\"caption\">\r\n            Имате право да откажете часът до 4 часа (8 часа за абонамент) преди неговото начало.\r\n            След това системата отчита вашият час като използван.\r\n            Ако имате абонамент, часът ще ви се брои като използван.\r\n          </Typography>}\r\n\r\n          {this.state.errors && this.state.errors.length > 0\r\n            && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n              {this.state.errors.map((err, index) => {\r\n                return (\r\n                  <div key={index}><em>{index + 1}. {ErrorTexts[err]}</em></div>\r\n                );\r\n              })}\r\n            </div>}\r\n        </DialogContent>\r\n\r\n        {!reservation.id && <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.makeReservation()}>\r\n            Резервиране\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>}\r\n\r\n        {reservation.id && <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"outlined\" color=\"secondary\" className={classes.btn} onClick={() => this.cancelReservation()}>\r\n            Отмяна на резервацията\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"secondary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>}\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'exist': 'Резервация за този ден, час и корт вече съществува.',\r\n  'maxAllowedTimeDiff': 'Резервацията не може да бъде отказана, защото остават по-малко часове от минимално допустимите часове за отказ.',\r\n  'reservationInThePast': 'Часът за тази резервация вече е минал.'\r\n};\r\n\r\nconst styles = (theme) => ({\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ViewReservationModal);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport ViewReservationModal from './ViewReservationModal';\r\nimport * as ReservationStyles from './styles';\r\nimport L10n from '../../components/L10n';\r\n\r\nclass UserReservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { reservation, onChange, classes } = this.props;\r\n    let type = classes.free;\r\n\r\n    if (reservation.id)\r\n      type = classes.reserved;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <TableCell\r\n          padding=\"none\"\r\n          className={type}\r\n          onClick={() => this.setState({ modal: true })}\r\n        >\r\n          {reservation.id && <L10n\r\n            translate=\"CustomReservationType\"\r\n          >\r\n            {reservation.type}\r\n          </L10n>}\r\n        </TableCell>\r\n\r\n        <ViewReservationModal\r\n          reservation={reservation}\r\n          isOpen={this.state.modal}\r\n          onAction={(e) => {\r\n            onChange(e);\r\n            this.setState({ modal: false });\r\n          }}\r\n          onClose={() => this.setState({ modal: false })}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      backgroundColor: '#F3FBF0',\r\n      cursor: 'pointer',\r\n    }\r\n  },\r\n  reserved: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.primary.light,\r\n    color: theme.palette.primary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(UserReservation);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport * as ReservationStyles from './styles';\r\nimport { ReservationType } from '../../enums';\r\n\r\nclass GuestReservation extends React.Component {\r\n  render() {\r\n    const { reservation, available, classes } = this.props;\r\n    let type = classes.free;\r\n    if (reservation.id)\r\n      type = classes.taken;\r\n\r\n    if (!available || reservation.type == ReservationType.SERVICE)\r\n      type = classes.unavaliable;\r\n\r\n    return (\r\n      <TableCell padding=\"none\" className={type}></TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  taken: {\r\n    ...ReservationStyles.cell,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(GuestReservation);","import React from 'react';\r\n\r\nimport { ApplicationMode, ReservationType } from '../../enums';\r\nimport UserService from '../../services/user.service';\r\nimport AdminReservation from './AdminReservation';\r\nimport UserReservation from './UserReservation';\r\nimport GuestReservation from './GuestReservation';\r\n\r\nclass Reservation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userId: (UserService.getUser() || { id: null }).id\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.mode != this.props.mode)\r\n      this.setState({ userId: (UserService.getUser() || { id: null }).id });\r\n  }\r\n\r\n  render() {\r\n    const { reservation, mode } = this.props;\r\n    const available = reservation.hour <= reservation.court.workingHoursEnd - 1\r\n      && reservation.hour >= reservation.court.workingHoursStart;\r\n\r\n    if (!available)\r\n      return <GuestReservation {...this.props} available={available} />;\r\n\r\n    if (mode == ApplicationMode.ADMIN)\r\n      return <AdminReservation {...this.props} />;\r\n\r\n    if (mode == ApplicationMode.GUEST)\r\n      return <GuestReservation {...this.props} available={available} />\r\n\r\n    if (!reservation.id)\r\n      return <UserReservation {...this.props} />\r\n\r\n    if (reservation.customerId && reservation.customerId == this.state.userId)\r\n      return <UserReservation {...this.props} />\r\n\r\n    return <GuestReservation {...this.props} available={available} />;\r\n  }\r\n}\r\n\r\nexport default Reservation;","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport * as ReservationStyles from './styles';\r\nimport { l10n_text } from '../../components/L10n';\r\nimport { ReservationType } from '../../enums';\r\n\r\nclass ShuffleItem extends React.Component {\r\n\r\n  select() {\r\n    const { reservation, shuffle, onSelect, onUnselect } = this.props;\r\n    const index = this.findIndex(reservation, shuffle);\r\n\r\n    if (index != -1)\r\n      onUnselect(index);\r\n    else onSelect(reservation);\r\n  }\r\n\r\n  findIndex(reservation, shuffle) {\r\n    return shuffle.findIndex(e => e.date == reservation.date && e.hour == reservation.hour && e.courtId == reservation.courtId);\r\n  }\r\n\r\n  render() {\r\n    const { reservation, shuffle, classes } = this.props;\r\n    const available = reservation.hour <= reservation.court.workingHoursEnd - 1\r\n      && reservation.hour >= reservation.court.workingHoursStart;\r\n\r\n    if (!available)\r\n      return <TableCell padding=\"none\" className={classes.unavaliable}></TableCell>;\r\n\r\n    let type = classes.free;\r\n\r\n    if (this.findIndex(reservation, shuffle) != -1)\r\n      type = classes.selected;\r\n\r\n    if (!reservation.id)\r\n      return (\r\n        <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n        </TableCell>\r\n      );\r\n\r\n    if (type == classes.free)\r\n      type = classes.taken\r\n\r\n    if (reservation.type == ReservationType.USER || reservation.type == ReservationType.SUBSCRIPTION)\r\n      return (\r\n        <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n          {type != classes.free && <span>{reservation.customer.name}</span>}\r\n        </TableCell>\r\n      );\r\n\r\n    return (\r\n      <TableCell padding=\"none\" className={type} onClick={() => this.select()}>\r\n        {type != classes.free\r\n          && <span>{l10n_text(reservation.type, \"ReservationType\")}</span>}\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst styles = (theme) => ({\r\n  free: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: '#fff',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  taken: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.secondary.light,\r\n    color: theme.palette.secondary.contrastText,\r\n  },\r\n  unavaliable: {\r\n    ...ReservationStyles.cell,\r\n    background: 'url(assets/empty.png)',\r\n    '&:hover': {\r\n      cursor: 'not-allowed'\r\n    }\r\n  },\r\n  service: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    color: theme.palette.secondary.main,\r\n    fontWeight: '700',\r\n    background: 'url(assets/empty.png)'\r\n  },\r\n  selected: {\r\n    ...ReservationStyles.cell,\r\n    ...ReservationStyles.button,\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.primary.contrastText\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(ShuffleItem);","import moment from 'moment';\r\nimport React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { ApplicationMode } from '../../enums';\r\n\r\nclass DateComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: new Date().getDate() - 1,\r\n      previousSelected: null\r\n    };\r\n    this.weekDays = ['нед', 'пон', 'втор', 'ср', 'четв', 'пет', 'съб'];\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ selected: this.props.day - 1 });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.month != this.props.month || prevProps.year != this.props.year) {\r\n      if (this.state.previousSelected\r\n        && this.state.previousSelected.get('year') == this.props.year\r\n        && this.state.previousSelected.get('month') == this.props.month) {\r\n        this.props.onChange(this.state.previousSelected)\r\n        this.setState({\r\n          selected: this.state.previousSelected.get('date') - 1,\r\n          previousSelected: null\r\n        });\r\n      }\r\n\r\n      else if (this.state.previousSelected == null)\r\n        this.setState({\r\n          selected: false,\r\n          previousSelected: moment({ year: prevProps.year, month: prevProps.month, date: this.state.selected + 1 })\r\n        });\r\n      else\r\n        this.setState({ selected: false });\r\n    }\r\n  }\r\n\r\n  getLabel(day) {\r\n    let date = new Date(this.props.year, this.props.month, day);\r\n\r\n    return (\r\n      <div>\r\n        {day < 10 ? '0' : ''}\r\n        {day}\r\n        <div>{this.weekDays[date.getDay()]}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getDays() {\r\n    const { year, month } = this.props;\r\n\r\n    const monthSizes = [31,\r\n      (year % 100 != 0\r\n        && (year % 4 == 0\r\n          || year % 400 == 0) ? 29 : 28),\r\n      31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n    const start = 1;\r\n    const end = monthSizes[month];\r\n\r\n    return [...new Array(end - start + 1).keys()].map(k => k + start);\r\n  }\r\n\r\n  isDisabled(day) {\r\n    if (this.props.mode == ApplicationMode.ADMIN)\r\n      return false;\r\n    const { year, month, availiableDaysAhead } = this.props;\r\n    const MS_PER_DAY = 1000 * 60 * 60 * 24;\r\n\r\n    // Discard the time and time-zone information.\r\n    const targetDate = new Date(year, month, day);\r\n    const today = new Date();\r\n    const diff = Math.floor((today - targetDate) / MS_PER_DAY);\r\n    return diff > 0 || diff < -availiableDaysAhead;\r\n  }\r\n\r\n  isToday(day) {\r\n    const { year, month } = this.props;\r\n    const today = new Date();\r\n    return year == today.getFullYear() && month == today.getMonth() && day == today.getDate();\r\n  }\r\n\r\n  render() {\r\n    const { year, month, classes, onChange } = this.props;\r\n    const today = new Date().getDate();\r\n\r\n    return (\r\n      <Tabs\r\n        classes={{\r\n          root: classes.tabsRoot,\r\n          scroller: classes.tabsScroller,\r\n          indicator: classes.tabsIndicator,\r\n          scrollButtons: classes.tabsScrollButtons\r\n        }}\r\n        value={this.state.selected}\r\n        onChange={(_, value) => {\r\n          this.setState({ selected: value });\r\n          onChange(moment({ year, month, date: value + 1 }));\r\n        }}\r\n        scrollable\r\n        scrollButtons=\"on\">\r\n        {this.getDays().map(day => {\r\n          let rootClass = classes.tab;\r\n          if (this.isToday(day) && this.state.selected != (today - 1))\r\n            rootClass = rootClass + ` ${classes.todayTab}`;\r\n\r\n          return (\r\n            <Tab\r\n              classes={{\r\n                root: rootClass,\r\n                selected: classes.selectedTab,\r\n                disabled: classes.disabledTab,\r\n                labelContainer: classes.labelContainer\r\n              }}\r\n              disabled={this.isDisabled(day)}\r\n              key={day}\r\n              label={this.getLabel(day)}\r\n            />\r\n          );\r\n        })}\r\n      </Tabs>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => {\r\n  return {\r\n    tabsRoot: {\r\n    },\r\n    labelContainer: {\r\n      padding: '.5rem 0'\r\n    },\r\n    tab: {\r\n      backgroundColor: 'white',\r\n      color: theme.palette.primary.dark,\r\n      [theme.breakpoints.down('xl')]: {\r\n        width: '60px',\r\n        minWidth: '0px',\r\n        minHeight: '0px',\r\n        fontWeight: 700,\r\n        border: '.5px solid lightgrey',\r\n      }\r\n    },\r\n    selectedTab: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      border: 'none'\r\n    },\r\n    todayTab: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      border: 'none'\r\n    },\r\n    disabledTab: {\r\n      color: 'grey',\r\n      fontWeight: 500,\r\n      backgroundColor: 'whitesmoke'\r\n    },\r\n    tabsScroller: {\r\n      [theme.breakpoints.up('md')]: {\r\n        overflow: 'hidden'\r\n      }\r\n    },\r\n    tabsIndicator: {\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n    tabsScrollButtons: {\r\n      color: theme.palette.primary.main,\r\n      flexBasis: '30px'\r\n    }\r\n  };\r\n};\r\n\r\nexport default withStyles(styles)(DateComponent);","import moment from 'moment';\r\nimport React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport UserService from '../../services/user.service';\r\nimport DateComponent from './DateComponent';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    paddingLeft: '1.3rem',\r\n    paddingRight: '2.3rem',\r\n    display: 'flex',\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  formControl: {\r\n    width: '120px',\r\n    margin: '.5rem',\r\n    [theme.breakpoints.down('xs')]: {\r\n      margin: '.5rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nclass Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const today = moment().startOf('date');\r\n    this.state = {\r\n      year: today.get('year'),\r\n      month: today.get('month'),\r\n      day: today.get('date'),\r\n      date: today\r\n    };\r\n    this.years = [2016, 2017, 2018, 2019];\r\n    this.monts = ['Януари', 'Февруари', 'Март', 'Април', 'Май', 'Юни', 'Юли', 'Август', 'Септември', 'Октомври', 'Ноември', 'Декември'];\r\n\r\n    this.handleChange = (prop) => (e) => {\r\n      const state = this.state;\r\n      state[prop] = e.target.value;\r\n      this.setState(state);\r\n      if (this.props.emitDateOnAnyChange)\r\n        this.props.onChange(moment(state.date).set(prop, state[prop]));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      year: this.props.value.get('year'),\r\n      month: this.props.value.get('month'),\r\n      day: this.props.value.get('date')\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes, onChange } = this.props;\r\n    const { year, month, day } = this.state;\r\n\r\n    return (\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <div className={classes.root}>\r\n          <FormControl className={classes.formControl}>\r\n            <Select\r\n              value={month}\r\n              onChange={this.handleChange('month')}\r\n            >\r\n              {this.monts.map((month, index) => {\r\n                return (\r\n                  <MenuItem key={index} value={index}>{month}</MenuItem>\r\n                );\r\n              })}\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl className={classes.formControl}>\r\n            <Select\r\n              value={year}\r\n              onChange={this.handleChange('year')}\r\n            >\r\n              {this.years.map(year => {\r\n                return (\r\n                  <MenuItem key={year} value={year}>{year}</MenuItem>\r\n                );\r\n              })}\r\n            </Select>\r\n          </FormControl>\r\n        </div>\r\n\r\n        <UserService.WithApplicationMode>\r\n          {mode => <DateComponent\r\n            year={year}\r\n            month={month}\r\n            day={day}\r\n            availiableDaysAhead={14}\r\n            mode={mode}\r\n            onChange={(date) => {\r\n              this.setState({ date });\r\n              return onChange(date);\r\n            }}\r\n          />}\r\n        </UserService.WithApplicationMode>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Calendar);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    display: 'inline-flex',\r\n    flexDirection: 'column'\r\n  },\r\n  item: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '.3rem',\r\n    '& div': {\r\n      width: '100px',\r\n      height: '20px',\r\n      border: '1px solid lightgrey'\r\n    }\r\n  },\r\n  reserved: {\r\n    backgroundColor: theme.palette.primary.light\r\n  },\r\n  taken: {\r\n    backgroundColor: theme.palette.secondary.light\r\n  },\r\n  unavailiable: {\r\n    background: 'url(assets/empty.png)'\r\n  }\r\n});\r\n\r\nclass Legend extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.item}>\r\n          <div></div>\r\n          <Typography variant=\"caption\"> - свободен час</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.reserved}></div>\r\n          <Typography variant=\"caption\"> - резервиран от потребителя</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.taken}></div>\r\n          <Typography variant=\"caption\"> - зает час</Typography>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.unavailiable}></div>\r\n          <Typography variant=\"caption\"> - затворено игрище</Typography>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Legend);","import moment from 'moment';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\nimport Reservation from './reservation/Reservation';\r\nimport ShuffleItem from './reservation/ShuffleItem';\r\nimport Calendar from '../components/calendar/Calendar';\r\nimport Legend from './Legend';\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport { getHour } from '../utils';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nconst scrollButton = (theme) => ({\r\n  zIndex: 1100,\r\n  backgroundColor: theme.palette.primary.main,\r\n  color: theme.palette.primary.contrastText,\r\n  position: 'absolute',\r\n  boxShadow: `0 0 20px ${theme.palette.primary.dark}`,\r\n  borderRadius: '50%',\r\n  padding: '8px',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  opacity: '.9'\r\n});\r\n\r\nconst styles = (theme) => ({\r\n  hours: {\r\n    width: '10px',\r\n    textAlign: 'center'\r\n  },\r\n  disabled: {\r\n    cursor: 'not-allowed',\r\n    opacity: .5\r\n  },\r\n  scrollLeft: {\r\n    ...scrollButton(theme),\r\n    top: '50%',\r\n    left: '5px'\r\n  },\r\n  scrollRight: {\r\n    ...scrollButton(theme),\r\n    top: '50%',\r\n    right: '5px'\r\n  }\r\n});\r\n\r\n\r\nclass Schedule extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: UserService.getUser(),\r\n      counter: 0,\r\n      season: null,\r\n      courts: [],\r\n      reservations: [],\r\n      date: moment().startOf('date'),\r\n      shuffle: null\r\n    };\r\n\r\n    const rootRef = document.getElementById('root');\r\n    rootRef.onscroll = () => {\r\n      const needScrollBtns = rootRef.clientWidth <= 600;\r\n      const tableInViewport = rootRef.scrollTop + 200 >= this.tableRef.offsetTop;\r\n\r\n      if (needScrollBtns && tableInViewport)\r\n        this.btnContainerRef.style.display = 'block';\r\n      else\r\n        this.btnContainerRef.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    QueryService\r\n      .get(`/schedule/config`)\r\n    //.then(config => this.setState(config));\r\n\r\n    this.getData(this.state.date);\r\n  }\r\n\r\n  getData(date) {\r\n    return QueryService\r\n      .post(`/schedule/reservations/filter`, { date: date.format('YYYY-MM-DD') })\r\n      .then(reservations => this.setState({ reservations }));\r\n  }\r\n\r\n  getReservation(hour, court) {\r\n    const sameReservation = (e) => {\r\n      return e.courtId == court.id && e.hour == hour\r\n    };\r\n\r\n    const existing = this.state.reservations.find(e => sameReservation(e));\r\n    return (existing || this.constructReservation(this.state.date, hour, court));\r\n  }\r\n\r\n  shuffle() {\r\n    const shuffle = this.state.shuffle;\r\n    if (!shuffle || shuffle.length < 2)\r\n      return;\r\n\r\n    this.setState({ shuffleErrors: null });\r\n\r\n    return QueryService\r\n      .post('/schedule/shuffle', shuffle)\r\n      .then(_ => {\r\n        this.getData(this.state.date);\r\n        this.setState({ shuffle: null });\r\n      })\r\n      .catch(err => this.setState({ shuffleErrors: err }));\r\n  }\r\n\r\n  shuffleOnSelect(item) {\r\n    //console.log('select', item);\r\n    const shuffle = this.state.shuffle;\r\n    shuffle.unshift(item);\r\n    shuffle.splice(2, 1);\r\n    this.setState({ shuffle });\r\n  }\r\n\r\n  shuffleOnUnselect(index) {\r\n    //console.log('unselect', index);\r\n    const shuffle = this.state.shuffle;\r\n    shuffle.splice(index, 1);\r\n    this.setState({ shuffle });\r\n  }\r\n\r\n  constructReservation(date, hour, court) {\r\n    return {\r\n      date: date.format('YYYY-MM-DD'),\r\n      hour: hour,\r\n      court: court,\r\n      courtId: court.id,\r\n      season: this.state.season,\r\n      seasonId: this.state.season.id,\r\n      administrator: this.state.administrator,\r\n      info: '',\r\n      type: '',\r\n      payments: []\r\n    }\r\n  }\r\n\r\n  scroll(mode) {\r\n    if (mode === 'left')\r\n      this.tableRef.scrollLeft = this.tableRef.scrollLeft - 300;\r\n    if (mode === 'right')\r\n      this.tableRef.scrollLeft = this.tableRef.scrollLeft + 300;\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { season, courts, date } = this.state;\r\n\r\n    if (!season)\r\n      return <Paper style={{ padding: '1rem' }} className=\"container\">\r\n        <Typography variant=\"headline\" align=\"center\" color=\"secondary\">Няма текущ сезон</Typography>\r\n      </Paper>\r\n\r\n    return (\r\n      <UserService.WithApplicationMode>\r\n        {mode => <div className=\"container\">\r\n          <Paper style={{ padding: '1rem' }}>\r\n            <Typography align=\"center\" variant=\"headline\" gutterBottom={true}>\r\n              График - {date.format('DD.MM.YYYY')}\r\n            </Typography>\r\n            <Calendar\r\n              value={date}\r\n              onChange={date => {\r\n                this.setState({ date, shuffle: null });\r\n                this.getData(date);\r\n              }}\r\n            />\r\n\r\n            <Legend />\r\n            <div>\r\n              <Button variant=\"outlined\" color=\"primary\" size=\"small\"\r\n                style={{ marginRight: '.3rem' }}\r\n                onClick={() => this.getData(date)}\r\n              >\r\n                <ReplayIcon />\r\n                <span style={{ marginLeft: '.3rem' }}>Презареди</span>\r\n              </Button>\r\n\r\n              {mode == ApplicationMode.ADMIN\r\n                && <React.Fragment>\r\n                  {this.state.shuffle\r\n                    && <React.Fragment>\r\n                      <ConfirmationDialog\r\n                        title=\"Разместване на резервации\"\r\n                        body={<Typography>Сигурни ли сте че искате да направите разместването?</Typography>}\r\n                        onAccept={() => this.shuffle()}\r\n                      >\r\n                        <Button variant=\"contained\" color=\"primary\">\r\n                          Запис\r\n                      </Button>\r\n                      </ConfirmationDialog>\r\n                      <Button variant=\"outlined\" color=\"primary\"\r\n                        style={{ marginLeft: '.3rem' }}\r\n                        onClick={() => this.setState({ shuffle: null, shuffleErrors: null })}\r\n                      >\r\n                        Отказ\r\n                      </Button>\r\n                    </React.Fragment>}\r\n                  {!this.state.shuffle && <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={() => this.setState({ shuffle: [] })}>\r\n                    <ShuffleIcon />\r\n                    Разместване\r\n                  </Button>}\r\n                </React.Fragment>}\r\n            </div>\r\n\r\n            {this.state.shuffleErrors\r\n              && <div style={{ margin: '1rem 0', color: 'red' }}>\r\n                <span><em>{ErrorTexts[this.state.shuffleErrors.message]}</em></span>\r\n              </div>}\r\n\r\n\r\n\r\n            <div style={{ overflowX: 'auto', scrollBehavior: 'smooth' }} ref={ref => this.tableRef = ref}>\r\n\r\n              <div ref={ref => this.btnContainerRef = ref} style={{ display: 'none' }}>\r\n                <div className={classes.scrollLeft} onClick={() => this.scroll('left')} >\r\n                  <ChevronLeftIcon />\r\n                </div>\r\n\r\n                <div className={classes.scrollRight} onClick={() => this.scroll('right')}>\r\n                  <ChevronRightIcon />\r\n                </div>\r\n              </div>\r\n\r\n              <Table style={{ minWidth: '600px' }} >\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell padding=\"none\" style={{ textAlign: 'center' }}>Час\\Корт</TableCell>\r\n                    {courts.map(court => {\r\n                      return (\r\n                        <TableCell\r\n                          padding=\"none\"\r\n                          style={{ textAlign: 'center' }}\r\n                          key={court.id}\r\n                        >\r\n                          {court.name}\r\n                        </TableCell>\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {getRange(season.workingHoursStart, season.workingHoursEnd - 1).map(hour => {\r\n                    return (\r\n                      <TableRow key={hour}>\r\n                        <TableCell padding=\"none\"\r\n                          classes={{\r\n                            root: classes.hours\r\n                          }}\r\n                        >\r\n                          {getHour(hour)}\r\n                        </TableCell>\r\n\r\n                        {courts.map(court => {\r\n                          if (!this.state.shuffle)\r\n                            return (\r\n                              <Reservation\r\n                                mode={mode}\r\n                                key={court.id}\r\n                                season={this.state.season}\r\n                                reservation={this.getReservation(hour, court)}\r\n                                onChange={_ => this.getData(date)}\r\n                              />\r\n                            );\r\n                          else\r\n                            return (\r\n                              <ShuffleItem\r\n                                key={court.id}\r\n                                shuffle={this.state.shuffle}\r\n                                reservation={this.getReservation(hour, court)}\r\n                                onSelect={(e) => this.shuffleOnSelect(e)}\r\n                                onUnselect={(e) => this.shuffleOnUnselect(e)}\r\n                              />\r\n                            )\r\n                        })}\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          </Paper>\r\n        </div>}\r\n      </UserService.WithApplicationMode>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getRange(start, end) {\r\n  if (!start || !end)\r\n    return [];\r\n  return [...new Array(end - start + 1).keys()].map(e => e + start);\r\n}\r\n\r\nconst ErrorTexts = {\r\n  'invalid': 'Моля изберете две полета за резервация',\r\n  'invalidTime': 'Не може да резмествате вече минали резервации'\r\n};\r\n\r\nexport default withStyles(styles)(Schedule);","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport { getHour } from '../utils';\r\n\r\nconst styles = () => ({\r\n  card: {\r\n    width: '250px',\r\n    margin: '1rem',\r\n    padding: '1rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-start'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '0'\r\n  }\r\n});\r\n\r\nclass CourtItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: 'view'\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.court.id)\r\n      this.setState({ mode: 'create' });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.court != this.props.court)\r\n      if (!this.props.court.id)\r\n        this.setState({ mode: 'create' });\r\n  }\r\n\r\n  handleCancel() {\r\n    if (this.state.mode == 'edit')\r\n      this.setState({ mode: 'view' });\r\n    else this.props.onCreateCancel();\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    const { classes, court } = this.props;\r\n\r\n    if (mode != 'view')\r\n      return <CourtEdit\r\n        mode={mode}\r\n        court={court}\r\n        onChange={model => {\r\n          this.setState({ mode: 'view' });\r\n          this.props.onChange(model);\r\n        }}\r\n        onCancel={() => this.handleCancel()}\r\n      />;\r\n    else\r\n      return (\r\n        <Card classes={{ root: classes.card }} style={{ opacity: court.isActive ? 1 : .5 }}>\r\n          <CardContent classes={{ root: classes.cardContent }}>\r\n            <Typography variant=\"title\" style={{ display: 'flex', alignItems: 'center' }}>\r\n              {court.name}\r\n              {!court.isActive && <Typography variant=\"caption\">(неактивен)</Typography>}\r\n            </Typography>\r\n            <Typography variant=\"caption\">{court.info}</Typography>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>\r\n              Работно време:\r\n              <Typography>{getHour(court.workingHoursStart)} - {getHour(court.workingHoursEnd)}</Typography>\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions classes={{ root: classes.cardActions }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ mode: 'edit' })}>Промяна</Button>\r\n          </CardActions>\r\n        </Card >\r\n      );\r\n  }\r\n}\r\n\r\nclass CourtEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      name: '',\r\n      info: '',\r\n      isActive: true,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.court);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.court != this.props.court)\r\n      this.setState(this.props.court);\r\n  }\r\n\r\n  cancel() {\r\n    this.setState(this.props.court);\r\n    this.props.onCancel();\r\n  }\r\n\r\n  save() {\r\n    if (this.state.id)\r\n      return QueryService\r\n        .post(`/schedule/courts/${this.state.id}`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/courts`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.props;\r\n\r\n    return (\r\n      <Paper style={{ flexBasis: '250px', display: 'flex', flexDirection: 'column', padding: '2rem' }}>\r\n        {mode == 'create' && <Typography align=\"center\" variant=\"headline\">Нов корт</Typography>}\r\n        {mode == 'edit' && <Typography align=\"center\" variant=\"headline\">Промяна на корт</Typography>}\r\n\r\n\r\n        <FormControlLabel\r\n          control={\r\n            <Switch\r\n              checked={this.state.isActive}\r\n              onChange={e => this.setState({ isActive: e.target.value === 'true' })}\r\n              value={this.state.isActive ? 'false' : 'true'}\r\n              color=\"primary\"\r\n            />\r\n          }\r\n          label=\"Активен\"\r\n        />\r\n\r\n        <TextField\r\n          id=\"name\"\r\n          label=\"Наименование\"\r\n          value={this.state.name}\r\n          onChange={(e) => this.setState({ name: e.target.value })}\r\n        />\r\n        <TextField\r\n          id=\"info\"\r\n          label=\"Информация\"\r\n          multiline\r\n          rowsMax=\"4\"\r\n          value={this.state.info}\r\n          onChange={(e) => this.setState({ info: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursStart\"\r\n          label=\"Работно време ОТ\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursStart}\r\n          onChange={(e) => this.setState({ workingHoursStart: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursEnd\"\r\n          label=\"Работно време ДО\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursEnd}\r\n          onChange={(e) => this.setState({ workingHoursEnd: e.target.value })}\r\n        />\r\n\r\n        {this.props.mode == 'create' && <div style={{ margin: '1rem 0 0 0' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Създаване\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n\r\n        {this.props.mode == 'edit' && <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Запис\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(CourtItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport CourtItem from './CourtItem';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center'\r\n  }\r\n});\r\n\r\nclass Courts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      courts: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get(`/schedule/courts`)\r\n      .then(e => this.setState({ courts: e }));\r\n  }\r\n\r\n  updateModel(model, index) {\r\n    const courts = this.state.courts;\r\n    courts[index] = model;\r\n    this.setState({ courts });\r\n  }\r\n\r\n  addCourt() {\r\n    const courts = this.state.courts;\r\n    if (courts.length > 0 && !courts[0].id)\r\n      return;\r\n    const court = {\r\n      info: '',\r\n      name: '',\r\n      isActive: true,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    };\r\n\r\n\r\n    courts.unshift(court);\r\n\r\n    this.setState({ courts: courts });\r\n  }\r\n\r\n  removeCourt(index) {\r\n    const courts = this.state.courts;\r\n    courts.splice(index, 1);\r\n    this.setState({ courts: courts });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Button variant=\"contained\" size=\"medium\" color=\"primary\" onClick={() => this.addCourt()} style={{ marginBottom: '.5rem' }}>\r\n          Добави корт\r\n        </Button>\r\n        <div className={classes.root}>\r\n          {this.state.courts.map((court, index) => {\r\n            return (\r\n              <CourtItem\r\n                key={court.id || 0}\r\n                court={court}\r\n                onChange={model => this.updateModel(model, index)}\r\n                onCreateCancel={() => this.removeCourt(index)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Courts);","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport { getHour } from '../utils';\r\n\r\nconst styles = () => ({\r\n  card: {\r\n    width: '250px',\r\n    margin: '1rem',\r\n    padding: '1rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-start'\r\n  },\r\n  cardContent: {\r\n    paddingBottom: '0'\r\n  }\r\n});\r\n\r\nclass SeasonItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: 'view'\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.season.id)\r\n      this.setState({ mode: 'create' });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.season != this.props.season)\r\n      if (!this.props.season.id)\r\n        this.setState({ mode: 'create' });\r\n  }\r\n\r\n  handleCancel() {\r\n    if (this.state.mode == 'edit')\r\n      this.setState({ mode: 'view' });\r\n    else this.props.onCreateCancel();\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    const { classes, season } = this.props;\r\n\r\n    if (mode != 'view')\r\n      return <SeasonEdit\r\n        mode={mode}\r\n        season={season}\r\n        onChange={model => {\r\n          this.setState({ mode: 'view' });\r\n          this.props.onChange(model);\r\n        }}\r\n        onCancel={() => this.handleCancel()}\r\n      />;\r\n    else\r\n      return (\r\n        <Card classes={{ root: classes.card }}>\r\n          <CardContent classes={{ root: classes.cardContent }}>\r\n            <Typography variant=\"title\" style={{ display: 'flex', alignItems: 'center' }}>\r\n              {season.name}\r\n            </Typography>\r\n            <Typography variant=\"caption\">{season.info}</Typography>\r\n            <Typography style={{ margin: '.3rem 0' }}>\r\n              {new Date(season.seasonStart).toLocaleDateString()} - {new Date(season.seasonEnd).toLocaleDateString()}\r\n            </Typography>\r\n            <Typography variant=\"subheading\" style={{ paddingRight: '1rem' }}>\r\n              Работно време:\r\n              <Typography>{getHour(season.workingHoursStart)} - {getHour(season.workingHoursEnd)}</Typography>\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions classes={{ root: classes.cardActions }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ mode: 'edit' })}>Промяна</Button>\r\n          </CardActions>\r\n        </Card >\r\n      );\r\n  }\r\n}\r\n\r\nclass SeasonEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      name: '',\r\n      info: '',\r\n      seasonStart: null,\r\n      seasonEnd: null,\r\n      workingHoursStart: '',\r\n      workingHoursEnd: '',\r\n      isActive: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.season);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.season != this.props.season)\r\n      this.setState(this.props.season);\r\n  }\r\n\r\n  cancel() {\r\n    this.setState(this.props.season);\r\n    this.props.onCancel();\r\n  }\r\n\r\n  save() {\r\n    if (this.state.id)\r\n      return QueryService\r\n        .post(`/schedule/seasons/${this.state.id}`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n    else\r\n      return QueryService\r\n        .post(`/schedule/seasons`, this.state)\r\n        .then(e => this.props.onChange(e))\r\n        .catch(err => console.log('ERR:', err));\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.props;\r\n\r\n    return (\r\n      <Paper style={{ flexBasis: '250px', display: 'flex', flexDirection: 'column', padding: '2rem' }}>\r\n        {mode == 'create' && <Typography align=\"center\" variant=\"headline\">Нов сезон</Typography>}\r\n        {mode == 'edit' && <Typography align=\"center\" variant=\"headline\">Промяна на сезон</Typography>}\r\n\r\n        <TextField\r\n          id=\"name\"\r\n          label=\"Наименование\"\r\n          value={this.state.name}\r\n          onChange={(e) => this.setState({ name: e.target.value })}\r\n        />\r\n        <TextField\r\n          id=\"info\"\r\n          label=\"Информация\"\r\n          multiline\r\n          rowsMax=\"4\"\r\n          value={this.state.info}\r\n          onChange={(e) => this.setState({ info: e.target.value })}\r\n        />\r\n\r\n        <DatePicker\r\n          autoOk\r\n          label=\"Начало на сезона\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          fullWidth={true}\r\n          value={this.state.seasonStart}\r\n          onChange={value => this.setState({ seasonStart: value })}\r\n        />\r\n\r\n        <DatePicker\r\n          autoOk\r\n          label=\"Край на сезона\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          fullWidth={true}\r\n          value={this.state.seasonEnd}\r\n          onChange={value => this.setState({ seasonEnd: value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursStart\"\r\n          label=\"Работно време ОТ\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursStart}\r\n          onChange={(e) => this.setState({ workingHoursStart: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"workingHoursEnd\"\r\n          label=\"Работно време ДО\"\r\n          type=\"number\"\r\n          value={this.state.workingHoursEnd}\r\n          onChange={(e) => this.setState({ workingHoursEnd: e.target.value })}\r\n        />\r\n\r\n        {this.props.mode == 'create' && <div style={{ margin: '1rem 0 0 0' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Създаване\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n\r\n        {this.props.mode == 'edit' && <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem .5rem 0 0' }}\r\n            onClick={() => this.save()}\r\n          >\r\n            Запис\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ margin: '.5rem 0 0 0' }}\r\n            onClick={() => this.cancel()}\r\n          >\r\n            Отказ\r\n          </Button>\r\n        </div>}\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(SeasonItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport SeasonItem from './SeasonItem';\r\nimport QueryService from '../services/query.service';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center'\r\n  }\r\n});\r\n\r\nclass Seasons extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      seasons: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get(`/schedule/seasons`)\r\n      .then(e => this.setState({ seasons: e }));\r\n  }\r\n\r\n  updateModel(model, index) {\r\n    const seasons = this.state.seasons;\r\n    seasons[index] = model;\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  addSeason() {\r\n    const seasons = this.state.seasons;\r\n    if (seasons.length > 0 && !seasons[0].id)\r\n      return;\r\n\r\n    const season = {\r\n      info: '',\r\n      name: '',\r\n      workingHoursStart: '',\r\n      workingHoursEnd: ''\r\n    };\r\n\r\n    seasons.unshift(season);\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  removeSeason(index) {\r\n    const seasons = this.state.seasons;\r\n    seasons.splice(index, 1);\r\n    this.setState({ seasons });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Button variant=\"contained\" size=\"medium\" color=\"primary\" onClick={() => this.addSeason()} style={{ marginBottom: '.5rem' }}>\r\n          Добави сезон\r\n        </Button>\r\n        <div className={classes.root}>\r\n          {this.state.seasons.map((season, index) => {\r\n            return (\r\n              <SeasonItem\r\n                key={season.id || 0}\r\n                season={season}\r\n                onChange={model => this.updateModel(model, index)}\r\n                onCreateCancel={() => this.removeSeason(index)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Seasons);","import React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\n\r\nexport class SortableTableCell extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active: false,\r\n      direction: 'desc'\r\n    };\r\n\r\n    this.handleClick = () => {\r\n      let { direction, active } = this.state;\r\n\r\n      if (!active)\r\n        active = true;\r\n      else if (direction === 'desc')\r\n        direction = 'asc';\r\n      else\r\n        direction = 'desc';\r\n\r\n\r\n      this.setState({ direction, active });\r\n      this.props.orderHandler(direction);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TableCell onClick={this.handleClick}>\r\n        <TableSortLabel\r\n          active={this.state.active}\r\n          direction={this.state.direction}\r\n        >\r\n          {this.props.children}\r\n        </TableSortLabel>\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nexport function orderData(data, ordering) {\r\n  if (!ordering)\r\n    return;\r\n\r\n  if (ordering[1] === 'asc')\r\n    data.sort((a, b) => b[ordering[0]] - a[ordering[0]]);\r\n  else\r\n    data.sort((a, b) => a[ordering[0]] - b[ordering[0]]);\r\n}\r\n\r\nexport function transformDailyData(data, classifier) {\r\n  const reduced = data\r\n    .reduce((acc, curr) => acc.concat(curr.payments), []);\r\n\r\n  const result = {};\r\n\r\n  Object.keys(classifier).forEach(key => {\r\n    result[classifier[key]] = 0\r\n  });\r\n\r\n  reduced.forEach(e => {\r\n    result[e.type]++\r\n  });\r\n\r\n  return Object.keys(result).map(key => {\r\n    return {\r\n      key,\r\n      count: result[key]\r\n    }\r\n  });\r\n}\r\n\r\nexport function transformMonthlyData(data, classifier) {\r\n  const users = {};\r\n\r\n  data.forEach(e => {\r\n    if (!users[e.customerId]) {\r\n      users[e.customerId] = {\r\n        customer: e.customer,\r\n        payments: {}\r\n      };\r\n\r\n      Object.keys(classifier).forEach(key => {\r\n        users[e.customerId].payments[classifier[key]] = 0\r\n      });\r\n    }\r\n\r\n    e.payments.forEach(payment => users[e.customerId].payments[payment.type]++)\r\n  });\r\n\r\n  return Object.keys(users).map(key => {\r\n    return {\r\n      user: users[key].customer,\r\n      payments: users[key].payments,\r\n      totalCount: Object.keys(users[key].payments).reduce((acc, pKey) => acc + users[key].payments[pKey], 0)\r\n    }\r\n  });\r\n}\r\n\r\nexport function transformToUserPlayedHours(data) {\r\n  const users = {};\r\n\r\n  data.forEach(e => {\r\n    if (!e.customerId)\r\n      return;\r\n\r\n    if (!users[e.customerId]) {\r\n      users[e.customerId] = {\r\n        customer: e.customer,\r\n        totalHours: 0\r\n      };\r\n    }\r\n\r\n    users[e.customerId].totalHours++;\r\n  });\r\n\r\n  return Object.keys(users).map(key => users[key]);\r\n}\r\n\r\nexport function transformByClassifier(data, classifier, customFn = () => null) {\r\n  const result = {};\r\n  const customValue = {};\r\n\r\n  Object.keys(classifier).forEach(key => {\r\n    result[classifier[key]] = 0\r\n  });\r\n\r\n  data.forEach(e => {\r\n    result[e.type]++;\r\n    customValue[e.type] = customFn(customValue[e.type], e);\r\n  });\r\n\r\n  return Object.keys(result).map(key => {\r\n    return {\r\n      key,\r\n      count: result[key],\r\n      custom: customValue[key]\r\n    }\r\n  });\r\n}","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\n\r\nimport { l10n_text } from '../components/L10n';\r\nimport { SortableTableCell, orderData, transformToUserPlayedHours, transformByClassifier } from './utils';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport class UserPlayedHours extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      order: null\r\n    };\r\n\r\n    this.handleOrder = (prop) => (direction) => {\r\n      this.setState({ order: [prop, direction] });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const data = transformToUserPlayedHours(this.props.data);\r\n    orderData(data, this.state.order);\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell style={{ width: '50%' }}>Потребител</TableCell>\r\n            <SortableTableCell orderHandler={this.handleOrder('totalHours')}>\r\n              Изиграни часове\r\n            </SortableTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map(e => {\r\n            return (\r\n              <TableRow key={e.customer.id}>\r\n                <TableCell>\r\n                  <Typography>\r\n                    {e.customer.name}\r\n                    <Typography variant=\"caption\">{e.customer.email}</Typography>\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>{e.totalHours}</TableCell>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableCell>ОБЩО</TableCell>\r\n            <TableCell>{data.reduce((acc, curr) => acc + curr.totalHours, 0)}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport class StatisticByClassifier extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      order: null\r\n    };\r\n\r\n    this.handleOrder = (prop) => (direction) => {\r\n      this.setState({ order: [prop, direction] });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, classifier, translation, label1, label2, customFn, customValueSuffix } = this.props;\r\n    const transformed = transformByClassifier(data, classifier, customFn || (() => null));\r\n    orderData(transformed, this.state.order);\r\n\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell style={{ width: '50%' }}>{label1}</TableCell>\r\n            <SortableTableCell orderHandler={this.handleOrder('count')}>\r\n              {label2}\r\n            </SortableTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {transformed.map(e => {\r\n            return (\r\n              <TableRow key={e.key}>\r\n                <TableCell>{l10n_text(e.key, translation)}</TableCell>\r\n                <TableCell>\r\n                  {e.count}\r\n                  {e.custom && <span style={{ marginLeft: '.3rem' }}>({e.custom}{customValueSuffix})</span>}\r\n                </TableCell>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableCell>ОБЩО</TableCell>\r\n            <TableCell>{transformed.reduce((acc, curr) => acc + curr.count, 0)}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","import moment from 'moment';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport Calendar from '../components/calendar/Calendar';\r\nimport QueryService from '../services/query.service';\r\nimport { StatisticsType, ReservationPayment, ReservationType } from '../enums';\r\nimport { UserPlayedHours, StatisticByClassifier } from './MonthlyStatistics';\r\n\r\nclass StatisticsRoot extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: moment().startOf('date'),\r\n      type: StatisticsType.MONTHLY,\r\n      data: []\r\n    };\r\n\r\n    this.handleCalendarChange = (date) => {\r\n      this.setState({ date });\r\n      this.getData(date, this.state.type);\r\n    }\r\n\r\n    this.handleStatisticsChange = (_, value) => {\r\n      this.setState({ type: value });\r\n      this.getData(this.state.date, value);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData(this.state.date, this.state.type);\r\n  }\r\n\r\n  getData(date, type) {\r\n    return QueryService\r\n      .post('/statistics', { date: date.format('YYYY-MM-DD'), type })\r\n      .then(data => this.setState({ data }));\r\n  }\r\n\r\n  render() {\r\n    const { date, type, data } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ padding: '1rem' }}>\r\n          <Typography></Typography>\r\n          <Typography align=\"center\" variant=\"headline\" gutterBottom={true}>\r\n            Справки\r\n          </Typography>\r\n          <Calendar\r\n            emitDateOnAnyChange={true}\r\n            value={date}\r\n            onChange={this.handleCalendarChange}\r\n          />\r\n\r\n          <Tabs value={type} onChange={this.handleStatisticsChange} textColor=\"primary\">\r\n            <Tab value={StatisticsType.MONTHLY} label=\"Месечна\"></Tab>\r\n            <Tab value={StatisticsType.DAILY} label=\"Дневна\"></Tab>\r\n          </Tabs>\r\n\r\n          {type == StatisticsType.MONTHLY && <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по потребители</Typography>\r\n            <UserPlayedHours data={data} />\r\n          </div>}\r\n\r\n          {type == StatisticsType.MONTHLY && <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по вид резервация</Typography>\r\n            <StatisticByClassifier\r\n              label1=\"Вид резервация\"\r\n              label2=\"Регистрирани резервации\"\r\n              classifier={ReservationType}\r\n              translation=\"ReservationType\"\r\n              data={data} />\r\n          </div>}\r\n\r\n          <div style={{ margin: '2rem 0' }}>\r\n            <Typography variant=\"subheading\">Справка по регистрирани плащания</Typography>\r\n            <StatisticByClassifier\r\n              label1=\"Метод на плащане\"\r\n              label2=\"Регистрирани плащания\"\r\n              classifier={ReservationPayment}\r\n              translation=\"ReservationPayment\"\r\n              customFn={paymentsAmountAccumulator}\r\n              customValueSuffix=\" лв.\"\r\n              data={reduceToPayments(data)} />\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction reduceToPayments(data) {\r\n  return data.reduce((acc, curr) => acc.concat(curr.payments), []);\r\n}\r\n\r\nfunction paymentsAmountAccumulator(current, payment) {\r\n  if (payment.amount)\r\n    return (current || 0) + parseFloat(payment.amount);\r\n  else return current;\r\n}\r\n\r\nexport default StatisticsRoot;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport DatePicker from 'material-ui-pickers/DatePicker';\r\n\r\nimport EnumSelect from '../components/EnumSelect';\r\nimport { Gender, CourtType, PlayStyle, BackhandType } from '../enums';\r\n\r\nclass UserModel {\r\n  constructor(props) {\r\n    this.UserAccountData = this.UserAccountData.bind(this);\r\n    this.UserAccountSecondaryData = this.UserAccountSecondaryData.bind(this);\r\n    this.UserPlayerMainData = this.UserPlayerMainData.bind(this);\r\n    this.UserPlayerSecondaryData = this.UserPlayerSecondaryData.bind(this);\r\n  }\r\n\r\n  get() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      telephone: '',\r\n      gender: '',\r\n      birthDate: null,\r\n      startedPlaying: '',\r\n      playStyle: '',\r\n      courtType: '',\r\n      backhandType: '',\r\n      reservationDebt: 0,\r\n      subscriptionDebt: 0\r\n    };\r\n  }\r\n\r\n  getErrorsModel() {\r\n    return {\r\n      email: [],\r\n      password: [],\r\n      confirmPassword: [],\r\n      firstName: [],\r\n      lastName: [],\r\n      telephone: [],\r\n      gender: [],\r\n      birthDate: [],\r\n      startedPlaying: [],\r\n      playStyle: [],\r\n      courtType: [],\r\n      backhandType: [],\r\n      reservationDebt: [],\r\n      subscriptionDebt: []\r\n    };\r\n  }\r\n\r\n  composeErrors(errors, name) {\r\n    if (errors[name].length > 0)\r\n      return <span>\r\n        {errors[name].map((err, i) => {\r\n          return (\r\n            <span\r\n              key={i}\r\n              style={{ display: 'block' }}\r\n            >\r\n              {UET[name][err]}\r\n            </span>\r\n          );\r\n        })}\r\n      </span>\r\n    else\r\n      return null;\r\n  }\r\n\r\n  UserAccountData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          value={user.email}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.email.length > 0}\r\n          helperText={this.composeErrors(errors, 'email')}\r\n          onChange={onChange('email')}\r\n        />\r\n\r\n        {!user.id && <TextField\r\n          id=\"password\"\r\n          label=\"Парола\"\r\n          type=\"password\"\r\n          value={user.password}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.password.length > 0}\r\n          helperText={this.composeErrors(errors, 'password')}\r\n          onChange={onChange('password')}\r\n        />}\r\n\r\n        {!user.id && <TextField\r\n          id=\"confirmPassword\"\r\n          label=\"Повтори парола\"\r\n          type=\"password\"\r\n          value={user.confirmPassword}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.confirmPassword.length > 0}\r\n          helperText={this.composeErrors(errors, 'confirmPassword')}\r\n          onChange={onChange('confirmPassword')}\r\n        />}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserAccountSecondaryData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          id=\"reservationDebt\"\r\n          label=\"Дължим брой часове\"\r\n          type=\"number\"\r\n          value={user.reservationDebt}\r\n          fullWidth={true}\r\n          error={errors.reservationDebt.length > 0}\r\n          helperText={this.composeErrors(errors, 'reservationDebt')}\r\n          onChange={onChange('reservationDebt')}\r\n        />\r\n\r\n        <TextField\r\n          id=\"reservationDebt\"\r\n          label=\"Дължим членски внос\"\r\n          type=\"number\"\r\n          value={user.subscriptionDebt}\r\n          fullWidth={true}\r\n          InputProps={{\r\n            endAdornment: <InputAdornment position=\"end\">Лв.</InputAdornment>\r\n          }}\r\n          error={errors.subscriptionDebt.length > 0}\r\n          helperText={this.composeErrors(errors, 'subscriptionDebt')}\r\n          onChange={onChange('subscriptionDebt')}\r\n        />\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserPlayerMainData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <TextField\r\n          label=\"Име\"\r\n          value={user.firstName}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.firstName.length > 0}\r\n          helperText={this.composeErrors(errors, 'firstName')}\r\n          onChange={onChange('firstName')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Фамилия\"\r\n          value={user.lastName}\r\n          required={true}\r\n          fullWidth={true}\r\n          error={errors.lastName.length > 0}\r\n          helperText={this.composeErrors(errors, 'lastName')}\r\n          onChange={onChange('lastName')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Телефон\"\r\n          required={true}\r\n          fullWidth={true}\r\n          value={user.telephone}\r\n          error={errors.telephone.length > 0}\r\n          helperText={this.composeErrors(errors, 'telephone')}\r\n          onChange={onChange('telephone')}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  UserPlayerSecondaryData(props) {\r\n    const { user, onChange, errors } = props;\r\n    return (\r\n      <React.Fragment>\r\n        <DatePicker\r\n          autoOk\r\n          openToYearSelection\r\n          label=\"Дата на раждане\"\r\n          labelFunc={(date) => date ? new Date(date).toLocaleDateString() : ''}\r\n          clearable\r\n          required={true}\r\n          fullWidth={true}\r\n          value={user.birthDate}\r\n          error={errors.birthDate.length > 0}\r\n          helperText={this.composeErrors(errors, 'birthDate')}\r\n          onChange={onChange('birthDate', true)}\r\n        />\r\n\r\n        <EnumSelect\r\n          label=\"Пол\"\r\n          value={user.gender}\r\n          required={true}\r\n          error={errors.gender.length > 0}\r\n          errorText={this.composeErrors(errors, 'gender')}\r\n          onChange={onChange('gender')}\r\n          EnumValues={Gender}\r\n          EnumName=\"Gender\" />\r\n\r\n        <TextField\r\n          id=\"startedPlaying\"\r\n          label=\"Започнах да играя през\"\r\n          fullWidth={true}\r\n          value={user.startedPlaying}\r\n          error={errors.startedPlaying.length > 0}\r\n          helperText={this.composeErrors(errors, 'startedPlaying')}\r\n          onChange={onChange('startedPlaying')}\r\n          type=\"number\"\r\n        />\r\n\r\n        <EnumSelect\r\n          label=\"Играя със\"\r\n          value={user.playStyle}\r\n          error={errors.playStyle.length > 0}\r\n          errorText={this.composeErrors(errors, 'playStyle')}\r\n          onChange={onChange('playStyle')}\r\n          EnumValues={PlayStyle}\r\n          EnumName=\"PlayStyle\" />\r\n\r\n        <EnumSelect\r\n          label=\"Бекхенд\"\r\n          value={user.backhandType}\r\n          error={errors.backhandType.length > 0}\r\n          errorText={this.composeErrors(errors, 'backhandType')}\r\n          onChange={onChange('backhandType')}\r\n          EnumValues={BackhandType}\r\n          EnumName=\"BackhandType\" />\r\n\r\n        <EnumSelect\r\n          label=\"Любима настилка\"\r\n          value={user.courtType}\r\n          error={errors.courtType.length > 0}\r\n          errorText={this.composeErrors(errors, 'courtType')}\r\n          onChange={onChange('courtType')}\r\n          EnumValues={CourtType}\r\n          EnumName=\"CourtType\" />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n//User Errors Transliteration\r\nconst UET = {\r\n  email: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден имейл',\r\n    unique: 'Съществува потребител с такъв имейл'\r\n  },\r\n  password: {\r\n    required: 'Задължително поле',\r\n    short: 'Паролата трябва да бъде поне 6 символа'\r\n  },\r\n  confirmPassword: {\r\n    required: 'Задължително поле',\r\n    mismatch: 'Паролите не свъпадат'\r\n  },\r\n  firstName: {\r\n    required: 'Задължително поле',\r\n  },\r\n  lastName: {\r\n    required: 'Задължително поле',\r\n  },\r\n  telephone: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден телефонен номер'\r\n  },\r\n  gender: {\r\n    required: 'Задължително поле',\r\n    invalid: 'Невалиден пол'\r\n  },\r\n  birthDate: {\r\n    invalid: 'Невалидна дата на раждане',\r\n    required: 'Задължително поле',\r\n  },\r\n  startedPlaying: {\r\n    invalid: 'Невалидна година',\r\n    future: 'Годината не може да е в бъдещето',\r\n    range: 'Годината не може да е преди датата на раждане'\r\n  },\r\n  playStyle: {\r\n    invalid: 'Невалидно поле'\r\n  },\r\n  courtType: {\r\n    invalid: 'Невалидно поле'\r\n  },\r\n  backhandType: {\r\n    invalid: 'Невалидно поле'\r\n  }\r\n};\r\n\r\nexport default new UserModel();","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserModel from '../users/user.model';\r\n\r\nclass UserDetailsModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: UserModel.get(),\r\n      errors: UserModel.getErrorsModel()\r\n    }\r\n\r\n    this.handleChange = (prop, custom = false) => (event) => {\r\n      let user = this.state.user;\r\n      user[prop] = (custom ? event : event.target.value);\r\n      this.setState({ user });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user)\r\n      this.setState({ user: this.props.user });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user != this.props.user && this.props.user)\r\n      this.setState({ user: this.props.user, errors: UserModel.getErrorsModel() });\r\n  }\r\n\r\n  save() {\r\n    const { user } = this.state;\r\n\r\n    if (user.id)\r\n      return QueryService\r\n        .post(`/users/${user.id}`, user)\r\n        .then(_ => this.props.onChange())\r\n        .catch(err => this.setState({ errors: err }));\r\n    else\r\n      return QueryService\r\n        .post(`/users`, user)\r\n        .then(_ => this.props.onChange())\r\n        .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, onClose, classes, fullScreen } = this.props;\r\n    const { user, errors } = this.state;\r\n    if (!this.props.user)\r\n      return null;\r\n\r\n    return (\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            {user.name || 'Нов потребител'}\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                color=\"primary\"\r\n                checked={user.isActive}\r\n                onClick={() => this.handleChange('isActive', true)(!user.isActive)}\r\n              />\r\n            }\r\n            label={user.isActive ? 'Активен' : 'Неактивен'}\r\n          />\r\n\r\n          <UserModel.UserAccountData user={user} onChange={this.handleChange} errors={errors} />\r\n          <UserModel.UserPlayerMainData user={user} onChange={this.handleChange} errors={errors} />\r\n\r\n          <Typography\r\n            style={{ margin: '1rem 0 .3rem 0' }}\r\n            variant=\"subheading\"\r\n            color=\"primary\">Допълнителна информация за акаунт</Typography>\r\n          <UserModel.UserAccountSecondaryData user={user} onChange={this.handleChange} errors={errors} />\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button>\r\n          <Button variant=\"outlined\" color=\"primary\" className={classes.btn} onClick={onClose}>\r\n            Отказ\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(UserDetailsModal)\r\n);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserService from '../services/user.service';\r\nimport L10n from '../components/L10n';\r\nimport QueryService from '../services/query.service';\r\nimport { SubscriptionType } from '../enums';\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport EnumSelect from '../components/EnumSelect';\r\n\r\nclass UserSubscriptionsModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: UserService.getUser(),\r\n      subscriptions: []\r\n    };\r\n\r\n    this.handleChange = (index) => (newValue) => {\r\n      const subscriptions = this.state.subscriptions;\r\n      subscriptions[index] = newValue\r\n      this.setState({ subscriptions });\r\n      this.props.onChange(subscriptions);\r\n    }\r\n\r\n    this.handleDelete = (index) => () => {\r\n      const subscriptions = this.state.subscriptions;\r\n      subscriptions.splice(index, 1);\r\n      this.setState({ subscriptions });\r\n      this.props.onChange(subscriptions);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user != this.props.user && this.props.user != null)\r\n      this.init();\r\n  }\r\n\r\n  init() {\r\n    this.setState({\r\n      subscriptions: JSON.parse(JSON.stringify(this.props.user.subscriptions))\r\n    });\r\n  }\r\n\r\n  addSubscription() {\r\n    const { subscriptions } = this.state;\r\n    if (subscriptions.length > 0 && !subscriptions[0].id)\r\n      return;\r\n\r\n    subscriptions.unshift({\r\n      customerId: this.props.user.id,\r\n      season: this.props.season,\r\n      seasonId: this.props.season.id,\r\n      administrator: this.state.administrator,\r\n      totalHours: 0,\r\n      remainingHours: 0,\r\n      type: ''\r\n    });\r\n\r\n    this.setState(subscriptions);\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, user, onClose, classes, fullScreen } = this.props;\r\n    const { subscriptions } = this.state;\r\n\r\n    if (!this.props.user)\r\n      return null;\r\n\r\n    return (\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        fullScreen={fullScreen}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <DialogTitle>\r\n          <DialogContentText variant=\"headline\">\r\n            Абонаменти на {user.name}\r\n          </DialogContentText>\r\n        </DialogTitle>\r\n        <DialogContent >\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\"\r\n            style={{ marginBottom: '1rem' }}\r\n            onClick={() => this.addSubscription()}\r\n          >\r\n            Добави абонамент\r\n          </Button>\r\n\r\n          {subscriptions.map((sub, index) => <Subscription\r\n            key={sub.id || 0}\r\n            model={sub}\r\n            onChange={this.handleChange(index)}\r\n            onDelete={this.handleDelete(index)}\r\n          />)}\r\n\r\n          {subscriptions.length == 0 && <Typography variant=\"caption\">Няма регистрирани абонаменти</Typography>}\r\n        </DialogContent>\r\n\r\n        <DialogActions className={classes.btnContainer}>\r\n          {/* <Button variant=\"contained\" color=\"primary\" className={classes.btn} onClick={() => this.save()}>\r\n            Запис\r\n          </Button> */}\r\n          <Button variant=\"outlined\" color=\"primary\" size=\"small\" className={classes.btn} onClick={onClose}>\r\n            <ArrowBackIcon />\r\n            Назад\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nclass Subscription extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      administrator: {},\r\n      season: {},\r\n      type: '',\r\n      totalHours: 0,\r\n      remainingHours: 0,\r\n      isEditMode: false,\r\n      expanded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      ...JSON.parse(JSON.stringify(this.props.model)),\r\n      isEditMode: !this.props.model.id,\r\n      expanded: !this.props.model.id\r\n    });\r\n  }\r\n\r\n  save() {\r\n    let query = null\r\n    if (this.state.id)\r\n      query = QueryService\r\n        .post(`/subscriptions/${this.state.id}`, this.state);\r\n    else\r\n      query = QueryService\r\n        .post(`/subscriptions`, this.state)\r\n\r\n    return query\r\n      .then(e => {\r\n        this.props.onChange(e);\r\n        this.setState({ ...e, isEditMode: false });\r\n      })\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  remove() {\r\n    return QueryService\r\n      .delete(`/subscriptions/${this.state.id}`)\r\n      .then(_ => this.props.onDelete())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  cancelEdit() {\r\n    if (!this.state.id)\r\n      return this.props.onDelete();\r\n    else\r\n      return this.setState({\r\n        ...JSON.parse(JSON.stringify(this.props.model)),\r\n        isEditMode: false\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const model = this.state;\r\n\r\n    return (\r\n      <ExpansionPanel expanded={model.expanded}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          onClick={() => this.setState({ expanded: !model.expanded })}\r\n        >\r\n          <Typography color=\"primary\" style={{ flexBasis: '50%' }}>\r\n            Абонамент\r\n            <L10n\r\n              style={{ marginLeft: '.3rem' }}\r\n              translate=\"SubscriptionType\"\r\n            >\r\n              {model.type}\r\n            </L10n>\r\n          </Typography>\r\n          <Typography color=\"textSecondary\">{model.season.name}</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexDirection: 'column' }}>\r\n          <Typography variant=\"caption\">\r\n            Администрирал:\r\n            <Typography>{model.administrator.name}</Typography>\r\n          </Typography>\r\n\r\n          {!this.state.isEditMode && <React.Fragment>\r\n            <Typography variant=\"caption\">\r\n              Тип абонамент:\r\n              <Typography>\r\n                <L10n\r\n                  translate=\"SubscriptionType\"\r\n                >\r\n                  {model.type}\r\n                </L10n>\r\n              </Typography>\r\n            </Typography>\r\n\r\n            <Typography variant=\"caption\">\r\n              Общо часове:\r\n              <Typography>{model.totalHours}</Typography>\r\n            </Typography>\r\n\r\n            <Typography variant=\"caption\">\r\n              Оставащи часове\r\n              <Typography>{model.remainingHours}</Typography>\r\n            </Typography>\r\n          </React.Fragment>}\r\n\r\n          {this.state.isEditMode && <React.Fragment>\r\n            <EnumSelect\r\n              label=\"Тип абонамент\"\r\n              value={model.type}\r\n              fullWidth={true}\r\n              onChange={(e) => this.setState({ type: e.target.value })}\r\n              EnumValues={SubscriptionType}\r\n              EnumName=\"SubscriptionType\"\r\n            />\r\n\r\n            <TextField\r\n              label=\"Общо часове\"\r\n              type=\"number\"\r\n              value={model.totalHours}\r\n              onChange={(e) => this.setState({ totalHours: e.target.value })}\r\n              fullWidth={true}\r\n            />\r\n\r\n            <Typography variant=\"caption\" style={{ marginTop: '.5rem' }}>\r\n              Оставащи часове (ще бъде обновено след запис)\r\n              <Typography>{model.remainingHours}</Typography>\r\n            </Typography>\r\n          </React.Fragment>}\r\n\r\n          {this.state.isEditMode && <div style={{ marginTop: '.5rem' }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              style={{ marginRight: '.3rem' }}\r\n              onClick={() => this.save()}\r\n            >\r\n              Запис\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              onClick={() => this.cancelEdit()}\r\n            >\r\n              Отказ\r\n            </Button>\r\n          </div>}\r\n\r\n          {!this.state.isEditMode && <div style={{ marginTop: '.5rem' }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              style={{ marginRight: '.3rem' }}\r\n              onClick={() => this.setState({ isEditMode: true })}\r\n            >\r\n              Редакция\r\n            </Button>\r\n\r\n            <ConfirmationDialog\r\n              title=\"Изтриване на абонамент\"\r\n              body={<Typography>Сигурни ли сте че искате да изтриете абонамента</Typography>}\r\n              onAccept={() => this.remove()}\r\n              style={{ marginTop: '.5rem' }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n              >\r\n                Изтриване\r\n            </Button>\r\n            </ConfirmationDialog>\r\n          </div>}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: '600px',\r\n    padding: '0'\r\n  },\r\n  btnContainer: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  btn: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '.3rem',\r\n      width: '100%'\r\n    }\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(UserSubscriptionsModal)\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\nimport QueryService from '../services/query.service';\r\nimport UserModel from '../users/user.model';\r\nimport UserDetailsModal from './UserDetailsModal';\r\nimport UserSubscriptionsModal from './UserSubscriptionsModal';\r\n\r\nclass Users extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentSeason: null,\r\n      page: 0,\r\n      rowsPerPage: 10,\r\n      users: [],\r\n      usersFilter: '',\r\n      page: 0,\r\n      editUser: null,\r\n      subsUser: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    QueryService\r\n      .get('/schedule/config')\r\n      .then(({ season }) => this.setState({ currentSeason: season }));\r\n\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    return QueryService\r\n      .get('/users')\r\n      .then(e => this.setState({ users: e }));\r\n  }\r\n\r\n  filterUsers() {\r\n    if (this.state.usersFilter.length > 0)\r\n      return this.state.users.filter(e => e.name.indexOf(this.state.usersFilter) != -1);\r\n    else return this.state.users;\r\n  }\r\n\r\n  prepareForEdit(user) {\r\n    const names = user.name.split(' ');\r\n    user.firstName = names[0];\r\n    user.lastName = names[1];\r\n    user.startedPlaying = parseInt(user.startedPlaying) || '';\r\n    return user;\r\n  }\r\n\r\n  updateSubscriptions(user, subscriptions) {\r\n    const index = this.state.users.findIndex(e => e.id == user.id);\r\n    const users = this.state.users;\r\n    users[index].subscriptions = subscriptions;\r\n    this.setState({ users, subsUser: users[index] });\r\n  }\r\n\r\n  remove(index) {\r\n    const users = this.state.users;\r\n\r\n    return QueryService\r\n      .delete(`/users/${users[index].id}`)\r\n      .then(_ => {\r\n        users.splice(index, 1);\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => null);\r\n  }\r\n\r\n  render() {\r\n    const { usersFilter, page, rowsPerPage } = this.state;\r\n    const users = this.filterUsers(usersFilter);\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper style={{ padding: '1rem' }}>\r\n          <Typography variant=\"headline\">Потребители</Typography>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => this.setState({ editUser: UserModel.get() })}>\r\n            Нов потребител\r\n          </Button>\r\n          <TextField\r\n            label=\"Търсене по име\"\r\n            value={usersFilter}\r\n            fullWidth={true}\r\n            onChange={(e) => this.setState({ usersFilter: e.target.value })}\r\n          />\r\n\r\n          <UserDetailsModal\r\n            user={this.state.editUser}\r\n            isOpen={this.state.editUser != null}\r\n            onChange={() => {\r\n              this.setState({ editUser: null })\r\n              this.getData();\r\n            }}\r\n            onClose={() => this.setState({ editUser: null })}\r\n          />\r\n\r\n          <UserSubscriptionsModal\r\n            user={this.state.subsUser}\r\n            season={this.state.currentSeason}\r\n            isOpen={this.state.subsUser != null}\r\n            onChange={(subscriptions) => this.updateSubscriptions(this.state.subsUser, subscriptions)}\r\n            onClose={() => this.setState({ subsUser: null })}\r\n          />\r\n\r\n          <Hidden xsDown>\r\n            <Table padding=\"none\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Име</TableCell>\r\n                  <TableCell>Създаден</TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}>Активен</TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}>Администратор</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {users.slice(page * rowsPerPage, (page + 1) * rowsPerPage).map((user, index) => {\r\n                  return (\r\n                    <TableRow key={user.id}>\r\n                      <TableCell>\r\n                        <Link to={`/users/${user.id}`}>\r\n                          <Typography variant=\"body2\">{user.name}</Typography>\r\n                        </Link>\r\n                        <Typography style={{ fontStyle: 'italic' }}>\r\n                          {user.email}\r\n                        </Typography>\r\n                      </TableCell>\r\n\r\n                      <TableCell>{new Date(user.createdAt).toLocaleDateString()}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{user.isActive && <DoneIcon color=\"action\" />}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{user.isAdmin && <DoneIcon color=\"action\" />}</TableCell>\r\n                      <TableCell>\r\n                        <Tooltip title=\"редакция\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                          <IconButton color=\"primary\" onClick={() => this.setState({ editUser: this.prepareForEdit(user) })}>\r\n                            {/* <BuildIcon /> */}\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"абонаменти\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                          <IconButton color=\"primary\" onClick={() => this.setState({ subsUser: user })}>\r\n                            <DescriptionOutlinedIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <ConfirmationDialog\r\n                          title=\"Изтриване на потребител\"\r\n                          body={<Typography>Сигурни ли сте че искате да изтриете {user.name}</Typography>}\r\n                          onAccept={() => this.remove(index)}\r\n                        >\r\n                          <Tooltip title=\"изтриване\" placement=\"top-start\" TransitionComponent={Zoom} enterDelay={500}>\r\n                            <IconButton color=\"secondary\">\r\n                              <DeleteForeverIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </ConfirmationDialog>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              </TableBody>\r\n            </Table>\r\n            <TablePagination\r\n              component=\"div\"\r\n              count={users.length}\r\n              rowsPerPage={rowsPerPage}\r\n              rowsPerPageOptions={[10, 25, 50]}\r\n              labelRowsPerPage=\"Покажи:\"\r\n              labelDisplayedRows={({ from, to, count }) => `${from}-${to} от ${count}`}\r\n              page={page}\r\n              onChangePage={(e, page) => this.setState({ page })}\r\n              onChangeRowsPerPage={e => this.setState({ rowsPerPage: e.target.value, page: 0 })}\r\n            />\r\n          </Hidden>\r\n\r\n          <Hidden smUp>\r\n            <List>\r\n              {users.map((user, index) => {\r\n                return (\r\n                  <React.Fragment key={index}>\r\n                    <ListItem style={{ padding: '0', justifyContent: 'space-between' }}>\r\n                      <div>\r\n                        <Link to={`/users/${user.id}`}>\r\n                          <Typography variant=\"body2\">{user.name}</Typography>\r\n                        </Link>\r\n                        <Typography style={{ fontStyle: 'italic' }}>\r\n                          {user.email}\r\n                        </Typography>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <IconButton color=\"primary\" onClick={() => this.setState({ editUser: this.prepareForEdit(user) })}>\r\n                          <BuildIcon />\r\n                        </IconButton>\r\n                        <IconButton color=\"primary\" onClick={() => this.setState({ subsUser: user })}>\r\n                          <DescriptionOutlinedIcon />\r\n                        </IconButton>\r\n                        <ConfirmationDialog\r\n                          title=\"Изтриване на потребител\"\r\n                          body={<Typography>Сигурни ли сте че искате да изтриете {user.name}</Typography>}\r\n                          onAccept={() => this.remove(index)}\r\n                        >\r\n                          <IconButton color=\"secondary\">\r\n                            <DeleteForeverIcon />\r\n                          </IconButton>\r\n                        </ConfirmationDialog>\r\n                      </div>\r\n                    </ListItem>\r\n                    <Divider />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </List>\r\n          </Hidden>\r\n\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { dispatchEvent } from '../services/events.service';\r\n\r\nclass Guest extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { routes, classes, currentRoute } = this.props;\r\n\r\n    return (\r\n      <Toolbar className={classes.root}>\r\n        {/* DESKTOP */}\r\n        <Hidden smDown>\r\n          {routes.map(route => {\r\n            return (\r\n              <Link to={route.to} key={route.id}>\r\n                <Button color=\"primary\" size=\"large\" variant={route.id == currentRoute ? 'outlined' : 'text'}>\r\n                  {route.name}\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n\r\n          <Button color=\"primary\" size=\"large\" onClick={() => dispatchEvent('menu-login')}>\r\n            Вход\r\n          </Button>\r\n        </Hidden>\r\n\r\n        {/* MOBILE */}\r\n        <Hidden mdUp>\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        <Drawer\r\n          anchor=\"right\"\r\n          open={this.state.drawerOpen}\r\n          onClose={() => this.setState({ drawerOpen: false })}\r\n        // onOpen={() => this.setState({ drawerOpen: true })}\r\n        >\r\n          <div\r\n            style={{ width: '250px' }}\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={() => this.setState({ drawerOpen: false })}\r\n            onKeyDown={() => this.setState({ drawerOpen: false })}\r\n          >\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '1rem' }}>\r\n              <Hidden mdUp>\r\n                <IconButton onClick={() => this.setState({ drawerOpen: false })}>\r\n                  <MenuIcon />\r\n                </IconButton>\r\n              </Hidden>\r\n            </div>\r\n\r\n            <List>\r\n              {routes.map(route => {\r\n                return (\r\n                  <Link to={route.to} key={route.id}>\r\n                    <ListItem button>\r\n                      {route.Icon && <ListItemIcon>\r\n                        <route.Icon />\r\n                      </ListItemIcon>}\r\n                      <ListItemText primary={route.name} />\r\n                    </ListItem>\r\n                  </Link>\r\n                );\r\n              })}\r\n\r\n              <ListItem button>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Вход\" onClick={() => dispatchEvent('menu-login')} />\r\n              </ListItem>\r\n            </List>\r\n          </div>\r\n        </Drawer>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\nexport default Guest;            ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\n\r\nimport UserService from '../services/user.service';\r\n\r\nclass Admin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { routes, additionalRoutes, classes, currentRoute } = this.props;\r\n\r\n    return (\r\n      <Toolbar className={classes.root}>\r\n        {/* DESKTOP */}\r\n        <Hidden smDown>\r\n          {routes.map(route => {\r\n            return (\r\n              <Link to={route.to} key={route.id}>\r\n                <Button color=\"primary\" size=\"large\" variant={route.id == currentRoute ? 'outlined' : 'text'}>\r\n                  {route.name}\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <SettingsIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        {/* MOBILE */}\r\n        <Hidden mdUp>\r\n          <IconButton color=\"primary\" onClick={() => this.setState({ drawerOpen: true })}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n\r\n        <Drawer\r\n          anchor=\"right\"\r\n          open={this.state.drawerOpen}\r\n          onClose={() => this.setState({ drawerOpen: false })}\r\n        // onOpen={() => this.setState({ drawerOpen: true })}\r\n        >\r\n          <div\r\n            className={classes.list}\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={() => this.setState({ drawerOpen: false })}\r\n            onKeyDown={() => this.setState({ drawerOpen: false })}\r\n          >\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '1rem' }}>\r\n              <Hidden mdUp>\r\n                <IconButton onClick={() => this.setState({ drawerOpen: false })}>\r\n                  <MenuIcon />\r\n                </IconButton>\r\n              </Hidden>\r\n            </div>\r\n            <Hidden mdUp >\r\n              <List>\r\n                {routes.map(route => {\r\n                  return (\r\n                    <Link to={route.to} key={route.id}>\r\n                      <ListItem button>\r\n                        {route.Icon && <ListItemIcon>\r\n                          <route.Icon />\r\n                        </ListItemIcon>}\r\n                        <ListItemText primary={route.name} />\r\n                      </ListItem>\r\n                    </Link>\r\n                  );\r\n                })}\r\n              </List>\r\n              <Divider />\r\n            </Hidden>\r\n\r\n            <List>\r\n              {additionalRoutes.map(route => {\r\n                return (\r\n                  <Link to={route.to} key={route.id}>\r\n                    <ListItem button>\r\n                      {route.Icon && <ListItemIcon>\r\n                        <route.Icon />\r\n                      </ListItemIcon>}\r\n                      <ListItemText primary={route.name} />\r\n                    </ListItem>\r\n                  </Link>\r\n                );\r\n              })}\r\n              <a>\r\n                <ListItem button onClick={() => UserService.logout()} >\r\n                  <ListItemIcon>\r\n                    <PowerSettingsNewIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary=\"Изход\" />\r\n                </ListItem>\r\n              </a>\r\n            </List>\r\n          </div>\r\n        </Drawer>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport BuildRoundedIcon from '@material-ui/icons/BuildRounded';\r\nimport ViewQuiltRoundedIcon from '@material-ui/icons/ViewQuiltRounded';\r\nimport WbSunnyRoundedIcon from '@material-ui/icons/WbSunnyRounded';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\r\n\r\nimport Guest from './Guest';\r\nimport Admin from './Admin';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    justifyContent: 'flex-end',\r\n    paddingRight: 0\r\n  },\r\n  list: {\r\n    width: '250px'\r\n  }\r\n});\r\n\r\nclass NavigationModel {\r\n  constructor() {\r\n    this.routes = [\r\n      { id: 1, to: '/schedule', name: 'График', Icon: CalendarTodayIcon },\r\n      { id: 8, to: '/editions', name: 'Турнири' },\r\n      // { id: 2, to: '/players', name: 'Играчи' }\r\n    ];\r\n    this.adminRoutes = [\r\n      { id: 6, to: '/admin/users', name: 'Потребители', Icon: PersonIcon },\r\n      { id: 5, to: '/admin/seasons', name: 'Сезони', Icon: WbSunnyRoundedIcon },\r\n      { id: 4, to: '/admin/courts', name: 'Кортове', Icon: ViewQuiltRoundedIcon },\r\n      { id: 7, to: '/admin/statistics', name: 'Справки', Icon: AssessmentIcon }\r\n      // { id: 7, to: '/admin/subscriptions', name: 'Абонаменти', Icon: LoyaltyIcon },\r\n      // { id: 3, to: '/admin/config', name: 'Настройки', Icon: BuildRoundedIcon }\r\n    ];\r\n\r\n    this.userRoutes = [\r\n      { id: 8, to: '/account', name: 'Профил', Icon: PersonIcon }\r\n    ]\r\n\r\n    this.Guest = withRoutes(this.routes)(withStyles(styles)(Guest));\r\n    this.User = withRoutes(this.routes, this.userRoutes)(withStyles(styles)(Admin));\r\n    this.Admin = withRoutes(this.routes, this.adminRoutes)(withStyles(styles)(Admin));\r\n\r\n    const { Provider, Consumer } = React.createContext(0);\r\n    this.SetCurrentRoute = Provider;\r\n    this.WithCurrentRoute = Consumer;\r\n  }\r\n}\r\n\r\nexport function withRoutes(routes, additionalRoutes) {\r\n  return (WrappedComponent) => {\r\n    return class extends React.Component {\r\n      render() {\r\n        return <WrappedComponent {...this.props} routes={routes} additionalRoutes={additionalRoutes} />\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new NavigationModel();","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport List from '@material-ui/core/List';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserService from '../services/user.service';\r\nimport QueryService from '../services/query.service';\r\nimport { l10n_text } from '../components/L10n';\r\nimport { getHour } from '../utils';\r\n\r\nclass UserProfile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loggedInUser: UserService.getUser(),\r\n      user: {},\r\n      subscriptions: null,\r\n      reservations: null,\r\n      subsCollapsed: true,\r\n      resCollapsed: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    const id = this.props.match.params.id || this.state.loggedInUser.id;\r\n    return QueryService\r\n      .get(`/users/${id}`)\r\n      .then(e => this.setState(e));\r\n  }\r\n\r\n  render() {\r\n    const { user, reservations, subscriptions, subsCollapsed, resCollapsed } = this.state;\r\n    const { mode, classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography classes={{ root: classes.sectionHeadline }} variant=\"headline\">{user.name}</Typography>\r\n            {/* <Typography variant=\"caption\">\r\n              E-mail\r\n              <Typography>{user.email}</Typography>\r\n            </Typography> */}\r\n          </CardContent>\r\n          <CardActions>\r\n          </CardActions>\r\n        </Card>\r\n\r\n        {reservations != null && <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography\r\n              variant=\"headline\"\r\n              classes={{ root: classes.sectionHeadline }}\r\n              onClick={() => this.setState({ resCollapsed: !resCollapsed })}\r\n            >\r\n              <span>Резервации</span>\r\n              <Typography component=\"em\">\r\n                Дължим брой часове: {user.reservationDebt}\r\n              </Typography>\r\n              {resCollapsed && <ExpandLessIcon />}\r\n              {!resCollapsed && <ExpandMoreIcon />}\r\n            </Typography>\r\n            {resCollapsed\r\n              && <React.Fragment>\r\n                <List>\r\n                  {reservations.map(reservation => {\r\n                    return (\r\n                      <Typography classes={{ root: classes.listItemRoot }} key={reservation.id}>\r\n                        {l10n_text(reservation.type, \"CustomReservationType\")}\r\n                        <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{reservation.court.name}</Typography>\r\n                        {!reservation.isActive && <Typography component=\"span\" color=\"secondary\">ОТМЕНЕНО</Typography>}\r\n                        <Typography component=\"span\" variant=\"caption\">\r\n                          {reservation.season.name}\r\n                          <span style={{ marginLeft: '1rem' }}>{new Date(reservation.date).toLocaleDateString()}</span>\r\n                          <span style={{ marginLeft: '1rem' }}>\r\n                            {getHour(reservation.hour)} - {getHour(reservation.hour + 1)}\r\n                          </span>\r\n                        </Typography>\r\n                      </Typography>\r\n                    );\r\n                  })}\r\n                </List>\r\n                {reservations.length == 0 && <Typography variant=\"caption\">Няма регистрирани резервации.</Typography>}\r\n              </React.Fragment>}\r\n          </CardContent>\r\n        </Card>}\r\n\r\n        {subscriptions != null && <Card classes={{ root: classes.sectionRoot }}>\r\n          <CardContent classes={{ root: classes.cardContentRoot }}>\r\n            <Typography\r\n              variant=\"headline\"\r\n              classes={{ root: classes.sectionHeadline }}\r\n              onClick={() => this.setState({ subsCollapsed: !subsCollapsed })}\r\n            >\r\n              <span>Абонаменти</span>\r\n              <Typography component=\"em\">\r\n                Дължим членски внос: {user.subscriptionDebt}лв.\r\n              </Typography>\r\n              {subsCollapsed && <ExpandLessIcon />}\r\n              {!subsCollapsed && <ExpandMoreIcon />}\r\n            </Typography>\r\n            {subsCollapsed\r\n              && <React.Fragment>\r\n                <List>\r\n                  {subscriptions.map(subscription => {\r\n                    return (\r\n                      <Typography classes={{ root: classes.listItemRoot }} key={subscription.id}>\r\n                        Абонамент {l10n_text(subscription.type, \"SubscriptionType\")}\r\n                        <Typography component=\"span\" variant=\"caption\" style={{ display: 'inline', marginLeft: '1rem' }}>{subscription.season.name}</Typography>\r\n                        <Typography component=\"span\" variant=\"caption\">{subscription.remainingHours} оставащи часове</Typography>\r\n                      </Typography>\r\n                    );\r\n                  })}\r\n                </List>\r\n                {subscriptions.length == 0 && <Typography variant=\"caption\">Няма регистрирани абонаменти.</Typography>}\r\n              </React.Fragment>}\r\n          </CardContent>\r\n        </Card>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  sectionRoot: {\r\n    marginBottom: '1rem'\r\n  },\r\n  cardContentRoot: {\r\n    '&:last-child': {\r\n    }\r\n  },\r\n  sectionHeadline: {\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    justifyContent: 'space-between'\r\n  },\r\n  listItemRoot: {\r\n    padding: '.3rem 0',\r\n    borderBottom: '1px solid lightgrey'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(UserProfile);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass AccountActivation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      err: false,\r\n      success: false,\r\n      timer: 5\r\n    };\r\n    this.interval = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.props.location.search.split('?token=')[1];\r\n    return QueryService\r\n      .get(`/users/activation?token=${token}`)\r\n      .then(_ => {\r\n        this.setState({ success: true, err: false });\r\n        this.interval = setInterval(() => {\r\n          if (this.state.timer === 0) {\r\n            clearInterval(this.interval);\r\n            this.props.history.replace('/');\r\n          } else {\r\n            this.setState({ timer: this.state.timer - 1 });\r\n          }\r\n        }, 1000);\r\n      })\r\n      .catch(_ => this.setState({ err: true, success: false }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Paper className={classes.root}>\r\n          <Typography align=\"center\" variant=\"headline\">Активация на акунт</Typography>\r\n          {this.state.success && <Typography align=\"center\" variant=\"subheading\" color=\"primary\" className={classes.success}>\r\n            Активацията на Вашият акаунт беше успешна!\r\n          </Typography>}\r\n\r\n          {this.state.success && <Typography align=\"center\" variant=\"headline\" style={{ fontWeight: 700, fontSize: '1.3em' }}>{this.state.timer}</Typography>}\r\n\r\n          {this.state.err && <Typography align=\"center\" variant=\"subheading\" color=\"secondary\" className={classes.error}>\r\n            Невалиден или изтекъл ключ за активация.\r\n        </Typography>}\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(AccountActivation);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass RecoveryStep1 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      error: null,\r\n      success: false\r\n    };\r\n  }\r\n\r\n  issueRecoverEmail() {\r\n    this.setState({ error: null, success: false });\r\n    return QueryService\r\n      .get(`/users/recovery/step1?email=${this.state.email}`)\r\n      .then(_ => {\r\n        this.setState({ success: true })\r\n        setTimeout(() => this.props.history.replace('/'), 5000);\r\n      })\r\n      .catch(err => this.setState({ error: err }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return <div className=\"container\">\r\n      <Paper elevation={0} className={classes.root}>\r\n        <Typography variant=\"headline\">Възстановяване на забравена парола</Typography>\r\n        <TextField\r\n          id=\"email\"\r\n          label=\"E-mail\"\r\n          type=\"text\"\r\n          value={this.state.email}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ email: e.target.value })}\r\n        />\r\n\r\n        {this.state.success && <Typography\r\n          variant=\"subheading\"\r\n          color=\"primary\"\r\n          className={classes.success}>\r\n          Успешно изпратен имейл с инструкции за възстановяване на парола.\r\n        </Typography>}\r\n\r\n        {this.state.error && <Typography\r\n          variant=\"subheading\"\r\n          color=\"secondary\"\r\n          className={classes.error}>\r\n          {this.state.error.message}\r\n        </Typography>}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ marginTop: '1rem', padding: '0 2rem' }}\r\n          onClick={() => this.issueRecoverEmail()}\r\n        >\r\n          Изпрати\r\n        </Button>\r\n      </Paper>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(RecoveryStep1);","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\n\r\nclass RecoveryStep2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      error: null,\r\n      success: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ token: this.props.location.search.split('?token=')[1] });\r\n  }\r\n\r\n  recover() {\r\n    this.setState({ error: null, success: false });\r\n    return QueryService\r\n      .post(`/users/recovery/step2`, { token: this.state.token, password: this.state.password, confirmPassword: this.state.confirmPassword })\r\n      .then(_ => {\r\n        this.setState({ success: true });\r\n        setTimeout(() => this.props.history.replace('/'), 5000);\r\n      })\r\n      .catch(err => this.setState({ error: err }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return <div className=\"container\">\r\n      <Paper elevation={0} className={classes.root}>\r\n        <Typography variant=\"headline\">Възстановяване на забравена парола</Typography>\r\n\r\n        <TextField\r\n          id=\"password\"\r\n          label=\"Парола\"\r\n          type=\"password\"\r\n          value={this.state.password}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ password: e.target.value })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"confirmPassword\"\r\n          label=\"Повтори парола\"\r\n          type=\"password\"\r\n          value={this.state.confirmPassword}\r\n          fullWidth={true}\r\n          error={this.state.error}\r\n          onChange={e => this.setState({ confirmPassword: e.target.value })}\r\n        />\r\n\r\n        {this.state.success && <Typography\r\n          variant=\"subheading\"\r\n          color=\"primary\"\r\n          className={classes.success}>\r\n          Смяната на паролата ви беше успешна!\r\n        </Typography>}\r\n\r\n        {this.state.error && <Typography\r\n          variant=\"subheading\"\r\n          color=\"secondary\"\r\n          className={classes.error}>\r\n          {this.state.error.message}\r\n        </Typography>}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ marginTop: '1rem', padding: '0 2rem' }}\r\n          onClick={() => this.recover()}\r\n        >\r\n          Потвърждаване\r\n        </Button>\r\n      </Paper>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    padding: '3rem',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh'\r\n    }\r\n  },\r\n  success: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: '700'\r\n  },\r\n  error: {\r\n    marginTop: '2rem',\r\n    color: theme.palette.secondary.dark,\r\n    fontWeight: '700'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(RecoveryStep2);","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport NotFoundPage from './NotFoundPage';\r\nimport SchemesRoot from '../schemes/SchemesRoot';\r\nimport EliminationBracket from '../schemes/brackets/EliminationBracket';\r\nimport EditionsRoot from '../editions/new/EditionsRoot';\r\nimport Schedule from '../schedule/Schedule';\r\nimport Courts from '../admin/Courts';\r\nimport Seasons from '../admin/Seasons';\r\nimport Statistics from '../statistics/Statistics';\r\nimport Users from '../admin/Users';\r\nimport NavigationModel from '../menu/navigation.model';\r\nimport UserService from '../services/user.service';\r\nimport UserProfile from '../users/UserProfile';\r\nimport AccountActivation from '../login/Activation';\r\nimport RecoveryStep1 from '../login/RecoveryStep1';\r\nimport RecoveryStep2 from '../login/RecoveryStep2';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nconst routeMapping = {\r\n  '/schedule': Schedule,\r\n  '/players': NotFoundPage,\r\n  '/admin/courts': Courts,\r\n  '/admin/seasons': Seasons,\r\n  '/admin/users': Users,\r\n  '/admin/statistics': Statistics,\r\n  '/account': UserProfile\r\n};\r\n\r\nconst AppRouting = () => (\r\n  <UserService.WithApplicationMode>\r\n    {mode => <Switch>\r\n      {/* <Route path=\"/news\" component={News} /> */}\r\n      {/* <Route path=\"/tournaments\" component={null} /> */}\r\n      <Route path=\"/editions\" component={EditionsRoot} />\r\n      <Route path=\"/schemes\" component={SchemesRoot} />\r\n      <Route path=\"/schemes/:id/elimination\" component={EliminationBracket} />\r\n\r\n      {NavigationModel.routes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {mode == ApplicationMode.ADMIN && NavigationModel.adminRoutes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {mode == ApplicationMode.USER && NavigationModel.userRoutes.map(route => {\r\n        return (\r\n          <Route key={route.id} path={route.to} component={routeMapping[route.to]} mode={mode} />\r\n        );\r\n      })}\r\n\r\n      {(mode == ApplicationMode.USER || mode == ApplicationMode.ADMIN)\r\n        && <Route path=\"/users/:id\" render={(props) => <UserProfile {...props} mode={mode} />} />}\r\n\r\n      <Route path=\"/oops\" component={NotFoundPage} />\r\n      <Route path=\"/account/activation\" render={(props) => <AccountActivation {...props} />} />\r\n      <Route path=\"/recovery/step1\" render={(props) => <RecoveryStep1 {...props} />} />\r\n      <Route path=\"/recovery/step2\" render={(props) => <RecoveryStep2 {...props} />} />\r\n      <Route exact path=\"/\">\r\n        <Redirect to=\"/schedule\" />\r\n      </Route>\r\n      <Route component={NotFoundPage} />\r\n    </Switch>\r\n    }\r\n  </UserService.WithApplicationMode>\r\n);\r\n\r\nexport default AppRouting;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport QueryService from '../services/query.service';\r\nimport UserService from '../services/user.service';\r\nimport { dispatchEvent } from '../services/events.service';\r\n\r\nconst styles = (theme) => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    //width: 250,\r\n    //margin: '1.5rem auto'\r\n  },\r\n  link: {\r\n    color: theme.palette.primary.main,\r\n    padding: '.3rem 0',\r\n    '&:hover': {\r\n      color: theme.palette.primary.dark,\r\n      borderBottom: '1px solid',\r\n      borderColor: theme.palette.primary.main,\r\n    }\r\n  }\r\n});\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      hasError: false\r\n    };\r\n\r\n    this.handleChange = (name) => (event) => {\r\n      this.setState({\r\n        [name]: event.target.value\r\n      });\r\n    }\r\n  }\r\n\r\n  login() {\r\n    QueryService\r\n      .post(`/login`, this.state)\r\n      .then(({ token }) => {\r\n        UserService.login(token);\r\n        this.props.onClose();\r\n      })\r\n      .catch(() => {\r\n        this.setState({ hasError: true });\r\n        //setTimeout(() => this.setState({ hasError: false }), 10 * 1000);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <form className={classes.form} onKeyDown={e => e.key === 'Enter' ? this.login() : null}>\r\n        <TextField\r\n          label=\"Email\"\r\n          fullWidth={true}\r\n          value={this.state.email}\r\n          onChange={this.handleChange('email')}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Парола\"\r\n          fullWidth={true}\r\n          type=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.handleChange('password')}\r\n        />\r\n\r\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginTop: '1rem', padding: '0 4rem' }}\r\n            onClick={() => this.login()}\r\n          >\r\n            Вход\r\n        </Button>\r\n        </div>\r\n        {this.state.hasError && <em style={{ color: 'red', marginTop: '.5rem' }}>Невалидна комбинация от потребителско име и парола</em>}\r\n        <div style={{ marginTop: '.5rem', display: 'flex', justifyContent: 'center' }}>\r\n          <Link to=\"/recovery/step1\" className={classes.link} onClick={this.props.onClose}>\r\n            Забравена парола?\r\n        </Link>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Login);","import React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport UserModel from '../users/user.model';\r\nimport QueryService from '../services/query.service';\r\n\r\nconst styles = (theme) => ({\r\n  action: {\r\n    marginTop: '1rem',\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  },\r\n  focused: {\r\n    marginTop: '.5rem',\r\n    color: 'orange'\r\n  }\r\n});\r\n\r\nclass RegistrationStepper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeStep: 0,\r\n      completed: [false, false, false],\r\n      user: UserModel.get(),\r\n      errors: UserModel.getErrorsModel()\r\n    }\r\n\r\n    this.handleChange = (prop, custom = false) => (event) => {\r\n      let user = this.state.user;\r\n      user[prop] = (custom ? event : event.target.value);\r\n      this.setState({\r\n        user: user\r\n      });\r\n    }\r\n\r\n    this.changeStep = (value) => () => {\r\n      let completed = this.state.completed;\r\n      completed[this.state.activeStep] = true;\r\n      this.setState({ activeStep: value, completed: completed });\r\n    }\r\n  }\r\n\r\n  register() {\r\n    this.setState({ errors: UserModel.getErrorsModel() });\r\n    return QueryService\r\n      .post(`/users`, this.state.user)\r\n      .then(_ => this.props.onSuccess())\r\n      .catch(err => this.setState({ errors: err }));\r\n  }\r\n\r\n  render() {\r\n    const { user, activeStep, completed, errors } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <UserModel.UserAccountData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} />\r\n\r\n        <UserModel.UserPlayerMainData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} />\r\n\r\n        {/* <UserModel.UserPlayerSecondaryData\r\n          user={user}\r\n          errors={errors}\r\n          onChange={this.handleChange} /> */}\r\n\r\n        <div style={{ margin: '1rem 0' }}>\r\n          <em>\r\n            Натискайки бутонът \"Регистрация\", Вие се съгласявате при нужда да бъдете потърсени по\r\n            телефонния номер, който сте предоставили.\r\n          </em>\r\n          <div className={classes.action}>\r\n            <Button style={{ marginRight: '.3rem', padding: '0 2rem' }} variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => this.register()}>\r\n              Регистрация\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass StepActions extends React.Component {\r\n  render() {\r\n    const { activeStep, changeStep, finalStep, className } = this.props;\r\n\r\n    return (\r\n      <div className={className}>\r\n        {activeStep != 0 && <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          disabled={activeStep === 0}\r\n          onClick={changeStep(activeStep - 1)}\r\n        >\r\n          Назад\r\n          </Button>}\r\n\r\n        <Button\r\n          style={{ marginLeft: '.3rem' }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          onClick={changeStep(activeStep + 1)}\r\n        >\r\n          {activeStep === finalStep ? 'Приключване' : 'Продължи'}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withStyles(styles)(RegistrationStepper);\r\n\r\n// render() {\r\n//   const { user, activeStep, completed, errors } = this.state;\r\n//   const { classes } = this.props;\r\n\r\n//   return (\r\n//     <React.Fragment>\r\n//       <Stepper\r\n//         nonLinear\r\n//         activeStep={activeStep}\r\n//         orientation=\"vertical\"\r\n//       >\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             onClick={this.changeStep(0)}\r\n//             completed={completed[0]}\r\n//             error={errors.email.length\r\n//               + errors.password.length\r\n//               + errors.confirmPassword.length > 0}\r\n//           >\r\n//             Данни за акаунт\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserAccountData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             completed={completed[1]}\r\n//             onClick={this.changeStep(1)}\r\n//             error={errors.firstName.length\r\n//               + errors.lastName.length\r\n//               + errors.telephone.length\r\n//               + errors.gender.length\r\n//               + errors.birthDate.length > 0}\r\n//           >\r\n//             Основни данни за играч\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserPlayerMainData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//         <Step>\r\n//           <StepLabel\r\n//             style={{ cursor: 'pointer' }}\r\n//             onClick={this.changeStep(2)}\r\n//             completed={completed[2]}\r\n//             error={errors.startedPlaying.length\r\n//               + errors.playStyle.length\r\n//               + errors.courtType.length\r\n//               + errors.backhandType.length > 0}\r\n//           >\r\n//             Допълнителни данни за играч\r\n//             </StepLabel>\r\n//           <StepContent>\r\n//             <UserModel.UserPlayerSecondaryData\r\n//               user={user}\r\n//               errors={errors}\r\n//               onChange={this.handleChange} />\r\n\r\n//             <StepActions\r\n//               activeStep={activeStep}\r\n//               finalStep={2}\r\n//               className={classes.action}\r\n//               changeStep={this.changeStep} />\r\n//           </StepContent>\r\n//         </Step>\r\n//       </Stepper>\r\n\r\n//       {activeStep === 3 && <div>\r\n//         <em>\r\n//           Натискайки бутонът \"Регистрация\" Вие се съгласявате да получавате съобщения относно\r\n//           статуса на турнири за които сте записани, както и при нужда да бъдете потърсени по\r\n//           телефонния номер който сте задали.\r\n//           </em>\r\n//         <div className={classes.action}>\r\n//           <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={this.changeStep(0)}>\r\n//             Промяна\r\n//           </Button>\r\n\r\n//           <Button style={{ marginLeft: '.3rem' }} variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => this.register()}>\r\n//             Регистрация\r\n//           </Button>\r\n//         </div>\r\n//       </div>\r\n//       }\r\n//     </React.Fragment>\r\n//   );\r\n// }","import React from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport Button from '@material-ui/core/Button';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Login from './Login';\r\nimport Registration from './Registration';\r\nimport EventService from '../services/events.service';\r\n\r\nconst styles = (theme) => ({\r\n  centered: {\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  },\r\n  smallContainer: {\r\n    width: 320\r\n  },\r\n  closeBtn: {\r\n    position: 'absolute',\r\n    color: theme.palette.primary.main,\r\n    top: '5px',\r\n    right: '5px',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      color: theme.palette.primary.dark\r\n    }\r\n  }\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      index: 0,\r\n      open: false,\r\n      successfulRegistration: false\r\n    };\r\n\r\n    this.handleTabChange = (event, index) => {\r\n      this.setState({ index });\r\n    };\r\n\r\n    this.handleRegistration = () => {\r\n      this.setState({ successfulRegistration: true, open: false });\r\n      setTimeout(() => this.setState({ successfulRegistration: false }), 5000);\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    EventService.catchEvent('menu-login', () => this.setState({ open: true }));\r\n  }\r\n\r\n  render() {\r\n    const { index, open, successfulRegistration } = this.state;\r\n    const { classes, fullScreen } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Dialog\r\n          open={open}\r\n          fullScreen={fullScreen}\r\n          onClose={() => this.setState({ open: false, index: 0 })}\r\n          aria-labelledby=\"login-dialog\"\r\n        >\r\n          <DialogTitle id=\"login-dialog\"\r\n            className={classes.centered}\r\n          >\r\n            <Tabs\r\n              className={classes.smallContainer}\r\n              centered={true}\r\n              value={index}\r\n              onChange={this.handleTabChange}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n            >\r\n              <Tab label=\"Вход\" key=\"1\" />\r\n              <Tab label=\"Регистрация\" key=\"2\" />\r\n            </Tabs>\r\n            <span className={classes.closeBtn} onClick={() => this.setState({ open: false, index: 0 })}>\r\n              <ClearIcon />\r\n            </span>\r\n          </DialogTitle>\r\n          <DialogContent\r\n            className={classes.centered}>\r\n            <SwipeableViews\r\n              className={classes.smallContainer}\r\n              index={index}\r\n              onChangeIndex={(index) => this.handleTabChange(null, index)}\r\n            >\r\n              <Login onClose={() => this.setState({ open: false, index: 0 })} />\r\n              <Registration onSuccess={this.handleRegistration} />\r\n            </SwipeableViews>\r\n          </DialogContent>\r\n          <DialogActions>\r\n\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={successfulRegistration}\r\n          fullScreen={fullScreen}\r\n          onClose={() => this.setState({ successfulRegistration: false })}\r\n          aria-labelledby=\"successful-registration\"\r\n        >\r\n          <DialogContent>\r\n            <Typography variant=\"headline\" color=\"primary\" align=\"center\">\r\n              Регистрацията Ви беше успешна!\r\n            </Typography>\r\n            <Typography variant=\"subheading\" align=\"center\">\r\n              На зададеният от Вас имейл е изпратено съобщение, с което може да активирате вашият акаунт.</Typography>\r\n            <Typography variant=\"caption\" color=\"secondary\" align=\"center\">\r\n              В случай, че не получавате имейл за активация, моля потърсете някой\r\n              от администраторите на системата, който да активира вашият акаунт.\r\n            </Typography>\r\n          </DialogContent>\r\n          <DialogActions style={{ justifyContent: 'center' }}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\"\r\n              onClick={() => this.setState({ successfulRegistration: false })}\r\n            >\r\n              Добре\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(\r\n  withMobileDialog({ breakpoint: 'xs' })(SignIn)\r\n);","import React from 'react';\r\n\r\nimport NavigationModel from './navigation.model';\r\nimport UserService from '../services/user.service';\r\nimport { ApplicationMode } from '../enums';\r\n\r\nclass Navigation extends React.Component {\r\n  render() {\r\n    return (\r\n      <UserService.WithApplicationMode>\r\n        {mode => <NavigationModel.WithCurrentRoute>\r\n          {currentRoute => <div className=\"container\" style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1.5rem', alignItems: 'center' }}>\r\n            <img src=\"assets/logo3.png\" />\r\n            {mode == ApplicationMode.GUEST && <NavigationModel.Guest currentRoute={currentRoute} />}\r\n            {mode == ApplicationMode.USER && <NavigationModel.User currentRoute={currentRoute} />}\r\n            {mode == ApplicationMode.ADMIN && <NavigationModel.Admin currentRoute={currentRoute} />}\r\n          </div>}\r\n        </NavigationModel.WithCurrentRoute>}\r\n      </UserService.WithApplicationMode>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#828A00',\r\n      // '#629900'\r\n      contrastText: '#fff'\r\n    },\r\n    secondary: {\r\n      // main: '#E87114',\r\n      main: '#f47521',\r\n      contrastText: '#fff'\r\n    }\r\n  },\r\n  overrides: {\r\n    MuiFormControl: {\r\n      root: {\r\n        marginTop: '.5rem'\r\n      }\r\n    },\r\n    MuiTypography: {\r\n      caption: {\r\n        fontStyle: 'italic'\r\n      },\r\n      body2: {\r\n        color: '#629900'\r\n      }\r\n    },\r\n    MuiDrawer: {\r\n      modal: {\r\n        zIndex: 1200\r\n      }\r\n    }\r\n  }\r\n});","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport MuiPickersUtilsProvider from 'material-ui-pickers/MuiPickersUtilsProvider';\r\nimport DateFnsUtils from 'material-ui-pickers/utils/date-fns-utils';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport AppRouting from './app.routing';\r\nimport SignIn from '../login/SignIn';\r\nimport Navigation from '../menu/Navigation';\r\nimport { catchEvent } from '../services/events.service';\r\nimport UserService from '../services/user.service';\r\nimport NavigationModel from '../menu/navigation.model';\r\nimport { ApplicationMode } from '../enums';\r\nimport theme from '../theme';\r\nimport './app.styles.scss';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const user = UserService.getUser();\r\n    this.state = {\r\n      applicationMode: (user ? (\r\n        user.isAdmin ? ApplicationMode.ADMIN : ApplicationMode.USER)\r\n        : ApplicationMode.GUEST),\r\n      currentRoute: 0\r\n    }\r\n\r\n    this.handleLoginTab = (event, index) => {\r\n      this.setState({ index });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.body.classList.add('background');\r\n    catchEvent('not-found', () => this.props.history.replace('/oops'));\r\n    catchEvent('login', () => this.setState({\r\n      applicationMode: UserService.isAdmin() ? ApplicationMode.ADMIN : ApplicationMode.USER\r\n    }));\r\n    catchEvent('logout', () => {\r\n      this.setState({\r\n        applicationMode: ApplicationMode.GUEST\r\n      });\r\n      this.props.history.replace('/');\r\n    });\r\n    this.onRouteChanged(this.props.location);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      this.onRouteChanged(this.props.location);\r\n    }\r\n  }\r\n\r\n  onRouteChanged(location) {\r\n    var route = (NavigationModel.routes\r\n      .find(route => location.pathname.indexOf(route.to) != -1)\r\n      || NavigationModel.adminRoutes\r\n        .find(route => location.pathname.indexOf(route.to) != -1));\r\n    if (route)\r\n      this.setState({ currentRoute: route.id });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <UserService.SetApplicationMode value={this.state.applicationMode}>\r\n            <NavigationModel.SetCurrentRoute value={this.state.currentRoute}>\r\n              <div className=\"wrapper\">\r\n                <Navigation />\r\n                {/* <Home /> */}\r\n                <SignIn />\r\n                <AppRouting />\r\n              </div>\r\n            </NavigationModel.SetCurrentRoute>\r\n          </UserService.SetApplicationMode>\r\n        </MuiThemeProvider>\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById(\"root\")\r\n);","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nexport default () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\n"],"sourceRoot":""}